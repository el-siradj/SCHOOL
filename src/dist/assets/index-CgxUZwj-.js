var Rm=Object.defineProperty;var Dm=(t,e,s)=>e in t?Rm(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var Ae=(t,e,s)=>Dm(t,typeof e!="symbol"?e+"":e,s);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=s(a);fetch(a.href,i)}})();/**
* @vue/shared v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ed(t){const e=Object.create(null);for(const s of t.split(","))e[s]=1;return s=>s in e}const et={},xa=[],Rs=()=>{},Lh=()=>!1,br=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),$d=t=>t.startsWith("onUpdate:"),_t=Object.assign,Md=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},Pm=Object.prototype.hasOwnProperty,Xe=(t,e)=>Pm.call(t,e),Ne=Array.isArray,_a=t=>Ki(t)==="[object Map]",Ua=t=>Ki(t)==="[object Set]",Oc=t=>Ki(t)==="[object Date]",Fe=t=>typeof t=="function",lt=t=>typeof t=="string",bs=t=>typeof t=="symbol",Ze=t=>t!==null&&typeof t=="object",Fh=t=>(Ze(t)||Fe(t))&&Fe(t.then)&&Fe(t.catch),Bh=Object.prototype.toString,Ki=t=>Bh.call(t),Om=t=>Ki(t).slice(8,-1),Vh=t=>Ki(t)==="[object Object]",Td=t=>lt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,di=Ed(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),vr=t=>{const e=Object.create(null);return s=>e[s]||(e[s]=t(s))},Nm=/-\w/g,ls=vr(t=>t.replace(Nm,e=>e.slice(1).toUpperCase())),Im=/\B([A-Z])/g,Rn=vr(t=>t.replace(Im,"-$1").toLowerCase()),yr=vr(t=>t.charAt(0).toUpperCase()+t.slice(1)),el=vr(t=>t?`on${yr(t)}`:""),wn=(t,e)=>!Object.is(t,e),Po=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},jh=(t,e,s,n=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:n,value:s})},xr=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Lm=t=>{const e=lt(t)?Number(t):NaN;return isNaN(e)?t:e};let Nc;const _r=()=>Nc||(Nc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function vs(t){if(Ne(t)){const e={};for(let s=0;s<t.length;s++){const n=t[s],a=lt(n)?jm(n):vs(n);if(a)for(const i in a)e[i]=a[i]}return e}else if(lt(t)||Ze(t))return t}const Fm=/;(?![^(]*\))/g,Bm=/:([^]+)/,Vm=/\/\*[^]*?\*\//g;function jm(t){const e={};return t.replace(Vm,"").split(Fm).forEach(s=>{if(s){const n=s.split(Bm);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function Ee(t){let e="";if(lt(t))e=t;else if(Ne(t))for(let s=0;s<t.length;s++){const n=Ee(t[s]);n&&(e+=n+" ")}else if(Ze(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const Um="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",zm=Ed(Um);function Uh(t){return!!t||t===""}function Hm(t,e){if(t.length!==e.length)return!1;let s=!0;for(let n=0;s&&n<t.length;n++)s=Yi(t[n],e[n]);return s}function Yi(t,e){if(t===e)return!0;let s=Oc(t),n=Oc(e);if(s||n)return s&&n?t.getTime()===e.getTime():!1;if(s=bs(t),n=bs(e),s||n)return t===e;if(s=Ne(t),n=Ne(e),s||n)return s&&n?Hm(t,e):!1;if(s=Ze(t),n=Ze(e),s||n){if(!s||!n)return!1;const a=Object.keys(t).length,i=Object.keys(e).length;if(a!==i)return!1;for(const o in t){const r=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(r&&!l||!r&&l||!Yi(t[o],e[o]))return!1}}return String(t)===String(e)}function Rd(t,e){return t.findIndex(s=>Yi(s,e))}const zh=t=>!!(t&&t.__v_isRef===!0),$=t=>lt(t)?t:t==null?"":Ne(t)||Ze(t)&&(t.toString===Bh||!Fe(t.toString))?zh(t)?$(t.value):JSON.stringify(t,Hh,2):String(t),Hh=(t,e)=>zh(e)?Hh(t,e.value):_a(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[n,a],i)=>(s[tl(n,i)+" =>"]=a,s),{})}:Ua(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>tl(s))}:bs(e)?tl(e):Ze(e)&&!Ne(e)&&!Vh(e)?String(e):e,tl=(t,e="")=>{var s;return bs(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};/**
* @vue/reactivity v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let qt;class Wm{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=qt,!e&&qt&&(this.index=(qt.scopes||(qt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].pause();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].resume();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].resume()}}run(e){if(this._active){const s=qt;try{return qt=this,e()}finally{qt=s}}}on(){++this._on===1&&(this.prevScope=qt,qt=this)}off(){this._on>0&&--this._on===0&&(qt=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(this.effects.length=0,s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0}}}function qm(){return qt}let st;const sl=new WeakSet;class Wh{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,qt&&qt.active&&qt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,sl.has(this)&&(sl.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Gh(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Ic(this),Kh(this);const e=st,s=hs;st=this,hs=!0;try{return this.fn()}finally{Yh(this),st=e,hs=s,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Od(e);this.deps=this.depsTail=void 0,Ic(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?sl.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Fl(this)&&this.run()}get dirty(){return Fl(this)}}let qh=0,ci,ui;function Gh(t,e=!1){if(t.flags|=8,e){t.next=ui,ui=t;return}t.next=ci,ci=t}function Dd(){qh++}function Pd(){if(--qh>0)return;if(ui){let e=ui;for(ui=void 0;e;){const s=e.next;e.next=void 0,e.flags&=-9,e=s}}let t;for(;ci;){let e=ci;for(ci=void 0;e;){const s=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(n){t||(t=n)}e=s}}if(t)throw t}function Kh(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Yh(t){let e,s=t.depsTail,n=s;for(;n;){const a=n.prevDep;n.version===-1?(n===s&&(s=a),Od(n),Gm(n)):e=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=a}t.deps=e,t.depsTail=s}function Fl(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Jh(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Jh(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===$i)||(t.globalVersion=$i,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Fl(t))))return;t.flags|=2;const e=t.dep,s=st,n=hs;st=t,hs=!0;try{Kh(t);const a=t.fn(t._value);(e.version===0||wn(a,t._value))&&(t.flags|=128,t._value=a,e.version++)}catch(a){throw e.version++,a}finally{st=s,hs=n,Yh(t),t.flags&=-3}}function Od(t,e=!1){const{dep:s,prevSub:n,nextSub:a}=t;if(n&&(n.nextSub=a,t.prevSub=void 0),a&&(a.prevSub=n,t.nextSub=void 0),s.subs===t&&(s.subs=n,!n&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)Od(i,!0)}!e&&!--s.sc&&s.map&&s.map.delete(s.key)}function Gm(t){const{prevDep:e,nextDep:s}=t;e&&(e.nextDep=s,t.prevDep=void 0),s&&(s.prevDep=e,t.nextDep=void 0)}let hs=!0;const Xh=[];function Zs(){Xh.push(hs),hs=!1}function en(){const t=Xh.pop();hs=t===void 0?!0:t}function Ic(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const s=st;st=void 0;try{e()}finally{st=s}}}let $i=0;class Km{constructor(e,s){this.sub=e,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Nd{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!st||!hs||st===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==st)s=this.activeLink=new Km(st,this),st.deps?(s.prevDep=st.depsTail,st.depsTail.nextDep=s,st.depsTail=s):st.deps=st.depsTail=s,Qh(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const n=s.nextDep;n.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=n),s.prevDep=st.depsTail,s.nextDep=void 0,st.depsTail.nextDep=s,st.depsTail=s,st.deps===s&&(st.deps=n)}return s}trigger(e){this.version++,$i++,this.notify(e)}notify(e){Dd();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Pd()}}}function Qh(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let n=e.deps;n;n=n.nextDep)Qh(n)}const s=t.dep.subs;s!==t&&(t.prevSub=s,s&&(s.nextSub=t)),t.dep.subs=t}}const Bl=new WeakMap,Jn=Symbol(""),Vl=Symbol(""),Mi=Symbol("");function Et(t,e,s){if(hs&&st){let n=Bl.get(t);n||Bl.set(t,n=new Map);let a=n.get(s);a||(n.set(s,a=new Nd),a.map=n,a.key=s),a.track()}}function qs(t,e,s,n,a,i){const o=Bl.get(t);if(!o){$i++;return}const r=l=>{l&&l.trigger()};if(Dd(),e==="clear")o.forEach(r);else{const l=Ne(t),c=l&&Td(s);if(l&&s==="length"){const u=Number(n);o.forEach((f,h)=>{(h==="length"||h===Mi||!bs(h)&&h>=u)&&r(f)})}else switch((s!==void 0||o.has(void 0))&&r(o.get(s)),c&&r(o.get(Mi)),e){case"add":l?c&&r(o.get("length")):(r(o.get(Jn)),_a(t)&&r(o.get(Vl)));break;case"delete":l||(r(o.get(Jn)),_a(t)&&r(o.get(Vl)));break;case"set":_a(t)&&r(o.get(Jn));break}}Pd()}function pa(t){const e=Ge(t);return e===t?e:(Et(e,"iterate",Mi),os(t)?e:e.map(ys))}function kr(t){return Et(t=Ge(t),"iterate",Mi),t}function dn(t,e){return tn(t)?Xn(t)?Ea(ys(e)):Ea(e):ys(e)}const Ym={__proto__:null,[Symbol.iterator](){return nl(this,Symbol.iterator,t=>dn(this,t))},concat(...t){return pa(this).concat(...t.map(e=>Ne(e)?pa(e):e))},entries(){return nl(this,"entries",t=>(t[1]=dn(this,t[1]),t))},every(t,e){return Ls(this,"every",t,e,void 0,arguments)},filter(t,e){return Ls(this,"filter",t,e,s=>s.map(n=>dn(this,n)),arguments)},find(t,e){return Ls(this,"find",t,e,s=>dn(this,s),arguments)},findIndex(t,e){return Ls(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Ls(this,"findLast",t,e,s=>dn(this,s),arguments)},findLastIndex(t,e){return Ls(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Ls(this,"forEach",t,e,void 0,arguments)},includes(...t){return al(this,"includes",t)},indexOf(...t){return al(this,"indexOf",t)},join(t){return pa(this).join(t)},lastIndexOf(...t){return al(this,"lastIndexOf",t)},map(t,e){return Ls(this,"map",t,e,void 0,arguments)},pop(){return qa(this,"pop")},push(...t){return qa(this,"push",t)},reduce(t,...e){return Lc(this,"reduce",t,e)},reduceRight(t,...e){return Lc(this,"reduceRight",t,e)},shift(){return qa(this,"shift")},some(t,e){return Ls(this,"some",t,e,void 0,arguments)},splice(...t){return qa(this,"splice",t)},toReversed(){return pa(this).toReversed()},toSorted(t){return pa(this).toSorted(t)},toSpliced(...t){return pa(this).toSpliced(...t)},unshift(...t){return qa(this,"unshift",t)},values(){return nl(this,"values",t=>dn(this,t))}};function nl(t,e,s){const n=kr(t),a=n[e]();return n!==t&&!os(t)&&(a._next=a.next,a.next=()=>{const i=a._next();return i.done||(i.value=s(i.value)),i}),a}const Jm=Array.prototype;function Ls(t,e,s,n,a,i){const o=kr(t),r=o!==t&&!os(t),l=o[e];if(l!==Jm[e]){const f=l.apply(t,i);return r?ys(f):f}let c=s;o!==t&&(r?c=function(f,h){return s.call(this,dn(t,f),h,t)}:s.length>2&&(c=function(f,h){return s.call(this,f,h,t)}));const u=l.call(o,c,n);return r&&a?a(u):u}function Lc(t,e,s,n){const a=kr(t);let i=s;return a!==t&&(os(t)?s.length>3&&(i=function(o,r,l){return s.call(this,o,r,l,t)}):i=function(o,r,l){return s.call(this,o,dn(t,r),l,t)}),a[e](i,...n)}function al(t,e,s){const n=Ge(t);Et(n,"iterate",Mi);const a=n[e](...s);return(a===-1||a===!1)&&Fd(s[0])?(s[0]=Ge(s[0]),n[e](...s)):a}function qa(t,e,s=[]){Zs(),Dd();const n=Ge(t)[e].apply(t,s);return Pd(),en(),n}const Xm=Ed("__proto__,__v_isRef,__isVue"),Zh=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(bs));function Qm(t){bs(t)||(t=String(t));const e=Ge(this);return Et(e,"has",t),e.hasOwnProperty(t)}class ep{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,n){if(s==="__v_skip")return e.__v_skip;const a=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!a;if(s==="__v_isReadonly")return a;if(s==="__v_isShallow")return i;if(s==="__v_raw")return n===(a?i?lb:ap:i?np:sp).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const o=Ne(e);if(!a){let l;if(o&&(l=Ym[s]))return l;if(s==="hasOwnProperty")return Qm}const r=Reflect.get(e,s,Pt(e)?e:n);if((bs(s)?Zh.has(s):Xm(s))||(a||Et(e,"get",s),i))return r;if(Pt(r)){const l=o&&Td(s)?r:r.value;return a&&Ze(l)?Ul(l):l}return Ze(r)?a?Ul(r):Ns(r):r}}class tp extends ep{constructor(e=!1){super(!1,e)}set(e,s,n,a){let i=e[s];const o=Ne(e)&&Td(s);if(!this._isShallow){const c=tn(i);if(!os(n)&&!tn(n)&&(i=Ge(i),n=Ge(n)),!o&&Pt(i)&&!Pt(n))return c||(i.value=n),!0}const r=o?Number(s)<e.length:Xe(e,s),l=Reflect.set(e,s,n,Pt(e)?e:a);return e===Ge(a)&&(r?wn(n,i)&&qs(e,"set",s,n):qs(e,"add",s,n)),l}deleteProperty(e,s){const n=Xe(e,s);e[s];const a=Reflect.deleteProperty(e,s);return a&&n&&qs(e,"delete",s,void 0),a}has(e,s){const n=Reflect.has(e,s);return(!bs(s)||!Zh.has(s))&&Et(e,"has",s),n}ownKeys(e){return Et(e,"iterate",Ne(e)?"length":Jn),Reflect.ownKeys(e)}}class Zm extends ep{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const eb=new tp,tb=new Zm,sb=new tp(!0);const jl=t=>t,uo=t=>Reflect.getPrototypeOf(t);function nb(t,e,s){return function(...n){const a=this.__v_raw,i=Ge(a),o=_a(i),r=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=a[t](...n),u=s?jl:e?Ea:ys;return!e&&Et(i,"iterate",l?Vl:Jn),{next(){const{value:f,done:h}=c.next();return h?{value:f,done:h}:{value:r?[u(f[0]),u(f[1])]:u(f),done:h}},[Symbol.iterator](){return this}}}}function fo(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function ab(t,e){const s={get(a){const i=this.__v_raw,o=Ge(i),r=Ge(a);t||(wn(a,r)&&Et(o,"get",a),Et(o,"get",r));const{has:l}=uo(o),c=e?jl:t?Ea:ys;if(l.call(o,a))return c(i.get(a));if(l.call(o,r))return c(i.get(r));i!==o&&i.get(a)},get size(){const a=this.__v_raw;return!t&&Et(Ge(a),"iterate",Jn),a.size},has(a){const i=this.__v_raw,o=Ge(i),r=Ge(a);return t||(wn(a,r)&&Et(o,"has",a),Et(o,"has",r)),a===r?i.has(a):i.has(a)||i.has(r)},forEach(a,i){const o=this,r=o.__v_raw,l=Ge(r),c=e?jl:t?Ea:ys;return!t&&Et(l,"iterate",Jn),r.forEach((u,f)=>a.call(i,c(u),c(f),o))}};return _t(s,t?{add:fo("add"),set:fo("set"),delete:fo("delete"),clear:fo("clear")}:{add(a){!e&&!os(a)&&!tn(a)&&(a=Ge(a));const i=Ge(this);return uo(i).has.call(i,a)||(i.add(a),qs(i,"add",a,a)),this},set(a,i){!e&&!os(i)&&!tn(i)&&(i=Ge(i));const o=Ge(this),{has:r,get:l}=uo(o);let c=r.call(o,a);c||(a=Ge(a),c=r.call(o,a));const u=l.call(o,a);return o.set(a,i),c?wn(i,u)&&qs(o,"set",a,i):qs(o,"add",a,i),this},delete(a){const i=Ge(this),{has:o,get:r}=uo(i);let l=o.call(i,a);l||(a=Ge(a),l=o.call(i,a)),r&&r.call(i,a);const c=i.delete(a);return l&&qs(i,"delete",a,void 0),c},clear(){const a=Ge(this),i=a.size!==0,o=a.clear();return i&&qs(a,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(a=>{s[a]=nb(a,t,e)}),s}function Id(t,e){const s=ab(t,e);return(n,a,i)=>a==="__v_isReactive"?!t:a==="__v_isReadonly"?t:a==="__v_raw"?n:Reflect.get(Xe(s,a)&&a in n?s:n,a,i)}const ib={get:Id(!1,!1)},ob={get:Id(!1,!0)},rb={get:Id(!0,!1)};const sp=new WeakMap,np=new WeakMap,ap=new WeakMap,lb=new WeakMap;function db(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function cb(t){return t.__v_skip||!Object.isExtensible(t)?0:db(Om(t))}function Ns(t){return tn(t)?t:Ld(t,!1,eb,ib,sp)}function ip(t){return Ld(t,!1,sb,ob,np)}function Ul(t){return Ld(t,!0,tb,rb,ap)}function Ld(t,e,s,n,a){if(!Ze(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=cb(t);if(i===0)return t;const o=a.get(t);if(o)return o;const r=new Proxy(t,i===2?n:s);return a.set(t,r),r}function Xn(t){return tn(t)?Xn(t.__v_raw):!!(t&&t.__v_isReactive)}function tn(t){return!!(t&&t.__v_isReadonly)}function os(t){return!!(t&&t.__v_isShallow)}function Fd(t){return t?!!t.__v_raw:!1}function Ge(t){const e=t&&t.__v_raw;return e?Ge(e):t}function ub(t){return!Xe(t,"__v_skip")&&Object.isExtensible(t)&&jh(t,"__v_skip",!0),t}const ys=t=>Ze(t)?Ns(t):t,Ea=t=>Ze(t)?Ul(t):t;function Pt(t){return t?t.__v_isRef===!0:!1}function D(t){return op(t,!1)}function fb(t){return op(t,!0)}function op(t,e){return Pt(t)?t:new hb(t,e)}class hb{constructor(e,s){this.dep=new Nd,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?e:Ge(e),this._value=s?e:ys(e),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(e){const s=this._rawValue,n=this.__v_isShallow||os(e)||tn(e);e=n?e:Ge(e),wn(e,s)&&(this._rawValue=e,this._value=n?e:ys(e),this.dep.trigger())}}function B(t){return Pt(t)?t.value:t}const pb={get:(t,e,s)=>e==="__v_raw"?t:B(Reflect.get(t,e,s)),set:(t,e,s,n)=>{const a=t[e];return Pt(a)&&!Pt(s)?(a.value=s,!0):Reflect.set(t,e,s,n)}};function rp(t){return Xn(t)?t:new Proxy(t,pb)}class gb{constructor(e,s,n){this.fn=e,this.setter=s,this._value=void 0,this.dep=new Nd(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=$i-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&st!==this)return Gh(this,!0),!0}get value(){const e=this.dep.track();return Jh(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function mb(t,e,s=!1){let n,a;return Fe(t)?n=t:(n=t.get,a=t.set),new gb(n,a,s)}const ho={},Ko=new WeakMap;let Hn;function bb(t,e=!1,s=Hn){if(s){let n=Ko.get(s);n||Ko.set(s,n=[]),n.push(t)}}function vb(t,e,s=et){const{immediate:n,deep:a,once:i,scheduler:o,augmentJob:r,call:l}=s,c=x=>a?x:os(x)||a===!1||a===0?Gs(x,1):Gs(x);let u,f,h,p,b=!1,m=!1;if(Pt(t)?(f=()=>t.value,b=os(t)):Xn(t)?(f=()=>c(t),b=!0):Ne(t)?(m=!0,b=t.some(x=>Xn(x)||os(x)),f=()=>t.map(x=>{if(Pt(x))return x.value;if(Xn(x))return c(x);if(Fe(x))return l?l(x,2):x()})):Fe(t)?e?f=l?()=>l(t,2):t:f=()=>{if(h){Zs();try{h()}finally{en()}}const x=Hn;Hn=u;try{return l?l(t,3,[p]):t(p)}finally{Hn=x}}:f=Rs,e&&a){const x=f,_=a===!0?1/0:a;f=()=>Gs(x(),_)}const g=qm(),y=()=>{u.stop(),g&&g.active&&Md(g.effects,u)};if(i&&e){const x=e;e=(..._)=>{x(..._),y()}}let C=m?new Array(t.length).fill(ho):ho;const k=x=>{if(!(!(u.flags&1)||!u.dirty&&!x))if(e){const _=u.run();if(a||b||(m?_.some((T,E)=>wn(T,C[E])):wn(_,C))){h&&h();const T=Hn;Hn=u;try{const E=[_,C===ho?void 0:m&&C[0]===ho?[]:C,p];C=_,l?l(e,3,E):e(...E)}finally{Hn=T}}}else u.run()};return r&&r(k),u=new Wh(f),u.scheduler=o?()=>o(k,!1):k,p=x=>bb(x,!1,u),h=u.onStop=()=>{const x=Ko.get(u);if(x){if(l)l(x,4);else for(const _ of x)_();Ko.delete(u)}},e?n?k(!0):C=u.run():o?o(k.bind(null,!0),!0):u.run(),y.pause=u.pause.bind(u),y.resume=u.resume.bind(u),y.stop=y,y}function Gs(t,e=1/0,s){if(e<=0||!Ze(t)||t.__v_skip||(s=s||new Map,(s.get(t)||0)>=e))return t;if(s.set(t,e),e--,Pt(t))Gs(t.value,e,s);else if(Ne(t))for(let n=0;n<t.length;n++)Gs(t[n],e,s);else if(Ua(t)||_a(t))t.forEach(n=>{Gs(n,e,s)});else if(Vh(t)){for(const n in t)Gs(t[n],e,s);for(const n of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,n)&&Gs(t[n],e,s)}return t}/**
* @vue/runtime-core v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ji(t,e,s,n){try{return n?t(...n):t()}catch(a){wr(a,e,s)}}function xs(t,e,s,n){if(Fe(t)){const a=Ji(t,e,s,n);return a&&Fh(a)&&a.catch(i=>{wr(i,e,s)}),a}if(Ne(t)){const a=[];for(let i=0;i<t.length;i++)a.push(xs(t[i],e,s,n));return a}}function wr(t,e,s,n=!0){const a=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||et;if(e){let r=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${s}`;for(;r;){const u=r.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](t,l,c)===!1)return}r=r.parent}if(i){Zs(),Ji(i,null,10,[t,l,c]),en();return}}yb(t,s,a,n,o)}function yb(t,e,s,n=!0,a=!1){if(a)throw t;console.error(t)}const jt=[];let $s=-1;const ka=[];let cn=null,ba=0;const lp=Promise.resolve();let Yo=null;function Bd(t){const e=Yo||lp;return t?e.then(this?t.bind(this):t):e}function xb(t){let e=$s+1,s=jt.length;for(;e<s;){const n=e+s>>>1,a=jt[n],i=Ti(a);i<t||i===t&&a.flags&2?e=n+1:s=n}return e}function Vd(t){if(!(t.flags&1)){const e=Ti(t),s=jt[jt.length-1];!s||!(t.flags&2)&&e>=Ti(s)?jt.push(t):jt.splice(xb(e),0,t),t.flags|=1,dp()}}function dp(){Yo||(Yo=lp.then(up))}function _b(t){Ne(t)?ka.push(...t):cn&&t.id===-1?cn.splice(ba+1,0,t):t.flags&1||(ka.push(t),t.flags|=1),dp()}function Fc(t,e,s=$s+1){for(;s<jt.length;s++){const n=jt[s];if(n&&n.flags&2){if(t&&n.id!==t.uid)continue;jt.splice(s,1),s--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function cp(t){if(ka.length){const e=[...new Set(ka)].sort((s,n)=>Ti(s)-Ti(n));if(ka.length=0,cn){cn.push(...e);return}for(cn=e,ba=0;ba<cn.length;ba++){const s=cn[ba];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}cn=null,ba=0}}const Ti=t=>t.id==null?t.flags&2?-1:1/0:t.id;function up(t){try{for($s=0;$s<jt.length;$s++){const e=jt[$s];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Ji(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;$s<jt.length;$s++){const e=jt[$s];e&&(e.flags&=-2)}$s=-1,jt.length=0,cp(),Yo=null,(jt.length||ka.length)&&up()}}let wt=null,fp=null;function Jo(t){const e=wt;return wt=t,fp=t&&t.type.__scopeId||null,e}function ne(t,e=wt,s){if(!e||t._n)return t;const n=(...a)=>{n._d&&Zo(-1);const i=Jo(e);let o;try{o=t(...a)}finally{Jo(i),n._d&&Zo(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function Ce(t,e){if(wt===null)return t;const s=$r(wt),n=t.dirs||(t.dirs=[]);for(let a=0;a<e.length;a++){let[i,o,r,l=et]=e[a];i&&(Fe(i)&&(i={mounted:i,updated:i}),i.deep&&Gs(o),n.push({dir:i,instance:s,value:o,oldValue:void 0,arg:r,modifiers:l}))}return t}function Ln(t,e,s,n){const a=t.dirs,i=e&&e.dirs;for(let o=0;o<a.length;o++){const r=a[o];i&&(r.oldValue=i[o].value);let l=r.dir[n];l&&(Zs(),xs(l,s,8,[t.el,r,t,e]),en())}}function Oo(t,e){if(Tt){let s=Tt.provides;const n=Tt.parent&&Tt.parent.provides;n===s&&(s=Tt.provides=Object.create(n)),s[t]=e}}function ps(t,e,s=!1){const n=Gd();if(n||Ca){let a=Ca?Ca._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(a&&t in a)return a[t];if(arguments.length>1)return s&&Fe(e)?e.call(n&&n.proxy):e}}const kb=Symbol.for("v-scx"),wb=()=>ps(kb);function qe(t,e,s){return hp(t,e,s)}function hp(t,e,s=et){const{immediate:n,deep:a,flush:i,once:o}=s,r=_t({},s),l=e&&n||!e&&i!=="post";let c;if(Oi){if(i==="sync"){const p=wb();c=p.__watcherHandles||(p.__watcherHandles=[])}else if(!l){const p=()=>{};return p.stop=Rs,p.resume=Rs,p.pause=Rs,p}}const u=Tt;r.call=(p,b,m)=>xs(p,u,b,m);let f=!1;i==="post"?r.scheduler=p=>{Bt(p,u&&u.suspense)}:i!=="sync"&&(f=!0,r.scheduler=(p,b)=>{b?p():Vd(p)}),r.augmentJob=p=>{e&&(p.flags|=4),f&&(p.flags|=2,u&&(p.id=u.uid,p.i=u))};const h=vb(t,e,r);return Oi&&(c?c.push(h):l&&h()),h}function Cb(t,e,s){const n=this.proxy,a=lt(t)?t.includes(".")?pp(n,t):()=>n[t]:t.bind(n,n);let i;Fe(e)?i=e:(i=e.handler,s=e);const o=Zi(this),r=hp(a,i.bind(n),s);return o(),r}function pp(t,e){const s=e.split(".");return()=>{let n=t;for(let a=0;a<s.length&&n;a++)n=n[s[a]];return n}}const gp=Symbol("_vte"),mp=t=>t.__isTeleport,fi=t=>t&&(t.disabled||t.disabled===""),Bc=t=>t&&(t.defer||t.defer===""),Vc=t=>typeof SVGElement<"u"&&t instanceof SVGElement,jc=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,zl=(t,e)=>{const s=t&&t.to;return lt(s)?e?e(s):null:s},bp={name:"Teleport",__isTeleport:!0,process(t,e,s,n,a,i,o,r,l,c){const{mc:u,pc:f,pbc:h,o:{insert:p,querySelector:b,createText:m,createComment:g}}=c,y=fi(e.props);let{shapeFlag:C,children:k,dynamicChildren:x}=e;if(t==null){const _=e.el=m(""),T=e.anchor=m("");p(_,s,n),p(T,s,n);const E=(I,P)=>{C&16&&u(k,I,P,a,i,o,r,l)},R=()=>{const I=e.target=zl(e.props,b),P=vp(I,e,m,p);I&&(o!=="svg"&&Vc(I)?o="svg":o!=="mathml"&&jc(I)&&(o="mathml"),a&&a.isCE&&(a.ce._teleportTargets||(a.ce._teleportTargets=new Set)).add(I),y||(E(I,P),No(e,!1)))};y&&(E(s,T),No(e,!0)),Bc(e.props)?(e.el.__isMounted=!1,Bt(()=>{R(),delete e.el.__isMounted},i)):R()}else{if(Bc(e.props)&&t.el.__isMounted===!1){Bt(()=>{bp.process(t,e,s,n,a,i,o,r,l,c)},i);return}e.el=t.el,e.targetStart=t.targetStart;const _=e.anchor=t.anchor,T=e.target=t.target,E=e.targetAnchor=t.targetAnchor,R=fi(t.props),I=R?s:T,P=R?_:E;if(o==="svg"||Vc(T)?o="svg":(o==="mathml"||jc(T))&&(o="mathml"),x?(h(t.dynamicChildren,x,I,a,i,o,r),Wd(t,e,!0)):l||f(t,e,I,P,a,i,o,r,!1),y)R?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):po(e,s,_,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const q=e.target=zl(e.props,b);q&&po(e,q,null,c,0)}else R&&po(e,T,E,c,1);No(e,y)}},remove(t,e,s,{um:n,o:{remove:a}},i){const{shapeFlag:o,children:r,anchor:l,targetStart:c,targetAnchor:u,target:f,props:h}=t;if(f&&(a(c),a(u)),i&&a(l),o&16){const p=i||!fi(h);for(let b=0;b<r.length;b++){const m=r[b];n(m,e,s,p,!!m.dynamicChildren)}}},move:po,hydrate:Sb};function po(t,e,s,{o:{insert:n},m:a},i=2){i===0&&n(t.targetAnchor,e,s);const{el:o,anchor:r,shapeFlag:l,children:c,props:u}=t,f=i===2;if(f&&n(o,e,s),(!f||fi(u))&&l&16)for(let h=0;h<c.length;h++)a(c[h],e,s,2);f&&n(r,e,s)}function Sb(t,e,s,n,a,i,{o:{nextSibling:o,parentNode:r,querySelector:l,insert:c,createText:u}},f){function h(m,g,y,C){g.anchor=f(o(m),g,r(m),s,n,a,i),g.targetStart=y,g.targetAnchor=C}const p=e.target=zl(e.props,l),b=fi(e.props);if(p){const m=p._lpa||p.firstChild;if(e.shapeFlag&16)if(b)h(t,e,m,m&&o(m));else{e.anchor=o(t);let g=m;for(;g;){if(g&&g.nodeType===8){if(g.data==="teleport start anchor")e.targetStart=g;else if(g.data==="teleport anchor"){e.targetAnchor=g,p._lpa=e.targetAnchor&&o(e.targetAnchor);break}}g=o(g)}e.targetAnchor||vp(p,e,u,c),f(m&&o(m),e,p,s,n,a,i)}No(e,b)}else b&&e.shapeFlag&16&&h(t,e,t,o(t));return e.anchor&&o(e.anchor)}const Xi=bp;function No(t,e){const s=t.ctx;if(s&&s.ut){let n,a;for(e?(n=t.el,a=t.anchor):(n=t.targetStart,a=t.targetAnchor);n&&n!==a;)n.nodeType===1&&n.setAttribute("data-v-owner",s.uid),n=n.nextSibling;s.ut()}}function vp(t,e,s,n){const a=e.targetStart=s(""),i=e.targetAnchor=s("");return a[gp]=i,t&&(n(a,t),n(i,t)),i}const Hs=Symbol("_leaveCb"),go=Symbol("_enterCb");function yp(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return je(()=>{t.isMounted=!0}),sn(()=>{t.isUnmounting=!0}),t}const ss=[Function,Array],xp={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ss,onEnter:ss,onAfterEnter:ss,onEnterCancelled:ss,onBeforeLeave:ss,onLeave:ss,onAfterLeave:ss,onLeaveCancelled:ss,onBeforeAppear:ss,onAppear:ss,onAfterAppear:ss,onAppearCancelled:ss},_p=t=>{const e=t.subTree;return e.component?_p(e.component):e},Ab={name:"BaseTransition",props:xp,setup(t,{slots:e}){const s=Gd(),n=yp();return()=>{const a=e.default&&jd(e.default(),!0);if(!a||!a.length)return;const i=kp(a),o=Ge(t),{mode:r}=o;if(n.isLeaving)return il(i);const l=Uc(i);if(!l)return il(i);let c=Ri(l,o,n,s,f=>c=f);l.type!==Mt&&sa(l,c);let u=s.subTree&&Uc(s.subTree);if(u&&u.type!==Mt&&!Gn(u,l)&&_p(s).type!==Mt){let f=Ri(u,o,n,s);if(sa(u,f),r==="out-in"&&l.type!==Mt)return n.isLeaving=!0,f.afterLeave=()=>{n.isLeaving=!1,s.job.flags&8||s.update(),delete f.afterLeave,u=void 0},il(i);r==="in-out"&&l.type!==Mt?f.delayLeave=(h,p,b)=>{const m=wp(n,u);m[String(u.key)]=u,h[Hs]=()=>{p(),h[Hs]=void 0,delete c.delayedLeave,u=void 0},c.delayedLeave=()=>{b(),delete c.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return i}}};function kp(t){let e=t[0];if(t.length>1){for(const s of t)if(s.type!==Mt){e=s;break}}return e}const Eb=Ab;function wp(t,e){const{leavingVNodes:s}=t;let n=s.get(e.type);return n||(n=Object.create(null),s.set(e.type,n)),n}function Ri(t,e,s,n,a){const{appear:i,mode:o,persisted:r=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:f,onBeforeLeave:h,onLeave:p,onAfterLeave:b,onLeaveCancelled:m,onBeforeAppear:g,onAppear:y,onAfterAppear:C,onAppearCancelled:k}=e,x=String(t.key),_=wp(s,t),T=(I,P)=>{I&&xs(I,n,9,P)},E=(I,P)=>{const q=P[1];T(I,P),Ne(I)?I.every(J=>J.length<=1)&&q():I.length<=1&&q()},R={mode:o,persisted:r,beforeEnter(I){let P=l;if(!s.isMounted)if(i)P=g||l;else return;I[Hs]&&I[Hs](!0);const q=_[x];q&&Gn(t,q)&&q.el[Hs]&&q.el[Hs](),T(P,[I])},enter(I){let P=c,q=u,J=f;if(!s.isMounted)if(i)P=y||c,q=C||u,J=k||f;else return;let U=!1;const V=I[go]=ee=>{U||(U=!0,ee?T(J,[I]):T(q,[I]),R.delayedLeave&&R.delayedLeave(),I[go]=void 0)};P?E(P,[I,V]):V()},leave(I,P){const q=String(t.key);if(I[go]&&I[go](!0),s.isUnmounting)return P();T(h,[I]);let J=!1;const U=I[Hs]=V=>{J||(J=!0,P(),V?T(m,[I]):T(b,[I]),I[Hs]=void 0,_[q]===t&&delete _[q])};_[q]=t,p?E(p,[I,U]):U()},clone(I){const P=Ri(I,e,s,n,a);return a&&a(P),P}};return R}function il(t){if(Cr(t))return t=En(t),t.children=null,t}function Uc(t){if(!Cr(t))return mp(t.type)&&t.children?kp(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:s}=t;if(s){if(e&16)return s[0];if(e&32&&Fe(s.default))return s.default()}}function sa(t,e){t.shapeFlag&6&&t.component?(t.transition=e,sa(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function jd(t,e=!1,s){let n=[],a=0;for(let i=0;i<t.length;i++){let o=t[i];const r=s==null?o.key:String(s)+String(o.key!=null?o.key:i);o.type===be?(o.patchFlag&128&&a++,n=n.concat(jd(o.children,e,r))):(e||o.type!==Mt)&&n.push(r!=null?En(o,{key:r}):o)}if(a>1)for(let i=0;i<n.length;i++)n[i].patchFlag=-2;return n}function Cp(t,e){return Fe(t)?_t({name:t.name},e,{setup:t}):t}function Sp(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const Xo=new WeakMap;function hi(t,e,s,n,a=!1){if(Ne(t)){t.forEach((b,m)=>hi(b,e&&(Ne(e)?e[m]:e),s,n,a));return}if(wa(n)&&!a){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&hi(t,e,s,n.component.subTree);return}const i=n.shapeFlag&4?$r(n.component):n.el,o=a?null:i,{i:r,r:l}=t,c=e&&e.r,u=r.refs===et?r.refs={}:r.refs,f=r.setupState,h=Ge(f),p=f===et?Lh:b=>Xe(h,b);if(c!=null&&c!==l){if(zc(e),lt(c))u[c]=null,p(c)&&(f[c]=null);else if(Pt(c)){c.value=null;const b=e;b.k&&(u[b.k]=null)}}if(Fe(l))Ji(l,r,12,[o,u]);else{const b=lt(l),m=Pt(l);if(b||m){const g=()=>{if(t.f){const y=b?p(l)?f[l]:u[l]:l.value;if(a)Ne(y)&&Md(y,i);else if(Ne(y))y.includes(i)||y.push(i);else if(b)u[l]=[i],p(l)&&(f[l]=u[l]);else{const C=[i];l.value=C,t.k&&(u[t.k]=C)}}else b?(u[l]=o,p(l)&&(f[l]=o)):m&&(l.value=o,t.k&&(u[t.k]=o))};if(o){const y=()=>{g(),Xo.delete(t)};y.id=-1,Xo.set(t,y),Bt(y,s)}else zc(t),g()}}}function zc(t){const e=Xo.get(t);e&&(e.flags|=8,Xo.delete(t))}_r().requestIdleCallback;_r().cancelIdleCallback;const wa=t=>!!t.type.__asyncLoader,Cr=t=>t.type.__isKeepAlive;function $b(t,e){Ap(t,"a",e)}function Mb(t,e){Ap(t,"da",e)}function Ap(t,e,s=Tt){const n=t.__wdc||(t.__wdc=()=>{let a=s;for(;a;){if(a.isDeactivated)return;a=a.parent}return t()});if(Sr(e,n,s),s){let a=s.parent;for(;a&&a.parent;)Cr(a.parent.vnode)&&Tb(n,e,s,a),a=a.parent}}function Tb(t,e,s,n){const a=Sr(e,t,n,!0);Ud(()=>{Md(n[e],a)},s)}function Sr(t,e,s=Tt,n=!1){if(s){const a=s[t]||(s[t]=[]),i=e.__weh||(e.__weh=(...o)=>{Zs();const r=Zi(s),l=xs(e,s,t,o);return r(),en(),l});return n?a.unshift(i):a.push(i),i}}const nn=t=>(e,s=Tt)=>{(!Oi||t==="sp")&&Sr(t,(...n)=>e(...n),s)},Rb=nn("bm"),je=nn("m"),Db=nn("bu"),Ep=nn("u"),sn=nn("bum"),Ud=nn("um"),Pb=nn("sp"),Ob=nn("rtg"),Nb=nn("rtc");function Ib(t,e=Tt){Sr("ec",t,e)}const $p="components";function Ps(t,e){return Tp($p,t,!0,e)||t}const Mp=Symbol.for("v-ndc");function $t(t){return lt(t)?Tp($p,t,!1)||t:t||Mp}function Tp(t,e,s=!0,n=!1){const a=wt||Tt;if(a){const i=a.type;{const r=xv(i,!1);if(r&&(r===e||r===ls(e)||r===yr(ls(e))))return i}const o=Hc(a[t]||i[t],e)||Hc(a.appContext[t],e);return!o&&n?i:o}}function Hc(t,e){return t&&(t[e]||t[ls(e)]||t[yr(ls(e))])}function ke(t,e,s,n){let a;const i=s,o=Ne(t);if(o||lt(t)){const r=o&&Xn(t);let l=!1,c=!1;r&&(l=!os(t),c=tn(t),t=kr(t)),a=new Array(t.length);for(let u=0,f=t.length;u<f;u++)a[u]=e(l?c?Ea(ys(t[u])):ys(t[u]):t[u],u,void 0,i)}else if(typeof t=="number"){a=new Array(t);for(let r=0;r<t;r++)a[r]=e(r+1,r,void 0,i)}else if(Ze(t))if(t[Symbol.iterator])a=Array.from(t,(r,l)=>e(r,l,void 0,i));else{const r=Object.keys(t);a=new Array(r.length);for(let l=0,c=r.length;l<c;l++){const u=r[l];a[l]=e(t[u],u,l,i)}}else a=[];return a}function Cn(t,e,s={},n,a){if(wt.ce||wt.parent&&wa(wt.parent)&&wt.parent.ce){const c=Object.keys(s).length>0;return e!=="default"&&(s.name=e),v(),$e(be,null,[S("slot",s,n&&n())],c?-2:64)}let i=t[e];i&&i._c&&(i._d=!1),v();const o=i&&Rp(i(s)),r=s.key||o&&o.key,l=$e(be,{key:(r&&!bs(r)?r:`_${e}`)+(!o&&n?"_fb":"")},o||(n?n():[]),o&&t._===1?64:-2);return!a&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),i&&i._c&&(i._d=!0),l}function Rp(t){return t.some(e=>Pi(e)?!(e.type===Mt||e.type===be&&!Rp(e.children)):!0)?t:null}const Hl=t=>t?Yp(t)?$r(t):Hl(t.parent):null,pi=_t(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Hl(t.parent),$root:t=>Hl(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Pp(t),$forceUpdate:t=>t.f||(t.f=()=>{Vd(t.update)}),$nextTick:t=>t.n||(t.n=Bd.bind(t.proxy)),$watch:t=>Cb.bind(t)}),ol=(t,e)=>t!==et&&!t.__isScriptSetup&&Xe(t,e),Lb={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:n,data:a,props:i,accessCache:o,type:r,appContext:l}=t;if(e[0]!=="$"){const h=o[e];if(h!==void 0)switch(h){case 1:return n[e];case 2:return a[e];case 4:return s[e];case 3:return i[e]}else{if(ol(n,e))return o[e]=1,n[e];if(a!==et&&Xe(a,e))return o[e]=2,a[e];if(Xe(i,e))return o[e]=3,i[e];if(s!==et&&Xe(s,e))return o[e]=4,s[e];Wl&&(o[e]=0)}}const c=pi[e];let u,f;if(c)return e==="$attrs"&&Et(t.attrs,"get",""),c(t);if((u=r.__cssModules)&&(u=u[e]))return u;if(s!==et&&Xe(s,e))return o[e]=4,s[e];if(f=l.config.globalProperties,Xe(f,e))return f[e]},set({_:t},e,s){const{data:n,setupState:a,ctx:i}=t;return ol(a,e)?(a[e]=s,!0):n!==et&&Xe(n,e)?(n[e]=s,!0):Xe(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:n,appContext:a,props:i,type:o}},r){let l;return!!(s[r]||t!==et&&r[0]!=="$"&&Xe(t,r)||ol(e,r)||Xe(i,r)||Xe(n,r)||Xe(pi,r)||Xe(a.config.globalProperties,r)||(l=o.__cssModules)&&l[r])},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:Xe(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function Wc(t){return Ne(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let Wl=!0;function Fb(t){const e=Pp(t),s=t.proxy,n=t.ctx;Wl=!1,e.beforeCreate&&qc(e.beforeCreate,t,"bc");const{data:a,computed:i,methods:o,watch:r,provide:l,inject:c,created:u,beforeMount:f,mounted:h,beforeUpdate:p,updated:b,activated:m,deactivated:g,beforeDestroy:y,beforeUnmount:C,destroyed:k,unmounted:x,render:_,renderTracked:T,renderTriggered:E,errorCaptured:R,serverPrefetch:I,expose:P,inheritAttrs:q,components:J,directives:U,filters:V}=e;if(c&&Bb(c,n,null),o)for(const M in o){const H=o[M];Fe(H)&&(n[M]=H.bind(s))}if(a){const M=a.call(s,s);Ze(M)&&(t.data=Ns(M))}if(Wl=!0,i)for(const M in i){const H=i[M],se=Fe(H)?H.bind(s,s):Fe(H.get)?H.get.bind(s,s):Rs,xe=!Fe(H)&&Fe(H.set)?H.set.bind(s):Rs,ge=he({get:se,set:xe});Object.defineProperty(n,M,{enumerable:!0,configurable:!0,get:()=>ge.value,set:G=>ge.value=G})}if(r)for(const M in r)Dp(r[M],n,s,M);if(l){const M=Fe(l)?l.call(s):l;Reflect.ownKeys(M).forEach(H=>{Oo(H,M[H])})}u&&qc(u,t,"c");function K(M,H){Ne(H)?H.forEach(se=>M(se.bind(s))):H&&M(H.bind(s))}if(K(Rb,f),K(je,h),K(Db,p),K(Ep,b),K($b,m),K(Mb,g),K(Ib,R),K(Nb,T),K(Ob,E),K(sn,C),K(Ud,x),K(Pb,I),Ne(P))if(P.length){const M=t.exposed||(t.exposed={});P.forEach(H=>{Object.defineProperty(M,H,{get:()=>s[H],set:se=>s[H]=se,enumerable:!0})})}else t.exposed||(t.exposed={});_&&t.render===Rs&&(t.render=_),q!=null&&(t.inheritAttrs=q),J&&(t.components=J),U&&(t.directives=U),I&&Sp(t)}function Bb(t,e,s=Rs){Ne(t)&&(t=ql(t));for(const n in t){const a=t[n];let i;Ze(a)?"default"in a?i=ps(a.from||n,a.default,!0):i=ps(a.from||n):i=ps(a),Pt(i)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[n]=i}}function qc(t,e,s){xs(Ne(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,s)}function Dp(t,e,s,n){let a=n.includes(".")?pp(s,n):()=>s[n];if(lt(t)){const i=e[t];Fe(i)&&qe(a,i)}else if(Fe(t))qe(a,t.bind(s));else if(Ze(t))if(Ne(t))t.forEach(i=>Dp(i,e,s,n));else{const i=Fe(t.handler)?t.handler.bind(s):e[t.handler];Fe(i)&&qe(a,i,t)}}function Pp(t){const e=t.type,{mixins:s,extends:n}=e,{mixins:a,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,r=i.get(e);let l;return r?l=r:!a.length&&!s&&!n?l=e:(l={},a.length&&a.forEach(c=>Qo(l,c,o,!0)),Qo(l,e,o)),Ze(e)&&i.set(e,l),l}function Qo(t,e,s,n=!1){const{mixins:a,extends:i}=e;i&&Qo(t,i,s,!0),a&&a.forEach(o=>Qo(t,o,s,!0));for(const o in e)if(!(n&&o==="expose")){const r=Vb[o]||s&&s[o];t[o]=r?r(t[o],e[o]):e[o]}return t}const Vb={data:Gc,props:Kc,emits:Kc,methods:ni,computed:ni,beforeCreate:Ft,created:Ft,beforeMount:Ft,mounted:Ft,beforeUpdate:Ft,updated:Ft,beforeDestroy:Ft,beforeUnmount:Ft,destroyed:Ft,unmounted:Ft,activated:Ft,deactivated:Ft,errorCaptured:Ft,serverPrefetch:Ft,components:ni,directives:ni,watch:Ub,provide:Gc,inject:jb};function Gc(t,e){return e?t?function(){return _t(Fe(t)?t.call(this,this):t,Fe(e)?e.call(this,this):e)}:e:t}function jb(t,e){return ni(ql(t),ql(e))}function ql(t){if(Ne(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function Ft(t,e){return t?[...new Set([].concat(t,e))]:e}function ni(t,e){return t?_t(Object.create(null),t,e):e}function Kc(t,e){return t?Ne(t)&&Ne(e)?[...new Set([...t,...e])]:_t(Object.create(null),Wc(t),Wc(e??{})):e}function Ub(t,e){if(!t)return e;if(!e)return t;const s=_t(Object.create(null),t);for(const n in e)s[n]=Ft(t[n],e[n]);return s}function Op(){return{app:null,config:{isNativeTag:Lh,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let zb=0;function Hb(t,e){return function(n,a=null){Fe(n)||(n=_t({},n)),a!=null&&!Ze(a)&&(a=null);const i=Op(),o=new WeakSet,r=[];let l=!1;const c=i.app={_uid:zb++,_component:n,_props:a,_container:null,_context:i,_instance:null,version:kv,get config(){return i.config},set config(u){},use(u,...f){return o.has(u)||(u&&Fe(u.install)?(o.add(u),u.install(c,...f)):Fe(u)&&(o.add(u),u(c,...f))),c},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),c},component(u,f){return f?(i.components[u]=f,c):i.components[u]},directive(u,f){return f?(i.directives[u]=f,c):i.directives[u]},mount(u,f,h){if(!l){const p=c._ceVNode||S(n,a);return p.appContext=i,h===!0?h="svg":h===!1&&(h=void 0),t(p,u,h),l=!0,c._container=u,u.__vue_app__=c,$r(p.component)}},onUnmount(u){r.push(u)},unmount(){l&&(xs(r,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(u,f){return i.provides[u]=f,c},runWithContext(u){const f=Ca;Ca=c;try{return u()}finally{Ca=f}}};return c}}let Ca=null;const Wb=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${ls(e)}Modifiers`]||t[`${Rn(e)}Modifiers`];function qb(t,e,...s){if(t.isUnmounted)return;const n=t.vnode.props||et;let a=s;const i=e.startsWith("update:"),o=i&&Wb(n,e.slice(7));o&&(o.trim&&(a=s.map(u=>lt(u)?u.trim():u)),o.number&&(a=s.map(xr)));let r,l=n[r=el(e)]||n[r=el(ls(e))];!l&&i&&(l=n[r=el(Rn(e))]),l&&xs(l,t,6,a);const c=n[r+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[r])return;t.emitted[r]=!0,xs(c,t,6,a)}}const Gb=new WeakMap;function Np(t,e,s=!1){const n=s?Gb:e.emitsCache,a=n.get(t);if(a!==void 0)return a;const i=t.emits;let o={},r=!1;if(!Fe(t)){const l=c=>{const u=Np(c,e,!0);u&&(r=!0,_t(o,u))};!s&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!r?(Ze(t)&&n.set(t,null),null):(Ne(i)?i.forEach(l=>o[l]=null):_t(o,i),Ze(t)&&n.set(t,o),o)}function Ar(t,e){return!t||!br(e)?!1:(e=e.slice(2).replace(/Once$/,""),Xe(t,e[0].toLowerCase()+e.slice(1))||Xe(t,Rn(e))||Xe(t,e))}function Yc(t){const{type:e,vnode:s,proxy:n,withProxy:a,propsOptions:[i],slots:o,attrs:r,emit:l,render:c,renderCache:u,props:f,data:h,setupState:p,ctx:b,inheritAttrs:m}=t,g=Jo(t);let y,C;try{if(s.shapeFlag&4){const x=a||n,_=x;y=Ts(c.call(_,x,u,f,p,h,b)),C=r}else{const x=e;y=Ts(x.length>1?x(f,{attrs:r,slots:o,emit:l}):x(f,null)),C=e.props?r:Kb(r)}}catch(x){gi.length=0,wr(x,t,1),y=S(Mt)}let k=y;if(C&&m!==!1){const x=Object.keys(C),{shapeFlag:_}=k;x.length&&_&7&&(i&&x.some($d)&&(C=Yb(C,i)),k=En(k,C,!1,!0))}return s.dirs&&(k=En(k,null,!1,!0),k.dirs=k.dirs?k.dirs.concat(s.dirs):s.dirs),s.transition&&sa(k,s.transition),y=k,Jo(g),y}const Kb=t=>{let e;for(const s in t)(s==="class"||s==="style"||br(s))&&((e||(e={}))[s]=t[s]);return e},Yb=(t,e)=>{const s={};for(const n in t)(!$d(n)||!(n.slice(9)in e))&&(s[n]=t[n]);return s};function Jb(t,e,s){const{props:n,children:a,component:i}=t,{props:o,children:r,patchFlag:l}=e,c=i.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return n?Jc(n,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let f=0;f<u.length;f++){const h=u[f];if(o[h]!==n[h]&&!Ar(c,h))return!0}}}else return(a||r)&&(!r||!r.$stable)?!0:n===o?!1:n?o?Jc(n,o,c):!0:!!o;return!1}function Jc(t,e,s){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let a=0;a<n.length;a++){const i=n[a];if(e[i]!==t[i]&&!Ar(s,i))return!0}return!1}function Xb({vnode:t,parent:e},s){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n===t)(t=e.vnode).el=s,e=e.parent;else break}}const Ip={},Lp=()=>Object.create(Ip),Fp=t=>Object.getPrototypeOf(t)===Ip;function Qb(t,e,s,n=!1){const a={},i=Lp();t.propsDefaults=Object.create(null),Bp(t,e,a,i);for(const o in t.propsOptions[0])o in a||(a[o]=void 0);s?t.props=n?a:ip(a):t.type.props?t.props=a:t.props=i,t.attrs=i}function Zb(t,e,s,n){const{props:a,attrs:i,vnode:{patchFlag:o}}=t,r=Ge(a),[l]=t.propsOptions;let c=!1;if((n||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let f=0;f<u.length;f++){let h=u[f];if(Ar(t.emitsOptions,h))continue;const p=e[h];if(l)if(Xe(i,h))p!==i[h]&&(i[h]=p,c=!0);else{const b=ls(h);a[b]=Gl(l,r,b,p,t,!1)}else p!==i[h]&&(i[h]=p,c=!0)}}}else{Bp(t,e,a,i)&&(c=!0);let u;for(const f in r)(!e||!Xe(e,f)&&((u=Rn(f))===f||!Xe(e,u)))&&(l?s&&(s[f]!==void 0||s[u]!==void 0)&&(a[f]=Gl(l,r,f,void 0,t,!0)):delete a[f]);if(i!==r)for(const f in i)(!e||!Xe(e,f))&&(delete i[f],c=!0)}c&&qs(t.attrs,"set","")}function Bp(t,e,s,n){const[a,i]=t.propsOptions;let o=!1,r;if(e)for(let l in e){if(di(l))continue;const c=e[l];let u;a&&Xe(a,u=ls(l))?!i||!i.includes(u)?s[u]=c:(r||(r={}))[u]=c:Ar(t.emitsOptions,l)||(!(l in n)||c!==n[l])&&(n[l]=c,o=!0)}if(i){const l=Ge(s),c=r||et;for(let u=0;u<i.length;u++){const f=i[u];s[f]=Gl(a,l,f,c[f],t,!Xe(c,f))}}return o}function Gl(t,e,s,n,a,i){const o=t[s];if(o!=null){const r=Xe(o,"default");if(r&&n===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Fe(l)){const{propsDefaults:c}=a;if(s in c)n=c[s];else{const u=Zi(a);n=c[s]=l.call(null,e),u()}}else n=l;a.ce&&a.ce._setProp(s,n)}o[0]&&(i&&!r?n=!1:o[1]&&(n===""||n===Rn(s))&&(n=!0))}return n}const ev=new WeakMap;function Vp(t,e,s=!1){const n=s?ev:e.propsCache,a=n.get(t);if(a)return a;const i=t.props,o={},r=[];let l=!1;if(!Fe(t)){const u=f=>{l=!0;const[h,p]=Vp(f,e,!0);_t(o,h),p&&r.push(...p)};!s&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!i&&!l)return Ze(t)&&n.set(t,xa),xa;if(Ne(i))for(let u=0;u<i.length;u++){const f=ls(i[u]);Xc(f)&&(o[f]=et)}else if(i)for(const u in i){const f=ls(u);if(Xc(f)){const h=i[u],p=o[f]=Ne(h)||Fe(h)?{type:h}:_t({},h),b=p.type;let m=!1,g=!0;if(Ne(b))for(let y=0;y<b.length;++y){const C=b[y],k=Fe(C)&&C.name;if(k==="Boolean"){m=!0;break}else k==="String"&&(g=!1)}else m=Fe(b)&&b.name==="Boolean";p[0]=m,p[1]=g,(m||Xe(p,"default"))&&r.push(f)}}const c=[o,r];return Ze(t)&&n.set(t,c),c}function Xc(t){return t[0]!=="$"&&!di(t)}const zd=t=>t==="_"||t==="_ctx"||t==="$stable",Hd=t=>Ne(t)?t.map(Ts):[Ts(t)],tv=(t,e,s)=>{if(e._n)return e;const n=ne((...a)=>Hd(e(...a)),s);return n._c=!1,n},jp=(t,e,s)=>{const n=t._ctx;for(const a in t){if(zd(a))continue;const i=t[a];if(Fe(i))e[a]=tv(a,i,n);else if(i!=null){const o=Hd(i);e[a]=()=>o}}},Up=(t,e)=>{const s=Hd(e);t.slots.default=()=>s},zp=(t,e,s)=>{for(const n in e)(s||!zd(n))&&(t[n]=e[n])},sv=(t,e,s)=>{const n=t.slots=Lp();if(t.vnode.shapeFlag&32){const a=e._;a?(zp(n,e,s),s&&jh(n,"_",a,!0)):jp(e,n)}else e&&Up(t,e)},nv=(t,e,s)=>{const{vnode:n,slots:a}=t;let i=!0,o=et;if(n.shapeFlag&32){const r=e._;r?s&&r===1?i=!1:zp(a,e,s):(i=!e.$stable,jp(e,a)),o=e}else e&&(Up(t,e),o={default:1});if(i)for(const r in a)!zd(r)&&o[r]==null&&delete a[r]},Bt=lv;function av(t){return iv(t)}function iv(t,e){const s=_r();s.__VUE__=!0;const{insert:n,remove:a,patchProp:i,createElement:o,createText:r,createComment:l,setText:c,setElementText:u,parentNode:f,nextSibling:h,setScopeId:p=Rs,insertStaticContent:b}=t,m=(N,F,Y,ce=null,pe=null,fe=null,we=void 0,_e=null,ve=!!F.dynamicChildren)=>{if(N===F)return;N&&!Gn(N,F)&&(ce=A(N),G(N,pe,fe,!0),N=null),F.patchFlag===-2&&(ve=!1,F.dynamicChildren=null);const{type:ye,ref:Te,shapeFlag:Se}=F;switch(ye){case Er:g(N,F,Y,ce);break;case Mt:y(N,F,Y,ce);break;case Io:N==null&&C(F,Y,ce,we);break;case be:J(N,F,Y,ce,pe,fe,we,_e,ve);break;default:Se&1?_(N,F,Y,ce,pe,fe,we,_e,ve):Se&6?U(N,F,Y,ce,pe,fe,we,_e,ve):(Se&64||Se&128)&&ye.process(N,F,Y,ce,pe,fe,we,_e,ve,re)}Te!=null&&pe?hi(Te,N&&N.ref,fe,F||N,!F):Te==null&&N&&N.ref!=null&&hi(N.ref,null,fe,N,!0)},g=(N,F,Y,ce)=>{if(N==null)n(F.el=r(F.children),Y,ce);else{const pe=F.el=N.el;F.children!==N.children&&c(pe,F.children)}},y=(N,F,Y,ce)=>{N==null?n(F.el=l(F.children||""),Y,ce):F.el=N.el},C=(N,F,Y,ce)=>{[N.el,N.anchor]=b(N.children,F,Y,ce,N.el,N.anchor)},k=({el:N,anchor:F},Y,ce)=>{let pe;for(;N&&N!==F;)pe=h(N),n(N,Y,ce),N=pe;n(F,Y,ce)},x=({el:N,anchor:F})=>{let Y;for(;N&&N!==F;)Y=h(N),a(N),N=Y;a(F)},_=(N,F,Y,ce,pe,fe,we,_e,ve)=>{if(F.type==="svg"?we="svg":F.type==="math"&&(we="mathml"),N==null)T(F,Y,ce,pe,fe,we,_e,ve);else{const ye=N.el&&N.el._isVueCE?N.el:null;try{ye&&ye._beginPatch(),I(N,F,pe,fe,we,_e,ve)}finally{ye&&ye._endPatch()}}},T=(N,F,Y,ce,pe,fe,we,_e)=>{let ve,ye;const{props:Te,shapeFlag:Se,transition:Re,dirs:Pe}=N;if(ve=N.el=o(N.type,fe,Te&&Te.is,Te),Se&8?u(ve,N.children):Se&16&&R(N.children,ve,null,ce,pe,rl(N,fe),we,_e),Pe&&Ln(N,null,ce,"created"),E(ve,N,N.scopeId,we,ce),Te){for(const Ie in Te)Ie!=="value"&&!di(Ie)&&i(ve,Ie,null,Te[Ie],fe,ce);"value"in Te&&i(ve,"value",null,Te.value,fe),(ye=Te.onVnodeBeforeMount)&&Cs(ye,ce,N)}Pe&&Ln(N,null,ce,"beforeMount");const Oe=ov(pe,Re);Oe&&Re.beforeEnter(ve),n(ve,F,Y),((ye=Te&&Te.onVnodeMounted)||Oe||Pe)&&Bt(()=>{ye&&Cs(ye,ce,N),Oe&&Re.enter(ve),Pe&&Ln(N,null,ce,"mounted")},pe)},E=(N,F,Y,ce,pe)=>{if(Y&&p(N,Y),ce)for(let fe=0;fe<ce.length;fe++)p(N,ce[fe]);if(pe){let fe=pe.subTree;if(F===fe||qp(fe.type)&&(fe.ssContent===F||fe.ssFallback===F)){const we=pe.vnode;E(N,we,we.scopeId,we.slotScopeIds,pe.parent)}}},R=(N,F,Y,ce,pe,fe,we,_e,ve=0)=>{for(let ye=ve;ye<N.length;ye++){const Te=N[ye]=_e?un(N[ye]):Ts(N[ye]);m(null,Te,F,Y,ce,pe,fe,we,_e)}},I=(N,F,Y,ce,pe,fe,we)=>{const _e=F.el=N.el;let{patchFlag:ve,dynamicChildren:ye,dirs:Te}=F;ve|=N.patchFlag&16;const Se=N.props||et,Re=F.props||et;let Pe;if(Y&&Fn(Y,!1),(Pe=Re.onVnodeBeforeUpdate)&&Cs(Pe,Y,F,N),Te&&Ln(F,N,Y,"beforeUpdate"),Y&&Fn(Y,!0),(Se.innerHTML&&Re.innerHTML==null||Se.textContent&&Re.textContent==null)&&u(_e,""),ye?P(N.dynamicChildren,ye,_e,Y,ce,rl(F,pe),fe):we||H(N,F,_e,null,Y,ce,rl(F,pe),fe,!1),ve>0){if(ve&16)q(_e,Se,Re,Y,pe);else if(ve&2&&Se.class!==Re.class&&i(_e,"class",null,Re.class,pe),ve&4&&i(_e,"style",Se.style,Re.style,pe),ve&8){const Oe=F.dynamicProps;for(let Ie=0;Ie<Oe.length;Ie++){const Be=Oe[Ie],dt=Se[Be],tt=Re[Be];(tt!==dt||Be==="value")&&i(_e,Be,dt,tt,pe,Y)}}ve&1&&N.children!==F.children&&u(_e,F.children)}else!we&&ye==null&&q(_e,Se,Re,Y,pe);((Pe=Re.onVnodeUpdated)||Te)&&Bt(()=>{Pe&&Cs(Pe,Y,F,N),Te&&Ln(F,N,Y,"updated")},ce)},P=(N,F,Y,ce,pe,fe,we)=>{for(let _e=0;_e<F.length;_e++){const ve=N[_e],ye=F[_e],Te=ve.el&&(ve.type===be||!Gn(ve,ye)||ve.shapeFlag&198)?f(ve.el):Y;m(ve,ye,Te,null,ce,pe,fe,we,!0)}},q=(N,F,Y,ce,pe)=>{if(F!==Y){if(F!==et)for(const fe in F)!di(fe)&&!(fe in Y)&&i(N,fe,F[fe],null,pe,ce);for(const fe in Y){if(di(fe))continue;const we=Y[fe],_e=F[fe];we!==_e&&fe!=="value"&&i(N,fe,_e,we,pe,ce)}"value"in Y&&i(N,"value",F.value,Y.value,pe)}},J=(N,F,Y,ce,pe,fe,we,_e,ve)=>{const ye=F.el=N?N.el:r(""),Te=F.anchor=N?N.anchor:r("");let{patchFlag:Se,dynamicChildren:Re,slotScopeIds:Pe}=F;Pe&&(_e=_e?_e.concat(Pe):Pe),N==null?(n(ye,Y,ce),n(Te,Y,ce),R(F.children||[],Y,Te,pe,fe,we,_e,ve)):Se>0&&Se&64&&Re&&N.dynamicChildren&&N.dynamicChildren.length===Re.length?(P(N.dynamicChildren,Re,Y,pe,fe,we,_e),(F.key!=null||pe&&F===pe.subTree)&&Wd(N,F,!0)):H(N,F,Y,Te,pe,fe,we,_e,ve)},U=(N,F,Y,ce,pe,fe,we,_e,ve)=>{F.slotScopeIds=_e,N==null?F.shapeFlag&512?pe.ctx.activate(F,Y,ce,we,ve):V(F,Y,ce,pe,fe,we,ve):ee(N,F,ve)},V=(N,F,Y,ce,pe,fe,we)=>{const _e=N.component=gv(N,ce,pe);if(Cr(N)&&(_e.ctx.renderer=re),mv(_e,!1,we),_e.asyncDep){if(pe&&pe.registerDep(_e,K,we),!N.el){const ve=_e.subTree=S(Mt);y(null,ve,F,Y),N.placeholder=ve.el}}else K(_e,N,F,Y,pe,fe,we)},ee=(N,F,Y)=>{const ce=F.component=N.component;if(Jb(N,F,Y))if(ce.asyncDep&&!ce.asyncResolved){M(ce,F,Y);return}else ce.next=F,ce.update();else F.el=N.el,ce.vnode=F},K=(N,F,Y,ce,pe,fe,we)=>{const _e=()=>{if(N.isMounted){let{next:Se,bu:Re,u:Pe,parent:Oe,vnode:Ie}=N;{const Ct=Hp(N);if(Ct){Se&&(Se.el=Ie.el,M(N,Se,we)),Ct.asyncDep.then(()=>{N.isUnmounted||_e()});return}}let Be=Se,dt;Fn(N,!1),Se?(Se.el=Ie.el,M(N,Se,we)):Se=Ie,Re&&Po(Re),(dt=Se.props&&Se.props.onVnodeBeforeUpdate)&&Cs(dt,Oe,Se,Ie),Fn(N,!0);const tt=Yc(N),It=N.subTree;N.subTree=tt,m(It,tt,f(It.el),A(It),N,pe,fe),Se.el=tt.el,Be===null&&Xb(N,tt.el),Pe&&Bt(Pe,pe),(dt=Se.props&&Se.props.onVnodeUpdated)&&Bt(()=>Cs(dt,Oe,Se,Ie),pe)}else{let Se;const{el:Re,props:Pe}=F,{bm:Oe,m:Ie,parent:Be,root:dt,type:tt}=N,It=wa(F);Fn(N,!1),Oe&&Po(Oe),!It&&(Se=Pe&&Pe.onVnodeBeforeMount)&&Cs(Se,Be,F),Fn(N,!0);{dt.ce&&dt.ce._def.shadowRoot!==!1&&dt.ce._injectChildStyle(tt);const Ct=N.subTree=Yc(N);m(null,Ct,Y,ce,N,pe,fe),F.el=Ct.el}if(Ie&&Bt(Ie,pe),!It&&(Se=Pe&&Pe.onVnodeMounted)){const Ct=F;Bt(()=>Cs(Se,Be,Ct),pe)}(F.shapeFlag&256||Be&&wa(Be.vnode)&&Be.vnode.shapeFlag&256)&&N.a&&Bt(N.a,pe),N.isMounted=!0,F=Y=ce=null}};N.scope.on();const ve=N.effect=new Wh(_e);N.scope.off();const ye=N.update=ve.run.bind(ve),Te=N.job=ve.runIfDirty.bind(ve);Te.i=N,Te.id=N.uid,ve.scheduler=()=>Vd(Te),Fn(N,!0),ye()},M=(N,F,Y)=>{F.component=N;const ce=N.vnode.props;N.vnode=F,N.next=null,Zb(N,F.props,ce,Y),nv(N,F.children,Y),Zs(),Fc(N),en()},H=(N,F,Y,ce,pe,fe,we,_e,ve=!1)=>{const ye=N&&N.children,Te=N?N.shapeFlag:0,Se=F.children,{patchFlag:Re,shapeFlag:Pe}=F;if(Re>0){if(Re&128){xe(ye,Se,Y,ce,pe,fe,we,_e,ve);return}else if(Re&256){se(ye,Se,Y,ce,pe,fe,we,_e,ve);return}}Pe&8?(Te&16&&j(ye,pe,fe),Se!==ye&&u(Y,Se)):Te&16?Pe&16?xe(ye,Se,Y,ce,pe,fe,we,_e,ve):j(ye,pe,fe,!0):(Te&8&&u(Y,""),Pe&16&&R(Se,Y,ce,pe,fe,we,_e,ve))},se=(N,F,Y,ce,pe,fe,we,_e,ve)=>{N=N||xa,F=F||xa;const ye=N.length,Te=F.length,Se=Math.min(ye,Te);let Re;for(Re=0;Re<Se;Re++){const Pe=F[Re]=ve?un(F[Re]):Ts(F[Re]);m(N[Re],Pe,Y,null,pe,fe,we,_e,ve)}ye>Te?j(N,pe,fe,!0,!1,Se):R(F,Y,ce,pe,fe,we,_e,ve,Se)},xe=(N,F,Y,ce,pe,fe,we,_e,ve)=>{let ye=0;const Te=F.length;let Se=N.length-1,Re=Te-1;for(;ye<=Se&&ye<=Re;){const Pe=N[ye],Oe=F[ye]=ve?un(F[ye]):Ts(F[ye]);if(Gn(Pe,Oe))m(Pe,Oe,Y,null,pe,fe,we,_e,ve);else break;ye++}for(;ye<=Se&&ye<=Re;){const Pe=N[Se],Oe=F[Re]=ve?un(F[Re]):Ts(F[Re]);if(Gn(Pe,Oe))m(Pe,Oe,Y,null,pe,fe,we,_e,ve);else break;Se--,Re--}if(ye>Se){if(ye<=Re){const Pe=Re+1,Oe=Pe<Te?F[Pe].el:ce;for(;ye<=Re;)m(null,F[ye]=ve?un(F[ye]):Ts(F[ye]),Y,Oe,pe,fe,we,_e,ve),ye++}}else if(ye>Re)for(;ye<=Se;)G(N[ye],pe,fe,!0),ye++;else{const Pe=ye,Oe=ye,Ie=new Map;for(ye=Oe;ye<=Re;ye++){const ft=F[ye]=ve?un(F[ye]):Ts(F[ye]);ft.key!=null&&Ie.set(ft.key,ye)}let Be,dt=0;const tt=Re-Oe+1;let It=!1,Ct=0;const On=new Array(tt);for(ye=0;ye<tt;ye++)On[ye]=0;for(ye=Pe;ye<=Se;ye++){const ft=N[ye];if(dt>=tt){G(ft,pe,fe,!0);continue}let Ht;if(ft.key!=null)Ht=Ie.get(ft.key);else for(Be=Oe;Be<=Re;Be++)if(On[Be-Oe]===0&&Gn(ft,F[Be])){Ht=Be;break}Ht===void 0?G(ft,pe,fe,!0):(On[Ht-Oe]=ye+1,Ht>=Ct?Ct=Ht:It=!0,m(ft,F[Ht],Y,null,pe,fe,we,_e,ve),dt++)}const Nn=It?rv(On):xa;for(Be=Nn.length-1,ye=tt-1;ye>=0;ye--){const ft=Oe+ye,Ht=F[ft],ha=F[ft+1],co=ft+1<Te?ha.el||Wp(ha):ce;On[ye]===0?m(null,Ht,Y,co,pe,fe,we,_e,ve):It&&(Be<0||ye!==Nn[Be]?ge(Ht,Y,co,2):Be--)}}},ge=(N,F,Y,ce,pe=null)=>{const{el:fe,type:we,transition:_e,children:ve,shapeFlag:ye}=N;if(ye&6){ge(N.component.subTree,F,Y,ce);return}if(ye&128){N.suspense.move(F,Y,ce);return}if(ye&64){we.move(N,F,Y,re);return}if(we===be){n(fe,F,Y);for(let Se=0;Se<ve.length;Se++)ge(ve[Se],F,Y,ce);n(N.anchor,F,Y);return}if(we===Io){k(N,F,Y);return}if(ce!==2&&ye&1&&_e)if(ce===0)_e.beforeEnter(fe),n(fe,F,Y),Bt(()=>_e.enter(fe),pe);else{const{leave:Se,delayLeave:Re,afterLeave:Pe}=_e,Oe=()=>{N.ctx.isUnmounted?a(fe):n(fe,F,Y)},Ie=()=>{fe._isLeaving&&fe[Hs](!0),Se(fe,()=>{Oe(),Pe&&Pe()})};Re?Re(fe,Oe,Ie):Ie()}else n(fe,F,Y)},G=(N,F,Y,ce=!1,pe=!1)=>{const{type:fe,props:we,ref:_e,children:ve,dynamicChildren:ye,shapeFlag:Te,patchFlag:Se,dirs:Re,cacheIndex:Pe}=N;if(Se===-2&&(pe=!1),_e!=null&&(Zs(),hi(_e,null,Y,N,!0),en()),Pe!=null&&(F.renderCache[Pe]=void 0),Te&256){F.ctx.deactivate(N);return}const Oe=Te&1&&Re,Ie=!wa(N);let Be;if(Ie&&(Be=we&&we.onVnodeBeforeUnmount)&&Cs(Be,F,N),Te&6)te(N.component,Y,ce);else{if(Te&128){N.suspense.unmount(Y,ce);return}Oe&&Ln(N,null,F,"beforeUnmount"),Te&64?N.type.remove(N,F,Y,re,ce):ye&&!ye.hasOnce&&(fe!==be||Se>0&&Se&64)?j(ye,F,Y,!1,!0):(fe===be&&Se&384||!pe&&Te&16)&&j(ve,F,Y),ce&&z(N)}(Ie&&(Be=we&&we.onVnodeUnmounted)||Oe)&&Bt(()=>{Be&&Cs(Be,F,N),Oe&&Ln(N,null,F,"unmounted")},Y)},z=N=>{const{type:F,el:Y,anchor:ce,transition:pe}=N;if(F===be){ae(Y,ce);return}if(F===Io){x(N);return}const fe=()=>{a(Y),pe&&!pe.persisted&&pe.afterLeave&&pe.afterLeave()};if(N.shapeFlag&1&&pe&&!pe.persisted){const{leave:we,delayLeave:_e}=pe,ve=()=>we(Y,fe);_e?_e(N.el,fe,ve):ve()}else fe()},ae=(N,F)=>{let Y;for(;N!==F;)Y=h(N),a(N),N=Y;a(F)},te=(N,F,Y)=>{const{bum:ce,scope:pe,job:fe,subTree:we,um:_e,m:ve,a:ye}=N;Qc(ve),Qc(ye),ce&&Po(ce),pe.stop(),fe&&(fe.flags|=8,G(we,N,F,Y)),_e&&Bt(_e,F),Bt(()=>{N.isUnmounted=!0},F)},j=(N,F,Y,ce=!1,pe=!1,fe=0)=>{for(let we=fe;we<N.length;we++)G(N[we],F,Y,ce,pe)},A=N=>{if(N.shapeFlag&6)return A(N.component.subTree);if(N.shapeFlag&128)return N.suspense.next();const F=h(N.anchor||N.el),Y=F&&F[gp];return Y?h(Y):F};let O=!1;const X=(N,F,Y)=>{let ce;N==null?F._vnode&&(G(F._vnode,null,null,!0),ce=F._vnode.component):m(F._vnode||null,N,F,null,null,null,Y),F._vnode=N,O||(O=!0,Fc(ce),cp(),O=!1)},re={p:m,um:G,m:ge,r:z,mt:V,mc:R,pc:H,pbc:P,n:A,o:t};return{render:X,hydrate:void 0,createApp:Hb(X)}}function rl({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function Fn({effect:t,job:e},s){s?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function ov(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Wd(t,e,s=!1){const n=t.children,a=e.children;if(Ne(n)&&Ne(a))for(let i=0;i<n.length;i++){const o=n[i];let r=a[i];r.shapeFlag&1&&!r.dynamicChildren&&((r.patchFlag<=0||r.patchFlag===32)&&(r=a[i]=un(a[i]),r.el=o.el),!s&&r.patchFlag!==-2&&Wd(o,r)),r.type===Er&&(r.patchFlag!==-1?r.el=o.el:r.__elIndex=i+(t.type===be?1:0)),r.type===Mt&&!r.el&&(r.el=o.el)}}function rv(t){const e=t.slice(),s=[0];let n,a,i,o,r;const l=t.length;for(n=0;n<l;n++){const c=t[n];if(c!==0){if(a=s[s.length-1],t[a]<c){e[n]=a,s.push(n);continue}for(i=0,o=s.length-1;i<o;)r=i+o>>1,t[s[r]]<c?i=r+1:o=r;c<t[s[i]]&&(i>0&&(e[n]=s[i-1]),s[i]=n)}}for(i=s.length,o=s[i-1];i-- >0;)s[i]=o,o=e[o];return s}function Hp(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Hp(e)}function Qc(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}function Wp(t){if(t.placeholder)return t.placeholder;const e=t.component;return e?Wp(e.subTree):null}const qp=t=>t.__isSuspense;function lv(t,e){e&&e.pendingBranch?Ne(t)?e.effects.push(...t):e.effects.push(t):_b(t)}const be=Symbol.for("v-fgt"),Er=Symbol.for("v-txt"),Mt=Symbol.for("v-cmt"),Io=Symbol.for("v-stc"),gi=[];let Zt=null;function v(t=!1){gi.push(Zt=t?null:[])}function dv(){gi.pop(),Zt=gi[gi.length-1]||null}let Di=1;function Zo(t,e=!1){Di+=t,t<0&&Zt&&e&&(Zt.hasOnce=!0)}function Gp(t){return t.dynamicChildren=Di>0?Zt||xa:null,dv(),Di>0&&Zt&&Zt.push(t),t}function w(t,e,s,n,a,i){return Gp(d(t,e,s,n,a,i,!0))}function $e(t,e,s,n,a){return Gp(S(t,e,s,n,a,!0))}function Pi(t){return t?t.__v_isVNode===!0:!1}function Gn(t,e){return t.type===e.type&&t.key===e.key}const Kp=({key:t})=>t??null,Lo=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?lt(t)||Pt(t)||Fe(t)?{i:wt,r:t,k:e,f:!!s}:t:null);function d(t,e=null,s=null,n=0,a=null,i=t===be?0:1,o=!1,r=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Kp(e),ref:e&&Lo(e),scopeId:fp,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:wt};return r?(qd(l,s),i&128&&t.normalize(l)):s&&(l.shapeFlag|=lt(s)?8:16),Di>0&&!o&&Zt&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Zt.push(l),l}const S=cv;function cv(t,e=null,s=null,n=0,a=null,i=!1){if((!t||t===Mp)&&(t=Mt),Pi(t)){const r=En(t,e,!0);return s&&qd(r,s),Di>0&&!i&&Zt&&(r.shapeFlag&6?Zt[Zt.indexOf(t)]=r:Zt.push(r)),r.patchFlag=-2,r}if(_v(t)&&(t=t.__vccOpts),e){e=uv(e);let{class:r,style:l}=e;r&&!lt(r)&&(e.class=Ee(r)),Ze(l)&&(Fd(l)&&!Ne(l)&&(l=_t({},l)),e.style=vs(l))}const o=lt(t)?1:qp(t)?128:mp(t)?64:Ze(t)?4:Fe(t)?2:0;return d(t,e,s,n,a,o,i,!0)}function uv(t){return t?Fd(t)||Fp(t)?_t({},t):t:null}function En(t,e,s=!1,n=!1){const{props:a,ref:i,patchFlag:o,children:r,transition:l}=t,c=e?fv(a||{},e):a,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&Kp(c),ref:e&&e.ref?s&&i?Ne(i)?i.concat(Lo(e)):[i,Lo(e)]:Lo(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:r,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==be?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&En(t.ssContent),ssFallback:t.ssFallback&&En(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&n&&sa(u,l.clone(u)),u}function Q(t=" ",e=0){return S(Er,null,t,e)}function Qi(t,e){const s=S(Io,null,t);return s.staticCount=e,s}function de(t="",e=!1){return e?(v(),$e(Mt,null,t)):S(Mt,null,t)}function Ts(t){return t==null||typeof t=="boolean"?S(Mt):Ne(t)?S(be,null,t.slice()):Pi(t)?un(t):S(Er,null,String(t))}function un(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:En(t)}function qd(t,e){let s=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(Ne(e))s=16;else if(typeof e=="object")if(n&65){const a=e.default;a&&(a._c&&(a._d=!1),qd(t,a()),a._c&&(a._d=!0));return}else{s=32;const a=e._;!a&&!Fp(e)?e._ctx=wt:a===3&&wt&&(wt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Fe(e)?(e={default:e,_ctx:wt},s=32):(e=String(e),n&64?(s=16,e=[Q(e)]):s=8);t.children=e,t.shapeFlag|=s}function fv(...t){const e={};for(let s=0;s<t.length;s++){const n=t[s];for(const a in n)if(a==="class")e.class!==n.class&&(e.class=Ee([e.class,n.class]));else if(a==="style")e.style=vs([e.style,n.style]);else if(br(a)){const i=e[a],o=n[a];o&&i!==o&&!(Ne(i)&&i.includes(o))&&(e[a]=i?[].concat(i,o):o)}else a!==""&&(e[a]=n[a])}return e}function Cs(t,e,s,n=null){xs(t,e,7,[s,n])}const hv=Op();let pv=0;function gv(t,e,s){const n=t.type,a=(e?e.appContext:t.appContext)||hv,i={uid:pv++,vnode:t,type:n,parent:e,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Wm(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(a.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Vp(n,a),emitsOptions:Np(n,a),emit:null,emitted:null,propsDefaults:et,inheritAttrs:n.inheritAttrs,ctx:et,data:et,props:et,attrs:et,slots:et,refs:et,setupState:et,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=qb.bind(null,i),t.ce&&t.ce(i),i}let Tt=null;const Gd=()=>Tt||wt;let er,Kl;{const t=_r(),e=(s,n)=>{let a;return(a=t[s])||(a=t[s]=[]),a.push(n),i=>{a.length>1?a.forEach(o=>o(i)):a[0](i)}};er=e("__VUE_INSTANCE_SETTERS__",s=>Tt=s),Kl=e("__VUE_SSR_SETTERS__",s=>Oi=s)}const Zi=t=>{const e=Tt;return er(t),t.scope.on(),()=>{t.scope.off(),er(e)}},Zc=()=>{Tt&&Tt.scope.off(),er(null)};function Yp(t){return t.vnode.shapeFlag&4}let Oi=!1;function mv(t,e=!1,s=!1){e&&Kl(e);const{props:n,children:a}=t.vnode,i=Yp(t);Qb(t,n,i,e),sv(t,a,s||e);const o=i?bv(t,e):void 0;return e&&Kl(!1),o}function bv(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Lb);const{setup:n}=s;if(n){Zs();const a=t.setupContext=n.length>1?yv(t):null,i=Zi(t),o=Ji(n,t,0,[t.props,a]),r=Fh(o);if(en(),i(),(r||t.sp)&&!wa(t)&&Sp(t),r){if(o.then(Zc,Zc),e)return o.then(l=>{eu(t,l)}).catch(l=>{wr(l,t,0)});t.asyncDep=o}else eu(t,o)}else Jp(t)}function eu(t,e,s){Fe(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ze(e)&&(t.setupState=rp(e)),Jp(t)}function Jp(t,e,s){const n=t.type;t.render||(t.render=n.render||Rs);{const a=Zi(t);Zs();try{Fb(t)}finally{en(),a()}}}const vv={get(t,e){return Et(t,"get",""),t[e]}};function yv(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,vv),slots:t.slots,emit:t.emit,expose:e}}function $r(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(rp(ub(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in pi)return pi[s](t)},has(e,s){return s in e||s in pi}})):t.proxy}function xv(t,e=!0){return Fe(t)?t.displayName||t.name:t.name||e&&t.__name}function _v(t){return Fe(t)&&"__vccOpts"in t}const he=(t,e)=>mb(t,e,Oi);function $a(t,e,s){try{Zo(-1);const n=arguments.length;return n===2?Ze(e)&&!Ne(e)?Pi(e)?S(t,null,[e]):S(t,e):S(t,null,e):(n>3?s=Array.prototype.slice.call(arguments,2):n===3&&Pi(s)&&(s=[s]),S(t,e,s))}finally{Zo(1)}}const kv="3.5.26";/**
* @vue/runtime-dom v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Yl;const tu=typeof window<"u"&&window.trustedTypes;if(tu)try{Yl=tu.createPolicy("vue",{createHTML:t=>t})}catch{}const Xp=Yl?t=>Yl.createHTML(t):t=>t,wv="http://www.w3.org/2000/svg",Cv="http://www.w3.org/1998/Math/MathML",zs=typeof document<"u"?document:null,su=zs&&zs.createElement("template"),Sv={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,n)=>{const a=e==="svg"?zs.createElementNS(wv,t):e==="mathml"?zs.createElementNS(Cv,t):s?zs.createElement(t,{is:s}):zs.createElement(t);return t==="select"&&n&&n.multiple!=null&&a.setAttribute("multiple",n.multiple),a},createText:t=>zs.createTextNode(t),createComment:t=>zs.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>zs.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,n,a,i){const o=s?s.previousSibling:e.lastChild;if(a&&(a===i||a.nextSibling))for(;e.insertBefore(a.cloneNode(!0),s),!(a===i||!(a=a.nextSibling)););else{su.innerHTML=Xp(n==="svg"?`<svg>${t}</svg>`:n==="mathml"?`<math>${t}</math>`:t);const r=su.content;if(n==="svg"||n==="mathml"){const l=r.firstChild;for(;l.firstChild;)r.appendChild(l.firstChild);r.removeChild(l)}e.insertBefore(r,s)}return[o?o.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},on="transition",Ga="animation",Ma=Symbol("_vtc"),Qp={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Zp=_t({},xp,Qp),Av=t=>(t.displayName="Transition",t.props=Zp,t),Mr=Av((t,{slots:e})=>$a(Eb,eg(t),e)),Bn=(t,e=[])=>{Ne(t)?t.forEach(s=>s(...e)):t&&t(...e)},nu=t=>t?Ne(t)?t.some(e=>e.length>1):t.length>1:!1;function eg(t){const e={};for(const J in t)J in Qp||(e[J]=t[J]);if(t.css===!1)return e;const{name:s="v",type:n,duration:a,enterFromClass:i=`${s}-enter-from`,enterActiveClass:o=`${s}-enter-active`,enterToClass:r=`${s}-enter-to`,appearFromClass:l=i,appearActiveClass:c=o,appearToClass:u=r,leaveFromClass:f=`${s}-leave-from`,leaveActiveClass:h=`${s}-leave-active`,leaveToClass:p=`${s}-leave-to`}=t,b=Ev(a),m=b&&b[0],g=b&&b[1],{onBeforeEnter:y,onEnter:C,onEnterCancelled:k,onLeave:x,onLeaveCancelled:_,onBeforeAppear:T=y,onAppear:E=C,onAppearCancelled:R=k}=e,I=(J,U,V,ee)=>{J._enterCancelled=ee,ln(J,U?u:r),ln(J,U?c:o),V&&V()},P=(J,U)=>{J._isLeaving=!1,ln(J,f),ln(J,p),ln(J,h),U&&U()},q=J=>(U,V)=>{const ee=J?E:C,K=()=>I(U,J,V);Bn(ee,[U,K]),au(()=>{ln(U,J?l:i),As(U,J?u:r),nu(ee)||iu(U,n,m,K)})};return _t(e,{onBeforeEnter(J){Bn(y,[J]),As(J,i),As(J,o)},onBeforeAppear(J){Bn(T,[J]),As(J,l),As(J,c)},onEnter:q(!1),onAppear:q(!0),onLeave(J,U){J._isLeaving=!0;const V=()=>P(J,U);As(J,f),J._enterCancelled?(As(J,h),Jl(J)):(Jl(J),As(J,h)),au(()=>{J._isLeaving&&(ln(J,f),As(J,p),nu(x)||iu(J,n,g,V))}),Bn(x,[J,V])},onEnterCancelled(J){I(J,!1,void 0,!0),Bn(k,[J])},onAppearCancelled(J){I(J,!0,void 0,!0),Bn(R,[J])},onLeaveCancelled(J){P(J),Bn(_,[J])}})}function Ev(t){if(t==null)return null;if(Ze(t))return[ll(t.enter),ll(t.leave)];{const e=ll(t);return[e,e]}}function ll(t){return Lm(t)}function As(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.add(s)),(t[Ma]||(t[Ma]=new Set)).add(e)}function ln(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.remove(n));const s=t[Ma];s&&(s.delete(e),s.size||(t[Ma]=void 0))}function au(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let $v=0;function iu(t,e,s,n){const a=t._endId=++$v,i=()=>{a===t._endId&&n()};if(s!=null)return setTimeout(i,s);const{type:o,timeout:r,propCount:l}=tg(t,e);if(!o)return n();const c=o+"end";let u=0;const f=()=>{t.removeEventListener(c,h),i()},h=p=>{p.target===t&&++u>=l&&f()};setTimeout(()=>{u<l&&f()},r+1),t.addEventListener(c,h)}function tg(t,e){const s=window.getComputedStyle(t),n=b=>(s[b]||"").split(", "),a=n(`${on}Delay`),i=n(`${on}Duration`),o=ou(a,i),r=n(`${Ga}Delay`),l=n(`${Ga}Duration`),c=ou(r,l);let u=null,f=0,h=0;e===on?o>0&&(u=on,f=o,h=i.length):e===Ga?c>0&&(u=Ga,f=c,h=l.length):(f=Math.max(o,c),u=f>0?o>c?on:Ga:null,h=u?u===on?i.length:l.length:0);const p=u===on&&/\b(?:transform|all)(?:,|$)/.test(n(`${on}Property`).toString());return{type:u,timeout:f,propCount:h,hasTransform:p}}function ou(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((s,n)=>ru(s)+ru(t[n])))}function ru(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Jl(t){return(t?t.ownerDocument:document).body.offsetHeight}function Mv(t,e,s){const n=t[Ma];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const lu=Symbol("_vod"),Tv=Symbol("_vsh"),Rv=Symbol(""),Dv=/(?:^|;)\s*display\s*:/;function Pv(t,e,s){const n=t.style,a=lt(s);let i=!1;if(s&&!a){if(e)if(lt(e))for(const o of e.split(";")){const r=o.slice(0,o.indexOf(":")).trim();s[r]==null&&Fo(n,r,"")}else for(const o in e)s[o]==null&&Fo(n,o,"");for(const o in s)o==="display"&&(i=!0),Fo(n,o,s[o])}else if(a){if(e!==s){const o=n[Rv];o&&(s+=";"+o),n.cssText=s,i=Dv.test(s)}}else e&&t.removeAttribute("style");lu in t&&(t[lu]=i?n.display:"",t[Tv]&&(n.display="none"))}const du=/\s*!important$/;function Fo(t,e,s){if(Ne(s))s.forEach(n=>Fo(t,e,n));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const n=Ov(t,e);du.test(s)?t.setProperty(Rn(n),s.replace(du,""),"important"):t[n]=s}}const cu=["Webkit","Moz","ms"],dl={};function Ov(t,e){const s=dl[e];if(s)return s;let n=ls(e);if(n!=="filter"&&n in t)return dl[e]=n;n=yr(n);for(let a=0;a<cu.length;a++){const i=cu[a]+n;if(i in t)return dl[e]=i}return e}const uu="http://www.w3.org/1999/xlink";function fu(t,e,s,n,a,i=zm(e)){n&&e.startsWith("xlink:")?s==null?t.removeAttributeNS(uu,e.slice(6,e.length)):t.setAttributeNS(uu,e,s):s==null||i&&!Uh(s)?t.removeAttribute(e):t.setAttribute(e,i?"":bs(s)?String(s):s)}function hu(t,e,s,n,a){if(e==="innerHTML"||e==="textContent"){s!=null&&(t[e]=e==="innerHTML"?Xp(s):s);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const r=i==="OPTION"?t.getAttribute("value")||"":t.value,l=s==null?t.type==="checkbox"?"on":"":String(s);(r!==l||!("_value"in t))&&(t.value=l),s==null&&t.removeAttribute(e),t._value=s;return}let o=!1;if(s===""||s==null){const r=typeof t[e];r==="boolean"?s=Uh(s):s==null&&r==="string"?(s="",o=!0):r==="number"&&(s=0,o=!0)}try{t[e]=s}catch{}o&&t.removeAttribute(a||e)}function hn(t,e,s,n){t.addEventListener(e,s,n)}function Nv(t,e,s,n){t.removeEventListener(e,s,n)}const pu=Symbol("_vei");function Iv(t,e,s,n,a=null){const i=t[pu]||(t[pu]={}),o=i[e];if(n&&o)o.value=n;else{const[r,l]=Lv(e);if(n){const c=i[e]=Vv(n,a);hn(t,r,c,l)}else o&&(Nv(t,r,o,l),i[e]=void 0)}}const gu=/(?:Once|Passive|Capture)$/;function Lv(t){let e;if(gu.test(t)){e={};let n;for(;n=t.match(gu);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Rn(t.slice(2)),e]}let cl=0;const Fv=Promise.resolve(),Bv=()=>cl||(Fv.then(()=>cl=0),cl=Date.now());function Vv(t,e){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;xs(jv(n,s.value),e,5,[n])};return s.value=t,s.attached=Bv(),s}function jv(t,e){if(Ne(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(n=>a=>!a._stopped&&n&&n(a))}else return e}const mu=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Uv=(t,e,s,n,a,i)=>{const o=a==="svg";e==="class"?Mv(t,n,o):e==="style"?Pv(t,s,n):br(e)?$d(e)||Iv(t,e,s,n,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):zv(t,e,n,o))?(hu(t,e,n),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&fu(t,e,n,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!lt(n))?hu(t,ls(e),n,i,e):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),fu(t,e,n,o))};function zv(t,e,s,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in t&&mu(e)&&Fe(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="sandbox"&&t.tagName==="IFRAME"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const a=t.tagName;if(a==="IMG"||a==="VIDEO"||a==="CANVAS"||a==="SOURCE")return!1}return mu(e)&&lt(s)?!1:e in t}const sg=new WeakMap,ng=new WeakMap,tr=Symbol("_moveCb"),bu=Symbol("_enterCb"),Hv=t=>(delete t.props.mode,t),Wv=Hv({name:"TransitionGroup",props:_t({},Zp,{tag:String,moveClass:String}),setup(t,{slots:e}){const s=Gd(),n=yp();let a,i;return Ep(()=>{if(!a.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!Yv(a[0].el,s.vnode.el,o)){a=[];return}a.forEach(qv),a.forEach(Gv);const r=a.filter(Kv);Jl(s.vnode.el),r.forEach(l=>{const c=l.el,u=c.style;As(c,o),u.transform=u.webkitTransform=u.transitionDuration="";const f=c[tr]=h=>{h&&h.target!==c||(!h||h.propertyName.endsWith("transform"))&&(c.removeEventListener("transitionend",f),c[tr]=null,ln(c,o))};c.addEventListener("transitionend",f)}),a=[]}),()=>{const o=Ge(t),r=eg(o);let l=o.tag||be;if(a=[],i)for(let c=0;c<i.length;c++){const u=i[c];u.el&&u.el instanceof Element&&(a.push(u),sa(u,Ri(u,r,n,s)),sg.set(u,{left:u.el.offsetLeft,top:u.el.offsetTop}))}i=e.default?jd(e.default()):[];for(let c=0;c<i.length;c++){const u=i[c];u.key!=null&&sa(u,Ri(u,r,n,s))}return S(l,null,i)}}}),ag=Wv;function qv(t){const e=t.el;e[tr]&&e[tr](),e[bu]&&e[bu]()}function Gv(t){ng.set(t,{left:t.el.offsetLeft,top:t.el.offsetTop})}function Kv(t){const e=sg.get(t),s=ng.get(t),n=e.left-s.left,a=e.top-s.top;if(n||a){const i=t.el.style;return i.transform=i.webkitTransform=`translate(${n}px,${a}px)`,i.transitionDuration="0s",t}}function Yv(t,e,s){const n=t.cloneNode(),a=t[Ma];a&&a.forEach(r=>{r.split(/\s+/).forEach(l=>l&&n.classList.remove(l))}),s.split(/\s+/).forEach(r=>r&&n.classList.add(r)),n.style.display="none";const i=e.nodeType===1?e:e.parentNode;i.appendChild(n);const{hasTransform:o}=tg(n);return i.removeChild(n),o}const Ta=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Ne(e)?s=>Po(e,s):e};function Jv(t){t.target.composing=!0}function vu(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Qs=Symbol("_assign");function yu(t,e,s){return e&&(t=t.trim()),s&&(t=xr(t)),t}const Ue={created(t,{modifiers:{lazy:e,trim:s,number:n}},a){t[Qs]=Ta(a);const i=n||a.props&&a.props.type==="number";hn(t,e?"change":"input",o=>{o.target.composing||t[Qs](yu(t.value,s,i))}),(s||i)&&hn(t,"change",()=>{t.value=yu(t.value,s,i)}),e||(hn(t,"compositionstart",Jv),hn(t,"compositionend",vu),hn(t,"change",vu))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:s,modifiers:{lazy:n,trim:a,number:i}},o){if(t[Qs]=Ta(o),t.composing)return;const r=(i||t.type==="number")&&!/^0\d/.test(t.value)?xr(t.value):t.value,l=e??"";r!==l&&(document.activeElement===t&&t.type!=="range"&&(n&&e===s||a&&t.value.trim()===l)||(t.value=l))}},vt={deep:!0,created(t,e,s){t[Qs]=Ta(s),hn(t,"change",()=>{const n=t._modelValue,a=Ni(t),i=t.checked,o=t[Qs];if(Ne(n)){const r=Rd(n,a),l=r!==-1;if(i&&!l)o(n.concat(a));else if(!i&&l){const c=[...n];c.splice(r,1),o(c)}}else if(Ua(n)){const r=new Set(n);i?r.add(a):r.delete(a),o(r)}else o(ig(t,i))})},mounted:xu,beforeUpdate(t,e,s){t[Qs]=Ta(s),xu(t,e,s)}};function xu(t,{value:e,oldValue:s},n){t._modelValue=e;let a;if(Ne(e))a=Rd(e,n.props.value)>-1;else if(Ua(e))a=e.has(n.props.value);else{if(e===s)return;a=Yi(e,ig(t,!0))}t.checked!==a&&(t.checked=a)}const Ye={deep:!0,created(t,{value:e,modifiers:{number:s}},n){const a=Ua(e);hn(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>s?xr(Ni(o)):Ni(o));t[Qs](t.multiple?a?new Set(i):i:i[0]),t._assigning=!0,Bd(()=>{t._assigning=!1})}),t[Qs]=Ta(n)},mounted(t,{value:e}){_u(t,e)},beforeUpdate(t,e,s){t[Qs]=Ta(s)},updated(t,{value:e}){t._assigning||_u(t,e)}};function _u(t,e){const s=t.multiple,n=Ne(e);if(!(s&&!n&&!Ua(e))){for(let a=0,i=t.options.length;a<i;a++){const o=t.options[a],r=Ni(o);if(s)if(n){const l=typeof r;l==="string"||l==="number"?o.selected=e.some(c=>String(c)===String(r)):o.selected=Rd(e,r)>-1}else o.selected=e.has(r);else if(Yi(Ni(o),e)){t.selectedIndex!==a&&(t.selectedIndex=a);return}}!s&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Ni(t){return"_value"in t?t._value:t.value}function ig(t,e){const s=e?"_trueValue":"_falseValue";return s in t?t[s]:e}const Xv=["ctrl","shift","alt","meta"],Qv={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Xv.some(s=>t[`${s}Key`]&&!e.includes(s))},gs=(t,e)=>{const s=t._withMods||(t._withMods={}),n=e.join(".");return s[n]||(s[n]=(a,...i)=>{for(let o=0;o<e.length;o++){const r=Qv[e[o]];if(r&&r(a,e))return}return t(a,...i)})},Zv={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},e1=(t,e)=>{const s=t._withKeys||(t._withKeys={}),n=e.join(".");return s[n]||(s[n]=a=>{if(!("key"in a))return;const i=Rn(a.key);if(e.some(o=>o===i||Zv[o]===i))return t(a)})},t1=_t({patchProp:Uv},Sv);let ku;function s1(){return ku||(ku=av(t1))}const n1=(...t)=>{const e=s1().createApp(...t),{mount:s}=e;return e.mount=n=>{const a=i1(n);if(!a)return;const i=e._component;!Fe(i)&&!i.render&&!i.template&&(i.template=a.innerHTML),a.nodeType===1&&(a.textContent="");const o=s(a,!1,a1(a));return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),o},e};function a1(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function i1(t){return lt(t)?document.querySelector(t):t}/*!
 * vue-router v4.6.4
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const va=typeof document<"u";function og(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function o1(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&og(t.default)}const Je=Object.assign;function ul(t,e){const s={};for(const n in e){const a=e[n];s[n]=_s(a)?a.map(t):t(a)}return s}const mi=()=>{},_s=Array.isArray;function wu(t,e){const s={};for(const n in t)s[n]=n in e?e[n]:t[n];return s}const rg=/#/g,r1=/&/g,l1=/\//g,d1=/=/g,c1=/\?/g,lg=/\+/g,u1=/%5B/g,f1=/%5D/g,dg=/%5E/g,h1=/%60/g,cg=/%7B/g,p1=/%7C/g,ug=/%7D/g,g1=/%20/g;function Kd(t){return t==null?"":encodeURI(""+t).replace(p1,"|").replace(u1,"[").replace(f1,"]")}function m1(t){return Kd(t).replace(cg,"{").replace(ug,"}").replace(dg,"^")}function Xl(t){return Kd(t).replace(lg,"%2B").replace(g1,"+").replace(rg,"%23").replace(r1,"%26").replace(h1,"`").replace(cg,"{").replace(ug,"}").replace(dg,"^")}function b1(t){return Xl(t).replace(d1,"%3D")}function v1(t){return Kd(t).replace(rg,"%23").replace(c1,"%3F")}function y1(t){return v1(t).replace(l1,"%2F")}function Ii(t){if(t==null)return null;try{return decodeURIComponent(""+t)}catch{}return""+t}const x1=/\/$/,_1=t=>t.replace(x1,"");function fl(t,e,s="/"){let n,a={},i="",o="";const r=e.indexOf("#");let l=e.indexOf("?");return l=r>=0&&l>r?-1:l,l>=0&&(n=e.slice(0,l),i=e.slice(l,r>0?r:e.length),a=t(i.slice(1))),r>=0&&(n=n||e.slice(0,r),o=e.slice(r,e.length)),n=S1(n??e,s),{fullPath:n+i+o,path:n,query:a,hash:Ii(o)}}function k1(t,e){const s=e.query?t(e.query):"";return e.path+(s&&"?")+s+(e.hash||"")}function Cu(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function w1(t,e,s){const n=e.matched.length-1,a=s.matched.length-1;return n>-1&&n===a&&Ra(e.matched[n],s.matched[a])&&fg(e.params,s.params)&&t(e.query)===t(s.query)&&e.hash===s.hash}function Ra(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function fg(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var s in t)if(!C1(t[s],e[s]))return!1;return!0}function C1(t,e){return _s(t)?Su(t,e):_s(e)?Su(e,t):(t==null?void 0:t.valueOf())===(e==null?void 0:e.valueOf())}function Su(t,e){return _s(e)?t.length===e.length&&t.every((s,n)=>s===e[n]):t.length===1&&t[0]===e}function S1(t,e){if(t.startsWith("/"))return t;if(!t)return e;const s=e.split("/"),n=t.split("/"),a=n[n.length-1];(a===".."||a===".")&&n.push("");let i=s.length-1,o,r;for(o=0;o<n.length;o++)if(r=n[o],r!==".")if(r==="..")i>1&&i--;else break;return s.slice(0,i).join("/")+"/"+n.slice(o).join("/")}const rn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let Ql=function(t){return t.pop="pop",t.push="push",t}({}),hl=function(t){return t.back="back",t.forward="forward",t.unknown="",t}({});function A1(t){if(!t)if(va){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),_1(t)}const E1=/^[^#]+#/;function $1(t,e){return t.replace(E1,"#")+e}function M1(t,e){const s=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{behavior:e.behavior,left:n.left-s.left-(e.left||0),top:n.top-s.top-(e.top||0)}}const Tr=()=>({left:window.scrollX,top:window.scrollY});function T1(t){let e;if("el"in t){const s=t.el,n=typeof s=="string"&&s.startsWith("#"),a=typeof s=="string"?n?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!a)return;e=M1(a,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Au(t,e){return(history.state?history.state.position-e:-1)+t}const Zl=new Map;function R1(t,e){Zl.set(t,e)}function D1(t){const e=Zl.get(t);return Zl.delete(t),e}function P1(t){return typeof t=="string"||t&&typeof t=="object"}function hg(t){return typeof t=="string"||typeof t=="symbol"}let ct=function(t){return t[t.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",t[t.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",t[t.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",t[t.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",t[t.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",t}({});const pg=Symbol("");ct.MATCHER_NOT_FOUND+"",ct.NAVIGATION_GUARD_REDIRECT+"",ct.NAVIGATION_ABORTED+"",ct.NAVIGATION_CANCELLED+"",ct.NAVIGATION_DUPLICATED+"";function Da(t,e){return Je(new Error,{type:t,[pg]:!0},e)}function Fs(t,e){return t instanceof Error&&pg in t&&(e==null||!!(t.type&e))}const O1=["params","query","hash"];function N1(t){if(typeof t=="string")return t;if(t.path!=null)return t.path;const e={};for(const s of O1)s in t&&(e[s]=t[s]);return JSON.stringify(e,null,2)}function I1(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let n=0;n<s.length;++n){const a=s[n].replace(lg," "),i=a.indexOf("="),o=Ii(i<0?a:a.slice(0,i)),r=i<0?null:Ii(a.slice(i+1));if(o in e){let l=e[o];_s(l)||(l=e[o]=[l]),l.push(r)}else e[o]=r}return e}function Eu(t){let e="";for(let s in t){const n=t[s];if(s=b1(s),n==null){n!==void 0&&(e+=(e.length?"&":"")+s);continue}(_s(n)?n.map(a=>a&&Xl(a)):[n&&Xl(n)]).forEach(a=>{a!==void 0&&(e+=(e.length?"&":"")+s,a!=null&&(e+="="+a))})}return e}function L1(t){const e={};for(const s in t){const n=t[s];n!==void 0&&(e[s]=_s(n)?n.map(a=>a==null?null:""+a):n==null?n:""+n)}return e}const F1=Symbol(""),$u=Symbol(""),Rr=Symbol(""),Yd=Symbol(""),ed=Symbol("");function Ka(){let t=[];function e(n){return t.push(n),()=>{const a=t.indexOf(n);a>-1&&t.splice(a,1)}}function s(){t=[]}return{add:e,list:()=>t.slice(),reset:s}}function fn(t,e,s,n,a,i=o=>o()){const o=n&&(n.enterCallbacks[a]=n.enterCallbacks[a]||[]);return()=>new Promise((r,l)=>{const c=h=>{h===!1?l(Da(ct.NAVIGATION_ABORTED,{from:s,to:e})):h instanceof Error?l(h):P1(h)?l(Da(ct.NAVIGATION_GUARD_REDIRECT,{from:e,to:h})):(o&&n.enterCallbacks[a]===o&&typeof h=="function"&&o.push(h),r())},u=i(()=>t.call(n&&n.instances[a],e,s,c));let f=Promise.resolve(u);t.length<3&&(f=f.then(c)),f.catch(h=>l(h))})}function pl(t,e,s,n,a=i=>i()){const i=[];for(const o of t)for(const r in o.components){let l=o.components[r];if(!(e!=="beforeRouteEnter"&&!o.instances[r]))if(og(l)){const c=(l.__vccOpts||l)[e];c&&i.push(fn(c,s,n,o,r,a))}else{let c=l();i.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${r}" at "${o.path}"`);const f=o1(u)?u.default:u;o.mods[r]=u,o.components[r]=f;const h=(f.__vccOpts||f)[e];return h&&fn(h,s,n,o,r,a)()}))}}return i}function B1(t,e){const s=[],n=[],a=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const r=e.matched[o];r&&(t.matched.find(c=>Ra(c,r))?n.push(r):s.push(r));const l=t.matched[o];l&&(e.matched.find(c=>Ra(c,l))||a.push(l))}return[s,n,a]}/*!
 * vue-router v4.6.4
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let V1=()=>location.protocol+"//"+location.host;function gg(t,e){const{pathname:s,search:n,hash:a}=e,i=t.indexOf("#");if(i>-1){let o=a.includes(t.slice(i))?t.slice(i).length:1,r=a.slice(o);return r[0]!=="/"&&(r="/"+r),Cu(r,"")}return Cu(s,t)+n+a}function j1(t,e,s,n){let a=[],i=[],o=null;const r=({state:h})=>{const p=gg(t,location),b=s.value,m=e.value;let g=0;if(h){if(s.value=p,e.value=h,o&&o===b){o=null;return}g=m?h.position-m.position:0}else n(p);a.forEach(y=>{y(s.value,b,{delta:g,type:Ql.pop,direction:g?g>0?hl.forward:hl.back:hl.unknown})})};function l(){o=s.value}function c(h){a.push(h);const p=()=>{const b=a.indexOf(h);b>-1&&a.splice(b,1)};return i.push(p),p}function u(){if(document.visibilityState==="hidden"){const{history:h}=window;if(!h.state)return;h.replaceState(Je({},h.state,{scroll:Tr()}),"")}}function f(){for(const h of i)h();i=[],window.removeEventListener("popstate",r),window.removeEventListener("pagehide",u),document.removeEventListener("visibilitychange",u)}return window.addEventListener("popstate",r),window.addEventListener("pagehide",u),document.addEventListener("visibilitychange",u),{pauseListeners:l,listen:c,destroy:f}}function Mu(t,e,s,n=!1,a=!1){return{back:t,current:e,forward:s,replaced:n,position:window.history.length,scroll:a?Tr():null}}function U1(t){const{history:e,location:s}=window,n={value:gg(t,s)},a={value:e.state};a.value||i(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,c,u){const f=t.indexOf("#"),h=f>-1?(s.host&&document.querySelector("base")?t:t.slice(f))+l:V1()+t+l;try{e[u?"replaceState":"pushState"](c,"",h),a.value=c}catch(p){console.error(p),s[u?"replace":"assign"](h)}}function o(l,c){i(l,Je({},e.state,Mu(a.value.back,l,a.value.forward,!0),c,{position:a.value.position}),!0),n.value=l}function r(l,c){const u=Je({},a.value,e.state,{forward:l,scroll:Tr()});i(u.current,u,!0),i(l,Je({},Mu(n.value,l,null),{position:u.position+1},c),!1),n.value=l}return{location:n,state:a,push:r,replace:o}}function z1(t){t=A1(t);const e=U1(t),s=j1(t,e.state,e.location,e.replace);function n(i,o=!0){o||s.pauseListeners(),history.go(i)}const a=Je({location:"",base:t,go:n,createHref:$1.bind(null,t)},e,s);return Object.defineProperty(a,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(a,"state",{enumerable:!0,get:()=>e.state.value}),a}let Kn=function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.Group=2]="Group",t}({});var bt=function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.ParamRegExp=2]="ParamRegExp",t[t.ParamRegExpEnd=3]="ParamRegExpEnd",t[t.EscapeNext=4]="EscapeNext",t}(bt||{});const H1={type:Kn.Static,value:""},W1=/[a-zA-Z0-9_]/;function q1(t){if(!t)return[[]];if(t==="/")return[[H1]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(p){throw new Error(`ERR (${s})/"${c}": ${p}`)}let s=bt.Static,n=s;const a=[];let i;function o(){i&&a.push(i),i=[]}let r=0,l,c="",u="";function f(){c&&(s===bt.Static?i.push({type:Kn.Static,value:c}):s===bt.Param||s===bt.ParamRegExp||s===bt.ParamRegExpEnd?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:Kn.Param,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function h(){c+=l}for(;r<t.length;){if(l=t[r++],l==="\\"&&s!==bt.ParamRegExp){n=s,s=bt.EscapeNext;continue}switch(s){case bt.Static:l==="/"?(c&&f(),o()):l===":"?(f(),s=bt.Param):h();break;case bt.EscapeNext:h(),s=n;break;case bt.Param:l==="("?s=bt.ParamRegExp:W1.test(l)?h():(f(),s=bt.Static,l!=="*"&&l!=="?"&&l!=="+"&&r--);break;case bt.ParamRegExp:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:s=bt.ParamRegExpEnd:u+=l;break;case bt.ParamRegExpEnd:f(),s=bt.Static,l!=="*"&&l!=="?"&&l!=="+"&&r--,u="";break;default:e("Unknown state");break}}return s===bt.ParamRegExp&&e(`Unfinished custom RegExp for param "${c}"`),f(),o(),a}const Tu="[^/]+?",G1={sensitive:!1,strict:!1,start:!0,end:!0};var Vt=function(t){return t[t._multiplier=10]="_multiplier",t[t.Root=90]="Root",t[t.Segment=40]="Segment",t[t.SubSegment=30]="SubSegment",t[t.Static=40]="Static",t[t.Dynamic=20]="Dynamic",t[t.BonusCustomRegExp=10]="BonusCustomRegExp",t[t.BonusWildcard=-50]="BonusWildcard",t[t.BonusRepeatable=-20]="BonusRepeatable",t[t.BonusOptional=-8]="BonusOptional",t[t.BonusStrict=.7000000000000001]="BonusStrict",t[t.BonusCaseSensitive=.25]="BonusCaseSensitive",t}(Vt||{});const K1=/[.+*?^${}()[\]/\\]/g;function Y1(t,e){const s=Je({},G1,e),n=[];let a=s.start?"^":"";const i=[];for(const c of t){const u=c.length?[]:[Vt.Root];s.strict&&!c.length&&(a+="/");for(let f=0;f<c.length;f++){const h=c[f];let p=Vt.Segment+(s.sensitive?Vt.BonusCaseSensitive:0);if(h.type===Kn.Static)f||(a+="/"),a+=h.value.replace(K1,"\\$&"),p+=Vt.Static;else if(h.type===Kn.Param){const{value:b,repeatable:m,optional:g,regexp:y}=h;i.push({name:b,repeatable:m,optional:g});const C=y||Tu;if(C!==Tu){p+=Vt.BonusCustomRegExp;try{`${C}`}catch(x){throw new Error(`Invalid custom RegExp for param "${b}" (${C}): `+x.message)}}let k=m?`((?:${C})(?:/(?:${C}))*)`:`(${C})`;f||(k=g&&c.length<2?`(?:/${k})`:"/"+k),g&&(k+="?"),a+=k,p+=Vt.Dynamic,g&&(p+=Vt.BonusOptional),m&&(p+=Vt.BonusRepeatable),C===".*"&&(p+=Vt.BonusWildcard)}u.push(p)}n.push(u)}if(s.strict&&s.end){const c=n.length-1;n[c][n[c].length-1]+=Vt.BonusStrict}s.strict||(a+="/?"),s.end?a+="$":s.strict&&!a.endsWith("/")&&(a+="(?:/|$)");const o=new RegExp(a,s.sensitive?"":"i");function r(c){const u=c.match(o),f={};if(!u)return null;for(let h=1;h<u.length;h++){const p=u[h]||"",b=i[h-1];f[b.name]=p&&b.repeatable?p.split("/"):p}return f}function l(c){let u="",f=!1;for(const h of t){(!f||!u.endsWith("/"))&&(u+="/"),f=!1;for(const p of h)if(p.type===Kn.Static)u+=p.value;else if(p.type===Kn.Param){const{value:b,repeatable:m,optional:g}=p,y=b in c?c[b]:"";if(_s(y)&&!m)throw new Error(`Provided param "${b}" is an array but it is not repeatable (* or + modifiers)`);const C=_s(y)?y.join("/"):y;if(!C)if(g)h.length<2&&(u.endsWith("/")?u=u.slice(0,-1):f=!0);else throw new Error(`Missing required param "${b}"`);u+=C}}return u||"/"}return{re:o,score:n,keys:i,parse:r,stringify:l}}function J1(t,e){let s=0;for(;s<t.length&&s<e.length;){const n=e[s]-t[s];if(n)return n;s++}return t.length<e.length?t.length===1&&t[0]===Vt.Static+Vt.Segment?-1:1:t.length>e.length?e.length===1&&e[0]===Vt.Static+Vt.Segment?1:-1:0}function mg(t,e){let s=0;const n=t.score,a=e.score;for(;s<n.length&&s<a.length;){const i=J1(n[s],a[s]);if(i)return i;s++}if(Math.abs(a.length-n.length)===1){if(Ru(n))return 1;if(Ru(a))return-1}return a.length-n.length}function Ru(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const X1={strict:!1,end:!0,sensitive:!1};function Q1(t,e,s){const n=Y1(q1(t.path),s),a=Je(n,{record:t,parent:e,children:[],alias:[]});return e&&!a.record.aliasOf==!e.record.aliasOf&&e.children.push(a),a}function Z1(t,e){const s=[],n=new Map;e=wu(X1,e);function a(f){return n.get(f)}function i(f,h,p){const b=!p,m=Pu(f);m.aliasOf=p&&p.record;const g=wu(e,f),y=[m];if("alias"in f){const x=typeof f.alias=="string"?[f.alias]:f.alias;for(const _ of x)y.push(Pu(Je({},m,{components:p?p.record.components:m.components,path:_,aliasOf:p?p.record:m})))}let C,k;for(const x of y){const{path:_}=x;if(h&&_[0]!=="/"){const T=h.record.path,E=T[T.length-1]==="/"?"":"/";x.path=h.record.path+(_&&E+_)}if(C=Q1(x,h,g),p?p.alias.push(C):(k=k||C,k!==C&&k.alias.push(C),b&&f.name&&!Ou(C)&&o(f.name)),bg(C)&&l(C),m.children){const T=m.children;for(let E=0;E<T.length;E++)i(T[E],C,p&&p.children[E])}p=p||C}return k?()=>{o(k)}:mi}function o(f){if(hg(f)){const h=n.get(f);h&&(n.delete(f),s.splice(s.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=s.indexOf(f);h>-1&&(s.splice(h,1),f.record.name&&n.delete(f.record.name),f.children.forEach(o),f.alias.forEach(o))}}function r(){return s}function l(f){const h=sy(f,s);s.splice(h,0,f),f.record.name&&!Ou(f)&&n.set(f.record.name,f)}function c(f,h){let p,b={},m,g;if("name"in f&&f.name){if(p=n.get(f.name),!p)throw Da(ct.MATCHER_NOT_FOUND,{location:f});g=p.record.name,b=Je(Du(h.params,p.keys.filter(k=>!k.optional).concat(p.parent?p.parent.keys.filter(k=>k.optional):[]).map(k=>k.name)),f.params&&Du(f.params,p.keys.map(k=>k.name))),m=p.stringify(b)}else if(f.path!=null)m=f.path,p=s.find(k=>k.re.test(m)),p&&(b=p.parse(m),g=p.record.name);else{if(p=h.name?n.get(h.name):s.find(k=>k.re.test(h.path)),!p)throw Da(ct.MATCHER_NOT_FOUND,{location:f,currentLocation:h});g=p.record.name,b=Je({},h.params,f.params),m=p.stringify(b)}const y=[];let C=p;for(;C;)y.unshift(C.record),C=C.parent;return{name:g,path:m,params:b,matched:y,meta:ty(y)}}t.forEach(f=>i(f));function u(){s.length=0,n.clear()}return{addRoute:i,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:r,getRecordMatcher:a}}function Du(t,e){const s={};for(const n of e)n in t&&(s[n]=t[n]);return s}function Pu(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:ey(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function ey(t){const e={},s=t.props||!1;if("component"in t)e.default=s;else for(const n in t.components)e[n]=typeof s=="object"?s[n]:s;return e}function Ou(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function ty(t){return t.reduce((e,s)=>Je(e,s.meta),{})}function sy(t,e){let s=0,n=e.length;for(;s!==n;){const i=s+n>>1;mg(t,e[i])<0?n=i:s=i+1}const a=ny(t);return a&&(n=e.lastIndexOf(a,n-1)),n}function ny(t){let e=t;for(;e=e.parent;)if(bg(e)&&mg(t,e)===0)return e}function bg({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function Nu(t){const e=ps(Rr),s=ps(Yd),n=he(()=>{const l=B(t.to);return e.resolve(l)}),a=he(()=>{const{matched:l}=n.value,{length:c}=l,u=l[c-1],f=s.matched;if(!u||!f.length)return-1;const h=f.findIndex(Ra.bind(null,u));if(h>-1)return h;const p=Iu(l[c-2]);return c>1&&Iu(u)===p&&f[f.length-1].path!==p?f.findIndex(Ra.bind(null,l[c-2])):h}),i=he(()=>a.value>-1&&ly(s.params,n.value.params)),o=he(()=>a.value>-1&&a.value===s.matched.length-1&&fg(s.params,n.value.params));function r(l={}){if(ry(l)){const c=e[B(t.replace)?"replace":"push"](B(t.to)).catch(mi);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:n,href:he(()=>n.value.href),isActive:i,isExactActive:o,navigate:r}}function ay(t){return t.length===1?t[0]:t}const iy=Cp({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Nu,setup(t,{slots:e}){const s=Ns(Nu(t)),{options:n}=ps(Rr),a=he(()=>({[Lu(t.activeClass,n.linkActiveClass,"router-link-active")]:s.isActive,[Lu(t.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const i=e.default&&ay(e.default(s));return t.custom?i:$a("a",{"aria-current":s.isExactActive?t.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:a.value},i)}}}),oy=iy;function ry(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function ly(t,e){for(const s in e){const n=e[s],a=t[s];if(typeof n=="string"){if(n!==a)return!1}else if(!_s(a)||a.length!==n.length||n.some((i,o)=>i.valueOf()!==a[o].valueOf()))return!1}return!0}function Iu(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Lu=(t,e,s)=>t??e??s,dy=Cp({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:s}){const n=ps(ed),a=he(()=>t.route||n.value),i=ps($u,0),o=he(()=>{let c=B(i);const{matched:u}=a.value;let f;for(;(f=u[c])&&!f.components;)c++;return c}),r=he(()=>a.value.matched[o.value]);Oo($u,he(()=>o.value+1)),Oo(F1,r),Oo(ed,a);const l=D();return qe(()=>[l.value,r.value,t.name],([c,u,f],[h,p,b])=>{u&&(u.instances[f]=c,p&&p!==u&&c&&c===h&&(u.leaveGuards.size||(u.leaveGuards=p.leaveGuards),u.updateGuards.size||(u.updateGuards=p.updateGuards))),c&&u&&(!p||!Ra(u,p)||!h)&&(u.enterCallbacks[f]||[]).forEach(m=>m(c))},{flush:"post"}),()=>{const c=a.value,u=t.name,f=r.value,h=f&&f.components[u];if(!h)return Fu(s.default,{Component:h,route:c});const p=f.props[u],b=p?p===!0?c.params:typeof p=="function"?p(c):p:null,g=$a(h,Je({},b,e,{onVnodeUnmounted:y=>{y.component.isUnmounted&&(f.instances[u]=null)},ref:l}));return Fu(s.default,{Component:g,route:c})||g}}});function Fu(t,e){if(!t)return null;const s=t(e);return s.length===1?s[0]:s}const cy=dy;function uy(t){const e=Z1(t.routes,t),s=t.parseQuery||I1,n=t.stringifyQuery||Eu,a=t.history,i=Ka(),o=Ka(),r=Ka(),l=fb(rn);let c=rn;va&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=ul.bind(null,A=>""+A),f=ul.bind(null,y1),h=ul.bind(null,Ii);function p(A,O){let X,re;return hg(A)?(X=e.getRecordMatcher(A),re=O):re=A,e.addRoute(re,X)}function b(A){const O=e.getRecordMatcher(A);O&&e.removeRoute(O)}function m(){return e.getRoutes().map(A=>A.record)}function g(A){return!!e.getRecordMatcher(A)}function y(A,O){if(O=Je({},O||l.value),typeof A=="string"){const Y=fl(s,A,O.path),ce=e.resolve({path:Y.path},O),pe=a.createHref(Y.fullPath);return Je(Y,ce,{params:h(ce.params),hash:Ii(Y.hash),redirectedFrom:void 0,href:pe})}let X;if(A.path!=null)X=Je({},A,{path:fl(s,A.path,O.path).path});else{const Y=Je({},A.params);for(const ce in Y)Y[ce]==null&&delete Y[ce];X=Je({},A,{params:f(Y)}),O.params=f(O.params)}const re=e.resolve(X,O),ie=A.hash||"";re.params=u(h(re.params));const N=k1(n,Je({},A,{hash:m1(ie),path:re.path})),F=a.createHref(N);return Je({fullPath:N,hash:ie,query:n===Eu?L1(A.query):A.query||{}},re,{redirectedFrom:void 0,href:F})}function C(A){return typeof A=="string"?fl(s,A,l.value.path):Je({},A)}function k(A,O){if(c!==A)return Da(ct.NAVIGATION_CANCELLED,{from:O,to:A})}function x(A){return E(A)}function _(A){return x(Je(C(A),{replace:!0}))}function T(A,O){const X=A.matched[A.matched.length-1];if(X&&X.redirect){const{redirect:re}=X;let ie=typeof re=="function"?re(A,O):re;return typeof ie=="string"&&(ie=ie.includes("?")||ie.includes("#")?ie=C(ie):{path:ie},ie.params={}),Je({query:A.query,hash:A.hash,params:ie.path!=null?{}:A.params},ie)}}function E(A,O){const X=c=y(A),re=l.value,ie=A.state,N=A.force,F=A.replace===!0,Y=T(X,re);if(Y)return E(Je(C(Y),{state:typeof Y=="object"?Je({},ie,Y.state):ie,force:N,replace:F}),O||X);const ce=X;ce.redirectedFrom=O;let pe;return!N&&w1(n,re,X)&&(pe=Da(ct.NAVIGATION_DUPLICATED,{to:ce,from:re}),ge(re,re,!0,!1)),(pe?Promise.resolve(pe):P(ce,re)).catch(fe=>Fs(fe)?Fs(fe,ct.NAVIGATION_GUARD_REDIRECT)?fe:xe(fe):H(fe,ce,re)).then(fe=>{if(fe){if(Fs(fe,ct.NAVIGATION_GUARD_REDIRECT))return E(Je({replace:F},C(fe.to),{state:typeof fe.to=="object"?Je({},ie,fe.to.state):ie,force:N}),O||ce)}else fe=J(ce,re,!0,F,ie);return q(ce,re,fe),fe})}function R(A,O){const X=k(A,O);return X?Promise.reject(X):Promise.resolve()}function I(A){const O=ae.values().next().value;return O&&typeof O.runWithContext=="function"?O.runWithContext(A):A()}function P(A,O){let X;const[re,ie,N]=B1(A,O);X=pl(re.reverse(),"beforeRouteLeave",A,O);for(const Y of re)Y.leaveGuards.forEach(ce=>{X.push(fn(ce,A,O))});const F=R.bind(null,A,O);return X.push(F),j(X).then(()=>{X=[];for(const Y of i.list())X.push(fn(Y,A,O));return X.push(F),j(X)}).then(()=>{X=pl(ie,"beforeRouteUpdate",A,O);for(const Y of ie)Y.updateGuards.forEach(ce=>{X.push(fn(ce,A,O))});return X.push(F),j(X)}).then(()=>{X=[];for(const Y of N)if(Y.beforeEnter)if(_s(Y.beforeEnter))for(const ce of Y.beforeEnter)X.push(fn(ce,A,O));else X.push(fn(Y.beforeEnter,A,O));return X.push(F),j(X)}).then(()=>(A.matched.forEach(Y=>Y.enterCallbacks={}),X=pl(N,"beforeRouteEnter",A,O,I),X.push(F),j(X))).then(()=>{X=[];for(const Y of o.list())X.push(fn(Y,A,O));return X.push(F),j(X)}).catch(Y=>Fs(Y,ct.NAVIGATION_CANCELLED)?Y:Promise.reject(Y))}function q(A,O,X){r.list().forEach(re=>I(()=>re(A,O,X)))}function J(A,O,X,re,ie){const N=k(A,O);if(N)return N;const F=O===rn,Y=va?history.state:{};X&&(re||F?a.replace(A.fullPath,Je({scroll:F&&Y&&Y.scroll},ie)):a.push(A.fullPath,ie)),l.value=A,ge(A,O,X,F),xe()}let U;function V(){U||(U=a.listen((A,O,X)=>{if(!te.listening)return;const re=y(A),ie=T(re,te.currentRoute.value);if(ie){E(Je(ie,{replace:!0,force:!0}),re).catch(mi);return}c=re;const N=l.value;va&&R1(Au(N.fullPath,X.delta),Tr()),P(re,N).catch(F=>Fs(F,ct.NAVIGATION_ABORTED|ct.NAVIGATION_CANCELLED)?F:Fs(F,ct.NAVIGATION_GUARD_REDIRECT)?(E(Je(C(F.to),{force:!0}),re).then(Y=>{Fs(Y,ct.NAVIGATION_ABORTED|ct.NAVIGATION_DUPLICATED)&&!X.delta&&X.type===Ql.pop&&a.go(-1,!1)}).catch(mi),Promise.reject()):(X.delta&&a.go(-X.delta,!1),H(F,re,N))).then(F=>{F=F||J(re,N,!1),F&&(X.delta&&!Fs(F,ct.NAVIGATION_CANCELLED)?a.go(-X.delta,!1):X.type===Ql.pop&&Fs(F,ct.NAVIGATION_ABORTED|ct.NAVIGATION_DUPLICATED)&&a.go(-1,!1)),q(re,N,F)}).catch(mi)}))}let ee=Ka(),K=Ka(),M;function H(A,O,X){xe(A);const re=K.list();return re.length?re.forEach(ie=>ie(A,O,X)):console.error(A),Promise.reject(A)}function se(){return M&&l.value!==rn?Promise.resolve():new Promise((A,O)=>{ee.add([A,O])})}function xe(A){return M||(M=!A,V(),ee.list().forEach(([O,X])=>A?X(A):O()),ee.reset()),A}function ge(A,O,X,re){const{scrollBehavior:ie}=t;if(!va||!ie)return Promise.resolve();const N=!X&&D1(Au(A.fullPath,0))||(re||!X)&&history.state&&history.state.scroll||null;return Bd().then(()=>ie(A,O,N)).then(F=>F&&T1(F)).catch(F=>H(F,A,O))}const G=A=>a.go(A);let z;const ae=new Set,te={currentRoute:l,listening:!0,addRoute:p,removeRoute:b,clearRoutes:e.clearRoutes,hasRoute:g,getRoutes:m,resolve:y,options:t,push:x,replace:_,go:G,back:()=>G(-1),forward:()=>G(1),beforeEach:i.add,beforeResolve:o.add,afterEach:r.add,onError:K.add,isReady:se,install(A){A.component("RouterLink",oy),A.component("RouterView",cy),A.config.globalProperties.$router=te,Object.defineProperty(A.config.globalProperties,"$route",{enumerable:!0,get:()=>B(l)}),va&&!z&&l.value===rn&&(z=!0,x(a.location).catch(re=>{}));const O={};for(const re in rn)Object.defineProperty(O,re,{get:()=>l.value[re],enumerable:!0});A.provide(Rr,te),A.provide(Yd,ip(O)),A.provide(ed,l);const X=A.unmount;ae.add(A),A.unmount=function(){ae.delete(A),ae.size<1&&(c=rn,U&&U(),U=null,l.value=rn,z=!1,M=!1),X()}}};function j(A){return A.reduce((O,X)=>O.then(()=>I(X)),Promise.resolve())}return te}function ra(){return ps(Rr)}function la(t){return ps(Yd)}function vg(t,e){return function(){return t.apply(e,arguments)}}const{toString:fy}=Object.prototype,{getPrototypeOf:Jd}=Object,{iterator:Dr,toStringTag:yg}=Symbol,Pr=(t=>e=>{const s=fy.call(e);return t[s]||(t[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),ks=t=>(t=t.toLowerCase(),e=>Pr(e)===t),Or=t=>e=>typeof e===t,{isArray:za}=Array,Pa=Or("undefined");function eo(t){return t!==null&&!Pa(t)&&t.constructor!==null&&!Pa(t.constructor)&&Yt(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const xg=ks("ArrayBuffer");function hy(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&xg(t.buffer),e}const py=Or("string"),Yt=Or("function"),_g=Or("number"),to=t=>t!==null&&typeof t=="object",gy=t=>t===!0||t===!1,Bo=t=>{if(Pr(t)!=="object")return!1;const e=Jd(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(yg in t)&&!(Dr in t)},my=t=>{if(!to(t)||eo(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},by=ks("Date"),vy=ks("File"),yy=ks("Blob"),xy=ks("FileList"),_y=t=>to(t)&&Yt(t.pipe),ky=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Yt(t.append)&&((e=Pr(t))==="formdata"||e==="object"&&Yt(t.toString)&&t.toString()==="[object FormData]"))},wy=ks("URLSearchParams"),[Cy,Sy,Ay,Ey]=["ReadableStream","Request","Response","Headers"].map(ks),$y=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function so(t,e,{allOwnKeys:s=!1}={}){if(t===null||typeof t>"u")return;let n,a;if(typeof t!="object"&&(t=[t]),za(t))for(n=0,a=t.length;n<a;n++)e.call(null,t[n],n,t);else{if(eo(t))return;const i=s?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let r;for(n=0;n<o;n++)r=i[n],e.call(null,t[r],r,t)}}function kg(t,e){if(eo(t))return null;e=e.toLowerCase();const s=Object.keys(t);let n=s.length,a;for(;n-- >0;)if(a=s[n],e===a.toLowerCase())return a;return null}const Yn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,wg=t=>!Pa(t)&&t!==Yn;function td(){const{caseless:t,skipUndefined:e}=wg(this)&&this||{},s={},n=(a,i)=>{const o=t&&kg(s,i)||i;Bo(s[o])&&Bo(a)?s[o]=td(s[o],a):Bo(a)?s[o]=td({},a):za(a)?s[o]=a.slice():(!e||!Pa(a))&&(s[o]=a)};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&so(arguments[a],n);return s}const My=(t,e,s,{allOwnKeys:n}={})=>(so(e,(a,i)=>{s&&Yt(a)?t[i]=vg(a,s):t[i]=a},{allOwnKeys:n}),t),Ty=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Ry=(t,e,s,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),s&&Object.assign(t.prototype,s)},Dy=(t,e,s,n)=>{let a,i,o;const r={};if(e=e||{},t==null)return e;do{for(a=Object.getOwnPropertyNames(t),i=a.length;i-- >0;)o=a[i],(!n||n(o,t,e))&&!r[o]&&(e[o]=t[o],r[o]=!0);t=s!==!1&&Jd(t)}while(t&&(!s||s(t,e))&&t!==Object.prototype);return e},Py=(t,e,s)=>{t=String(t),(s===void 0||s>t.length)&&(s=t.length),s-=e.length;const n=t.indexOf(e,s);return n!==-1&&n===s},Oy=t=>{if(!t)return null;if(za(t))return t;let e=t.length;if(!_g(e))return null;const s=new Array(e);for(;e-- >0;)s[e]=t[e];return s},Ny=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Jd(Uint8Array)),Iy=(t,e)=>{const n=(t&&t[Dr]).call(t);let a;for(;(a=n.next())&&!a.done;){const i=a.value;e.call(t,i[0],i[1])}},Ly=(t,e)=>{let s;const n=[];for(;(s=t.exec(e))!==null;)n.push(s);return n},Fy=ks("HTMLFormElement"),By=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,n,a){return n.toUpperCase()+a}),Bu=(({hasOwnProperty:t})=>(e,s)=>t.call(e,s))(Object.prototype),Vy=ks("RegExp"),Cg=(t,e)=>{const s=Object.getOwnPropertyDescriptors(t),n={};so(s,(a,i)=>{let o;(o=e(a,i,t))!==!1&&(n[i]=o||a)}),Object.defineProperties(t,n)},jy=t=>{Cg(t,(e,s)=>{if(Yt(t)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const n=t[s];if(Yt(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},Uy=(t,e)=>{const s={},n=a=>{a.forEach(i=>{s[i]=!0})};return za(t)?n(t):n(String(t).split(e)),s},zy=()=>{},Hy=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Wy(t){return!!(t&&Yt(t.append)&&t[yg]==="FormData"&&t[Dr])}const qy=t=>{const e=new Array(10),s=(n,a)=>{if(to(n)){if(e.indexOf(n)>=0)return;if(eo(n))return n;if(!("toJSON"in n)){e[a]=n;const i=za(n)?[]:{};return so(n,(o,r)=>{const l=s(o,a+1);!Pa(l)&&(i[r]=l)}),e[a]=void 0,i}}return n};return s(t,0)},Gy=ks("AsyncFunction"),Ky=t=>t&&(to(t)||Yt(t))&&Yt(t.then)&&Yt(t.catch),Sg=((t,e)=>t?setImmediate:e?((s,n)=>(Yn.addEventListener("message",({source:a,data:i})=>{a===Yn&&i===s&&n.length&&n.shift()()},!1),a=>{n.push(a),Yn.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",Yt(Yn.postMessage)),Yy=typeof queueMicrotask<"u"?queueMicrotask.bind(Yn):typeof process<"u"&&process.nextTick||Sg,Jy=t=>t!=null&&Yt(t[Dr]),ue={isArray:za,isArrayBuffer:xg,isBuffer:eo,isFormData:ky,isArrayBufferView:hy,isString:py,isNumber:_g,isBoolean:gy,isObject:to,isPlainObject:Bo,isEmptyObject:my,isReadableStream:Cy,isRequest:Sy,isResponse:Ay,isHeaders:Ey,isUndefined:Pa,isDate:by,isFile:vy,isBlob:yy,isRegExp:Vy,isFunction:Yt,isStream:_y,isURLSearchParams:wy,isTypedArray:Ny,isFileList:xy,forEach:so,merge:td,extend:My,trim:$y,stripBOM:Ty,inherits:Ry,toFlatObject:Dy,kindOf:Pr,kindOfTest:ks,endsWith:Py,toArray:Oy,forEachEntry:Iy,matchAll:Ly,isHTMLForm:Fy,hasOwnProperty:Bu,hasOwnProp:Bu,reduceDescriptors:Cg,freezeMethods:jy,toObjectSet:Uy,toCamelCase:By,noop:zy,toFiniteNumber:Hy,findKey:kg,global:Yn,isContextDefined:wg,isSpecCompliantForm:Wy,toJSONObject:qy,isAsyncFn:Gy,isThenable:Ky,setImmediate:Sg,asap:Yy,isIterable:Jy};function Ve(t,e,s,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),s&&(this.config=s),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}ue.inherits(Ve,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ue.toJSONObject(this.config),code:this.code,status:this.status}}});const Ag=Ve.prototype,Eg={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Eg[t]={value:t}});Object.defineProperties(Ve,Eg);Object.defineProperty(Ag,"isAxiosError",{value:!0});Ve.from=(t,e,s,n,a,i)=>{const o=Object.create(Ag);ue.toFlatObject(t,o,function(u){return u!==Error.prototype},c=>c!=="isAxiosError");const r=t&&t.message?t.message:"Error",l=e==null&&t?t.code:e;return Ve.call(o,r,l,s,n,a),t&&o.cause==null&&Object.defineProperty(o,"cause",{value:t,configurable:!0}),o.name=t&&t.name||"Error",i&&Object.assign(o,i),o};const Xy=null;function sd(t){return ue.isPlainObject(t)||ue.isArray(t)}function $g(t){return ue.endsWith(t,"[]")?t.slice(0,-2):t}function Vu(t,e,s){return t?t.concat(e).map(function(a,i){return a=$g(a),!s&&i?"["+a+"]":a}).join(s?".":""):e}function Qy(t){return ue.isArray(t)&&!t.some(sd)}const Zy=ue.toFlatObject(ue,{},null,function(e){return/^is[A-Z]/.test(e)});function Nr(t,e,s){if(!ue.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,s=ue.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,g){return!ue.isUndefined(g[m])});const n=s.metaTokens,a=s.visitor||u,i=s.dots,o=s.indexes,l=(s.Blob||typeof Blob<"u"&&Blob)&&ue.isSpecCompliantForm(e);if(!ue.isFunction(a))throw new TypeError("visitor must be a function");function c(b){if(b===null)return"";if(ue.isDate(b))return b.toISOString();if(ue.isBoolean(b))return b.toString();if(!l&&ue.isBlob(b))throw new Ve("Blob is not supported. Use a Buffer instead.");return ue.isArrayBuffer(b)||ue.isTypedArray(b)?l&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function u(b,m,g){let y=b;if(b&&!g&&typeof b=="object"){if(ue.endsWith(m,"{}"))m=n?m:m.slice(0,-2),b=JSON.stringify(b);else if(ue.isArray(b)&&Qy(b)||(ue.isFileList(b)||ue.endsWith(m,"[]"))&&(y=ue.toArray(b)))return m=$g(m),y.forEach(function(k,x){!(ue.isUndefined(k)||k===null)&&e.append(o===!0?Vu([m],x,i):o===null?m:m+"[]",c(k))}),!1}return sd(b)?!0:(e.append(Vu(g,m,i),c(b)),!1)}const f=[],h=Object.assign(Zy,{defaultVisitor:u,convertValue:c,isVisitable:sd});function p(b,m){if(!ue.isUndefined(b)){if(f.indexOf(b)!==-1)throw Error("Circular reference detected in "+m.join("."));f.push(b),ue.forEach(b,function(y,C){(!(ue.isUndefined(y)||y===null)&&a.call(e,y,ue.isString(C)?C.trim():C,m,h))===!0&&p(y,m?m.concat(C):[C])}),f.pop()}}if(!ue.isObject(t))throw new TypeError("data must be an object");return p(t),e}function ju(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function Xd(t,e){this._pairs=[],t&&Nr(t,this,e)}const Mg=Xd.prototype;Mg.append=function(e,s){this._pairs.push([e,s])};Mg.toString=function(e){const s=e?function(n){return e.call(this,n,ju)}:ju;return this._pairs.map(function(a){return s(a[0])+"="+s(a[1])},"").join("&")};function ex(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Tg(t,e,s){if(!e)return t;const n=s&&s.encode||ex;ue.isFunction(s)&&(s={serialize:s});const a=s&&s.serialize;let i;if(a?i=a(e,s):i=ue.isURLSearchParams(e)?e.toString():new Xd(e,s).toString(n),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class Uu{constructor(){this.handlers=[]}use(e,s,n){return this.handlers.push({fulfilled:e,rejected:s,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ue.forEach(this.handlers,function(n){n!==null&&e(n)})}}const Rg={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},tx=typeof URLSearchParams<"u"?URLSearchParams:Xd,sx=typeof FormData<"u"?FormData:null,nx=typeof Blob<"u"?Blob:null,ax={isBrowser:!0,classes:{URLSearchParams:tx,FormData:sx,Blob:nx},protocols:["http","https","file","blob","url","data"]},Qd=typeof window<"u"&&typeof document<"u",nd=typeof navigator=="object"&&navigator||void 0,ix=Qd&&(!nd||["ReactNative","NativeScript","NS"].indexOf(nd.product)<0),ox=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",rx=Qd&&window.location.href||"http://localhost",lx=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Qd,hasStandardBrowserEnv:ix,hasStandardBrowserWebWorkerEnv:ox,navigator:nd,origin:rx},Symbol.toStringTag,{value:"Module"})),Rt={...lx,...ax};function dx(t,e){return Nr(t,new Rt.classes.URLSearchParams,{visitor:function(s,n,a,i){return Rt.isNode&&ue.isBuffer(s)?(this.append(n,s.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...e})}function cx(t){return ue.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function ux(t){const e={},s=Object.keys(t);let n;const a=s.length;let i;for(n=0;n<a;n++)i=s[n],e[i]=t[i];return e}function Dg(t){function e(s,n,a,i){let o=s[i++];if(o==="__proto__")return!0;const r=Number.isFinite(+o),l=i>=s.length;return o=!o&&ue.isArray(a)?a.length:o,l?(ue.hasOwnProp(a,o)?a[o]=[a[o],n]:a[o]=n,!r):((!a[o]||!ue.isObject(a[o]))&&(a[o]=[]),e(s,n,a[o],i)&&ue.isArray(a[o])&&(a[o]=ux(a[o])),!r)}if(ue.isFormData(t)&&ue.isFunction(t.entries)){const s={};return ue.forEachEntry(t,(n,a)=>{e(cx(n),a,s,0)}),s}return null}function fx(t,e,s){if(ue.isString(t))try{return(e||JSON.parse)(t),ue.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(s||JSON.stringify)(t)}const no={transitional:Rg,adapter:["xhr","http","fetch"],transformRequest:[function(e,s){const n=s.getContentType()||"",a=n.indexOf("application/json")>-1,i=ue.isObject(e);if(i&&ue.isHTMLForm(e)&&(e=new FormData(e)),ue.isFormData(e))return a?JSON.stringify(Dg(e)):e;if(ue.isArrayBuffer(e)||ue.isBuffer(e)||ue.isStream(e)||ue.isFile(e)||ue.isBlob(e)||ue.isReadableStream(e))return e;if(ue.isArrayBufferView(e))return e.buffer;if(ue.isURLSearchParams(e))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let r;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return dx(e,this.formSerializer).toString();if((r=ue.isFileList(e))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Nr(r?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||a?(s.setContentType("application/json",!1),fx(e)):e}],transformResponse:[function(e){const s=this.transitional||no.transitional,n=s&&s.forcedJSONParsing,a=this.responseType==="json";if(ue.isResponse(e)||ue.isReadableStream(e))return e;if(e&&ue.isString(e)&&(n&&!this.responseType||a)){const o=!(s&&s.silentJSONParsing)&&a;try{return JSON.parse(e,this.parseReviver)}catch(r){if(o)throw r.name==="SyntaxError"?Ve.from(r,Ve.ERR_BAD_RESPONSE,this,null,this.response):r}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Rt.classes.FormData,Blob:Rt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ue.forEach(["delete","get","head","post","put","patch"],t=>{no.headers[t]={}});const hx=ue.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),px=t=>{const e={};let s,n,a;return t&&t.split(`
`).forEach(function(o){a=o.indexOf(":"),s=o.substring(0,a).trim().toLowerCase(),n=o.substring(a+1).trim(),!(!s||e[s]&&hx[s])&&(s==="set-cookie"?e[s]?e[s].push(n):e[s]=[n]:e[s]=e[s]?e[s]+", "+n:n)}),e},zu=Symbol("internals");function Ya(t){return t&&String(t).trim().toLowerCase()}function Vo(t){return t===!1||t==null?t:ue.isArray(t)?t.map(Vo):String(t)}function gx(t){const e=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=s.exec(t);)e[n[1]]=n[2];return e}const mx=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function gl(t,e,s,n,a){if(ue.isFunction(n))return n.call(this,e,s);if(a&&(e=s),!!ue.isString(e)){if(ue.isString(n))return e.indexOf(n)!==-1;if(ue.isRegExp(n))return n.test(e)}}function bx(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,s,n)=>s.toUpperCase()+n)}function vx(t,e){const s=ue.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+s,{value:function(a,i,o){return this[n].call(this,e,a,i,o)},configurable:!0})})}let Jt=class{constructor(e){e&&this.set(e)}set(e,s,n){const a=this;function i(r,l,c){const u=Ya(l);if(!u)throw new Error("header name must be a non-empty string");const f=ue.findKey(a,u);(!f||a[f]===void 0||c===!0||c===void 0&&a[f]!==!1)&&(a[f||l]=Vo(r))}const o=(r,l)=>ue.forEach(r,(c,u)=>i(c,u,l));if(ue.isPlainObject(e)||e instanceof this.constructor)o(e,s);else if(ue.isString(e)&&(e=e.trim())&&!mx(e))o(px(e),s);else if(ue.isObject(e)&&ue.isIterable(e)){let r={},l,c;for(const u of e){if(!ue.isArray(u))throw TypeError("Object iterator must return a key-value pair");r[c=u[0]]=(l=r[c])?ue.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}o(r,s)}else e!=null&&i(s,e,n);return this}get(e,s){if(e=Ya(e),e){const n=ue.findKey(this,e);if(n){const a=this[n];if(!s)return a;if(s===!0)return gx(a);if(ue.isFunction(s))return s.call(this,a,n);if(ue.isRegExp(s))return s.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,s){if(e=Ya(e),e){const n=ue.findKey(this,e);return!!(n&&this[n]!==void 0&&(!s||gl(this,this[n],n,s)))}return!1}delete(e,s){const n=this;let a=!1;function i(o){if(o=Ya(o),o){const r=ue.findKey(n,o);r&&(!s||gl(n,n[r],r,s))&&(delete n[r],a=!0)}}return ue.isArray(e)?e.forEach(i):i(e),a}clear(e){const s=Object.keys(this);let n=s.length,a=!1;for(;n--;){const i=s[n];(!e||gl(this,this[i],i,e,!0))&&(delete this[i],a=!0)}return a}normalize(e){const s=this,n={};return ue.forEach(this,(a,i)=>{const o=ue.findKey(n,i);if(o){s[o]=Vo(a),delete s[i];return}const r=e?bx(i):String(i).trim();r!==i&&delete s[i],s[r]=Vo(a),n[r]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const s=Object.create(null);return ue.forEach(this,(n,a)=>{n!=null&&n!==!1&&(s[a]=e&&ue.isArray(n)?n.join(", "):n)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,s])=>e+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...s){const n=new this(e);return s.forEach(a=>n.set(a)),n}static accessor(e){const n=(this[zu]=this[zu]={accessors:{}}).accessors,a=this.prototype;function i(o){const r=Ya(o);n[r]||(vx(a,o),n[r]=!0)}return ue.isArray(e)?e.forEach(i):i(e),this}};Jt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ue.reduceDescriptors(Jt.prototype,({value:t},e)=>{let s=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[s]=n}}});ue.freezeMethods(Jt);function ml(t,e){const s=this||no,n=e||s,a=Jt.from(n.headers);let i=n.data;return ue.forEach(t,function(r){i=r.call(s,i,a.normalize(),e?e.status:void 0)}),a.normalize(),i}function Pg(t){return!!(t&&t.__CANCEL__)}function Ha(t,e,s){Ve.call(this,t??"canceled",Ve.ERR_CANCELED,e,s),this.name="CanceledError"}ue.inherits(Ha,Ve,{__CANCEL__:!0});function Og(t,e,s){const n=s.config.validateStatus;!s.status||!n||n(s.status)?t(s):e(new Ve("Request failed with status code "+s.status,[Ve.ERR_BAD_REQUEST,Ve.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function yx(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function xx(t,e){t=t||10;const s=new Array(t),n=new Array(t);let a=0,i=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=n[i];o||(o=c),s[a]=l,n[a]=c;let f=i,h=0;for(;f!==a;)h+=s[f++],f=f%t;if(a=(a+1)%t,a===i&&(i=(i+1)%t),c-o<e)return;const p=u&&c-u;return p?Math.round(h*1e3/p):void 0}}function _x(t,e){let s=0,n=1e3/e,a,i;const o=(c,u=Date.now())=>{s=u,a=null,i&&(clearTimeout(i),i=null),t(...c)};return[(...c)=>{const u=Date.now(),f=u-s;f>=n?o(c,u):(a=c,i||(i=setTimeout(()=>{i=null,o(a)},n-f)))},()=>a&&o(a)]}const sr=(t,e,s=3)=>{let n=0;const a=xx(50,250);return _x(i=>{const o=i.loaded,r=i.lengthComputable?i.total:void 0,l=o-n,c=a(l),u=o<=r;n=o;const f={loaded:o,total:r,progress:r?o/r:void 0,bytes:l,rate:c||void 0,estimated:c&&r&&u?(r-o)/c:void 0,event:i,lengthComputable:r!=null,[e?"download":"upload"]:!0};t(f)},s)},Hu=(t,e)=>{const s=t!=null;return[n=>e[0]({lengthComputable:s,total:t,loaded:n}),e[1]]},Wu=t=>(...e)=>ue.asap(()=>t(...e)),kx=Rt.hasStandardBrowserEnv?((t,e)=>s=>(s=new URL(s,Rt.origin),t.protocol===s.protocol&&t.host===s.host&&(e||t.port===s.port)))(new URL(Rt.origin),Rt.navigator&&/(msie|trident)/i.test(Rt.navigator.userAgent)):()=>!0,wx=Rt.hasStandardBrowserEnv?{write(t,e,s,n,a,i,o){if(typeof document>"u")return;const r=[`${t}=${encodeURIComponent(e)}`];ue.isNumber(s)&&r.push(`expires=${new Date(s).toUTCString()}`),ue.isString(n)&&r.push(`path=${n}`),ue.isString(a)&&r.push(`domain=${a}`),i===!0&&r.push("secure"),ue.isString(o)&&r.push(`SameSite=${o}`),document.cookie=r.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Cx(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Sx(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Ng(t,e,s){let n=!Cx(e);return t&&(n||s==!1)?Sx(t,e):e}const qu=t=>t instanceof Jt?{...t}:t;function na(t,e){e=e||{};const s={};function n(c,u,f,h){return ue.isPlainObject(c)&&ue.isPlainObject(u)?ue.merge.call({caseless:h},c,u):ue.isPlainObject(u)?ue.merge({},u):ue.isArray(u)?u.slice():u}function a(c,u,f,h){if(ue.isUndefined(u)){if(!ue.isUndefined(c))return n(void 0,c,f,h)}else return n(c,u,f,h)}function i(c,u){if(!ue.isUndefined(u))return n(void 0,u)}function o(c,u){if(ue.isUndefined(u)){if(!ue.isUndefined(c))return n(void 0,c)}else return n(void 0,u)}function r(c,u,f){if(f in e)return n(c,u);if(f in t)return n(void 0,c)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:r,headers:(c,u,f)=>a(qu(c),qu(u),f,!0)};return ue.forEach(Object.keys({...t,...e}),function(u){const f=l[u]||a,h=f(t[u],e[u],u);ue.isUndefined(h)&&f!==r||(s[u]=h)}),s}const Ig=t=>{const e=na({},t);let{data:s,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:r}=e;if(e.headers=o=Jt.from(o),e.url=Tg(Ng(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),r&&o.set("Authorization","Basic "+btoa((r.username||"")+":"+(r.password?unescape(encodeURIComponent(r.password)):""))),ue.isFormData(s)){if(Rt.hasStandardBrowserEnv||Rt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(ue.isFunction(s.getHeaders)){const l=s.getHeaders(),c=["content-type","content-length"];Object.entries(l).forEach(([u,f])=>{c.includes(u.toLowerCase())&&o.set(u,f)})}}if(Rt.hasStandardBrowserEnv&&(n&&ue.isFunction(n)&&(n=n(e)),n||n!==!1&&kx(e.url))){const l=a&&i&&wx.read(i);l&&o.set(a,l)}return e},Ax=typeof XMLHttpRequest<"u",Ex=Ax&&function(t){return new Promise(function(s,n){const a=Ig(t);let i=a.data;const o=Jt.from(a.headers).normalize();let{responseType:r,onUploadProgress:l,onDownloadProgress:c}=a,u,f,h,p,b;function m(){p&&p(),b&&b(),a.cancelToken&&a.cancelToken.unsubscribe(u),a.signal&&a.signal.removeEventListener("abort",u)}let g=new XMLHttpRequest;g.open(a.method.toUpperCase(),a.url,!0),g.timeout=a.timeout;function y(){if(!g)return;const k=Jt.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),_={data:!r||r==="text"||r==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:k,config:t,request:g};Og(function(E){s(E),m()},function(E){n(E),m()},_),g=null}"onloadend"in g?g.onloadend=y:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(y)},g.onabort=function(){g&&(n(new Ve("Request aborted",Ve.ECONNABORTED,t,g)),g=null)},g.onerror=function(x){const _=x&&x.message?x.message:"Network Error",T=new Ve(_,Ve.ERR_NETWORK,t,g);T.event=x||null,n(T),g=null},g.ontimeout=function(){let x=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const _=a.transitional||Rg;a.timeoutErrorMessage&&(x=a.timeoutErrorMessage),n(new Ve(x,_.clarifyTimeoutError?Ve.ETIMEDOUT:Ve.ECONNABORTED,t,g)),g=null},i===void 0&&o.setContentType(null),"setRequestHeader"in g&&ue.forEach(o.toJSON(),function(x,_){g.setRequestHeader(_,x)}),ue.isUndefined(a.withCredentials)||(g.withCredentials=!!a.withCredentials),r&&r!=="json"&&(g.responseType=a.responseType),c&&([h,b]=sr(c,!0),g.addEventListener("progress",h)),l&&g.upload&&([f,p]=sr(l),g.upload.addEventListener("progress",f),g.upload.addEventListener("loadend",p)),(a.cancelToken||a.signal)&&(u=k=>{g&&(n(!k||k.type?new Ha(null,t,g):k),g.abort(),g=null)},a.cancelToken&&a.cancelToken.subscribe(u),a.signal&&(a.signal.aborted?u():a.signal.addEventListener("abort",u)));const C=yx(a.url);if(C&&Rt.protocols.indexOf(C)===-1){n(new Ve("Unsupported protocol "+C+":",Ve.ERR_BAD_REQUEST,t));return}g.send(i||null)})},$x=(t,e)=>{const{length:s}=t=t?t.filter(Boolean):[];if(e||s){let n=new AbortController,a;const i=function(c){if(!a){a=!0,r();const u=c instanceof Error?c:this.reason;n.abort(u instanceof Ve?u:new Ha(u instanceof Error?u.message:u))}};let o=e&&setTimeout(()=>{o=null,i(new Ve(`timeout ${e} of ms exceeded`,Ve.ETIMEDOUT))},e);const r=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),t=null)};t.forEach(c=>c.addEventListener("abort",i));const{signal:l}=n;return l.unsubscribe=()=>ue.asap(r),l}},Mx=function*(t,e){let s=t.byteLength;if(s<e){yield t;return}let n=0,a;for(;n<s;)a=n+e,yield t.slice(n,a),n=a},Tx=async function*(t,e){for await(const s of Rx(t))yield*Mx(s,e)},Rx=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:s,value:n}=await e.read();if(s)break;yield n}}finally{await e.cancel()}},Gu=(t,e,s,n)=>{const a=Tx(t,e);let i=0,o,r=l=>{o||(o=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await a.next();if(c){r(),l.close();return}let f=u.byteLength;if(s){let h=i+=f;s(h)}l.enqueue(new Uint8Array(u))}catch(c){throw r(c),c}},cancel(l){return r(l),a.return()}},{highWaterMark:2})},Ku=64*1024,{isFunction:mo}=ue,Dx=(({Request:t,Response:e})=>({Request:t,Response:e}))(ue.global),{ReadableStream:Yu,TextEncoder:Ju}=ue.global,Xu=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Px=t=>{t=ue.merge.call({skipUndefined:!0},Dx,t);const{fetch:e,Request:s,Response:n}=t,a=e?mo(e):typeof fetch=="function",i=mo(s),o=mo(n);if(!a)return!1;const r=a&&mo(Yu),l=a&&(typeof Ju=="function"?(b=>m=>b.encode(m))(new Ju):async b=>new Uint8Array(await new s(b).arrayBuffer())),c=i&&r&&Xu(()=>{let b=!1;const m=new s(Rt.origin,{body:new Yu,method:"POST",get duplex(){return b=!0,"half"}}).headers.has("Content-Type");return b&&!m}),u=o&&r&&Xu(()=>ue.isReadableStream(new n("").body)),f={stream:u&&(b=>b.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(b=>{!f[b]&&(f[b]=(m,g)=>{let y=m&&m[b];if(y)return y.call(m);throw new Ve(`Response type '${b}' is not supported`,Ve.ERR_NOT_SUPPORT,g)})});const h=async b=>{if(b==null)return 0;if(ue.isBlob(b))return b.size;if(ue.isSpecCompliantForm(b))return(await new s(Rt.origin,{method:"POST",body:b}).arrayBuffer()).byteLength;if(ue.isArrayBufferView(b)||ue.isArrayBuffer(b))return b.byteLength;if(ue.isURLSearchParams(b)&&(b=b+""),ue.isString(b))return(await l(b)).byteLength},p=async(b,m)=>{const g=ue.toFiniteNumber(b.getContentLength());return g??h(m)};return async b=>{let{url:m,method:g,data:y,signal:C,cancelToken:k,timeout:x,onDownloadProgress:_,onUploadProgress:T,responseType:E,headers:R,withCredentials:I="same-origin",fetchOptions:P}=Ig(b),q=e||fetch;E=E?(E+"").toLowerCase():"text";let J=$x([C,k&&k.toAbortSignal()],x),U=null;const V=J&&J.unsubscribe&&(()=>{J.unsubscribe()});let ee;try{if(T&&c&&g!=="get"&&g!=="head"&&(ee=await p(R,y))!==0){let ge=new s(m,{method:"POST",body:y,duplex:"half"}),G;if(ue.isFormData(y)&&(G=ge.headers.get("content-type"))&&R.setContentType(G),ge.body){const[z,ae]=Hu(ee,sr(Wu(T)));y=Gu(ge.body,Ku,z,ae)}}ue.isString(I)||(I=I?"include":"omit");const K=i&&"credentials"in s.prototype,M={...P,signal:J,method:g.toUpperCase(),headers:R.normalize().toJSON(),body:y,duplex:"half",credentials:K?I:void 0};U=i&&new s(m,M);let H=await(i?q(U,P):q(m,M));const se=u&&(E==="stream"||E==="response");if(u&&(_||se&&V)){const ge={};["status","statusText","headers"].forEach(te=>{ge[te]=H[te]});const G=ue.toFiniteNumber(H.headers.get("content-length")),[z,ae]=_&&Hu(G,sr(Wu(_),!0))||[];H=new n(Gu(H.body,Ku,z,()=>{ae&&ae(),V&&V()}),ge)}E=E||"text";let xe=await f[ue.findKey(f,E)||"text"](H,b);return!se&&V&&V(),await new Promise((ge,G)=>{Og(ge,G,{data:xe,headers:Jt.from(H.headers),status:H.status,statusText:H.statusText,config:b,request:U})})}catch(K){throw V&&V(),K&&K.name==="TypeError"&&/Load failed|fetch/i.test(K.message)?Object.assign(new Ve("Network Error",Ve.ERR_NETWORK,b,U),{cause:K.cause||K}):Ve.from(K,K&&K.code,b,U)}}},Ox=new Map,Lg=t=>{let e=t&&t.env||{};const{fetch:s,Request:n,Response:a}=e,i=[n,a,s];let o=i.length,r=o,l,c,u=Ox;for(;r--;)l=i[r],c=u.get(l),c===void 0&&u.set(l,c=r?new Map:Px(e)),u=c;return c};Lg();const Zd={http:Xy,xhr:Ex,fetch:{get:Lg}};ue.forEach(Zd,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Qu=t=>`- ${t}`,Nx=t=>ue.isFunction(t)||t===null||t===!1;function Ix(t,e){t=ue.isArray(t)?t:[t];const{length:s}=t;let n,a;const i={};for(let o=0;o<s;o++){n=t[o];let r;if(a=n,!Nx(n)&&(a=Zd[(r=String(n)).toLowerCase()],a===void 0))throw new Ve(`Unknown adapter '${r}'`);if(a&&(ue.isFunction(a)||(a=a.get(e))))break;i[r||"#"+o]=a}if(!a){const o=Object.entries(i).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let r=s?o.length>1?`since :
`+o.map(Qu).join(`
`):" "+Qu(o[0]):"as no adapter specified";throw new Ve("There is no suitable adapter to dispatch the request "+r,"ERR_NOT_SUPPORT")}return a}const Fg={getAdapter:Ix,adapters:Zd};function bl(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Ha(null,t)}function Zu(t){return bl(t),t.headers=Jt.from(t.headers),t.data=ml.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Fg.getAdapter(t.adapter||no.adapter,t)(t).then(function(n){return bl(t),n.data=ml.call(t,t.transformResponse,n),n.headers=Jt.from(n.headers),n},function(n){return Pg(n)||(bl(t),n&&n.response&&(n.response.data=ml.call(t,t.transformResponse,n.response),n.response.headers=Jt.from(n.response.headers))),Promise.reject(n)})}const Bg="1.13.2",Ir={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Ir[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const ef={};Ir.transitional=function(e,s,n){function a(i,o){return"[Axios v"+Bg+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,r)=>{if(e===!1)throw new Ve(a(o," has been removed"+(s?" in "+s:"")),Ve.ERR_DEPRECATED);return s&&!ef[o]&&(ef[o]=!0,console.warn(a(o," has been deprecated since v"+s+" and will be removed in the near future"))),e?e(i,o,r):!0}};Ir.spelling=function(e){return(s,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function Lx(t,e,s){if(typeof t!="object")throw new Ve("options must be an object",Ve.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let a=n.length;for(;a-- >0;){const i=n[a],o=e[i];if(o){const r=t[i],l=r===void 0||o(r,i,t);if(l!==!0)throw new Ve("option "+i+" must be "+l,Ve.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new Ve("Unknown option "+i,Ve.ERR_BAD_OPTION)}}const jo={assertOptions:Lx,validators:Ir},Ss=jo.validators;let Qn=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Uu,response:new Uu}}async request(e,s){try{return await this._request(e,s)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(e,s){typeof e=="string"?(s=s||{},s.url=e):s=e||{},s=na(this.defaults,s);const{transitional:n,paramsSerializer:a,headers:i}=s;n!==void 0&&jo.assertOptions(n,{silentJSONParsing:Ss.transitional(Ss.boolean),forcedJSONParsing:Ss.transitional(Ss.boolean),clarifyTimeoutError:Ss.transitional(Ss.boolean)},!1),a!=null&&(ue.isFunction(a)?s.paramsSerializer={serialize:a}:jo.assertOptions(a,{encode:Ss.function,serialize:Ss.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),jo.assertOptions(s,{baseUrl:Ss.spelling("baseURL"),withXsrfToken:Ss.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let o=i&&ue.merge(i.common,i[s.method]);i&&ue.forEach(["delete","get","head","post","put","patch","common"],b=>{delete i[b]}),s.headers=Jt.concat(o,i);const r=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(s)===!1||(l=l&&m.synchronous,r.unshift(m.fulfilled,m.rejected))});const c=[];this.interceptors.response.forEach(function(m){c.push(m.fulfilled,m.rejected)});let u,f=0,h;if(!l){const b=[Zu.bind(this),void 0];for(b.unshift(...r),b.push(...c),h=b.length,u=Promise.resolve(s);f<h;)u=u.then(b[f++],b[f++]);return u}h=r.length;let p=s;for(;f<h;){const b=r[f++],m=r[f++];try{p=b(p)}catch(g){m.call(this,g);break}}try{u=Zu.call(this,p)}catch(b){return Promise.reject(b)}for(f=0,h=c.length;f<h;)u=u.then(c[f++],c[f++]);return u}getUri(e){e=na(this.defaults,e);const s=Ng(e.baseURL,e.url,e.allowAbsoluteUrls);return Tg(s,e.params,e.paramsSerializer)}};ue.forEach(["delete","get","head","options"],function(e){Qn.prototype[e]=function(s,n){return this.request(na(n||{},{method:e,url:s,data:(n||{}).data}))}});ue.forEach(["post","put","patch"],function(e){function s(n){return function(i,o,r){return this.request(na(r||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Qn.prototype[e]=s(),Qn.prototype[e+"Form"]=s(!0)});let Fx=class Vg{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(i){s=i});const n=this;this.promise.then(a=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](a);n._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(r=>{n.subscribe(r),i=r}).then(a);return o.cancel=function(){n.unsubscribe(i)},o},e(function(i,o,r){n.reason||(n.reason=new Ha(i,o,r),s(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const s=this._listeners.indexOf(e);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const e=new AbortController,s=n=>{e.abort(n)};return this.subscribe(s),e.signal.unsubscribe=()=>this.unsubscribe(s),e.signal}static source(){let e;return{token:new Vg(function(a){e=a}),cancel:e}}};function Bx(t){return function(s){return t.apply(null,s)}}function Vx(t){return ue.isObject(t)&&t.isAxiosError===!0}const ad={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(ad).forEach(([t,e])=>{ad[e]=t});function jg(t){const e=new Qn(t),s=vg(Qn.prototype.request,e);return ue.extend(s,Qn.prototype,e,{allOwnKeys:!0}),ue.extend(s,e,null,{allOwnKeys:!0}),s.create=function(a){return jg(na(t,a))},s}const gt=jg(no);gt.Axios=Qn;gt.CanceledError=Ha;gt.CancelToken=Fx;gt.isCancel=Pg;gt.VERSION=Bg;gt.toFormData=Nr;gt.AxiosError=Ve;gt.Cancel=gt.CanceledError;gt.all=function(e){return Promise.all(e)};gt.spread=Bx;gt.isAxiosError=Vx;gt.mergeConfig=na;gt.AxiosHeaders=Jt;gt.formToJSON=t=>Dg(ue.isHTMLForm(t)?new FormData(t):t);gt.getAdapter=Fg.getAdapter;gt.HttpStatusCode=ad;gt.default=gt;const{Axios:wB,AxiosError:CB,CanceledError:SB,isCancel:AB,CancelToken:EB,VERSION:$B,all:MB,Cancel:TB,isAxiosError:RB,spread:DB,toFormData:PB,AxiosHeaders:OB,HttpStatusCode:NB,formToJSON:IB,getAdapter:LB,mergeConfig:FB}=gt,es=Ns({toasts:[],modal:{open:!1,type:"info",title:"",message:""}});let jx=0;function Wa(t,e,s,n={}){const a=++jx,i=n.duration!==void 0?n.duration:4e3,o={id:a,type:t||"info",title:e||"",message:s||"",duration:i};return es.toasts.push(o),i>0&&setTimeout(()=>{id(a)},i),a}function id(t){const e=es.toasts.findIndex(s=>s.id===t);e>-1&&es.toasts.splice(e,1)}function tf(){es.toasts.splice(0,es.toasts.length)}function Ug(t,e,s){es.modal.type=t||"info",es.modal.title=e||"",es.modal.message=s||"",es.modal.open=!0}function zg(){es.modal.open=!1}function Ux(t,e,s,n={}){return n.mode==="modal"?(Ug(t,e,s),"modal"):Wa(t,e,s,n)}function zx(t,e={}){return Wa("success",e.title||"",t,e)}function Hx(t,e={}){return Wa("error",e.title||"",t,e)}function Wx(t,e={}){return Wa("warning",e.title||"",t,e)}function qx(t,e={}){return Wa("info",e.title||"",t,e)}function Gx(){es.toasts.length&&es.toasts.shift(),zg()}const oe={state:es,addToast:Wa,removeToast:id,clearToasts:tf,openModal:Ug,closeModal:zg,showAlert:Ux,success:zx,error:Hx,warning:Wx,info:qx,closeAlert:Gx,remove:id,clear:tf},Bs={"Network Error":"   ",ERR_NETWORK:"   ",ERR_CONNECTION_REFUSED:"   ",ERR_CONNECTION_RESET:"  ",ERR_CONNECTION_TIMED_OUT:"  ",400:"  ",401:"   ",403:"   ",404:"    ",408:"  ",409:"  ",422:"   ",429:"    ",500:"  ",502:"   ",503:"   ",504:"    ",INVALID_CREDENTIALS:"      ",USER_NOT_FOUND:"  ",EMAIL_EXISTS:"   ",PHONE_EXISTS:"   ",WEAK_PASSWORD:"   ",TOKEN_EXPIRED:"      ",TOKEN_INVALID:"  ",UNAUTHORIZED:"    ",FORBIDDEN:" ",NOT_FOUND:"   ",VALIDATION_ERROR:"    ",DUPLICATE_ENTRY:"  ",MISSING_REQUIRED_FIELD:"  ",INVALID_FORMAT:"   ",FILE_TOO_LARGE:"   ",INVALID_FILE_TYPE:"   ",RATE_LIMIT_EXCEEDED:"      ",UNKNOWN_ERROR:"   "};function Kx(t){var e,s,n,a,i;if((s=(e=t==null?void 0:t.response)==null?void 0:e.data)!=null&&s.message)return t.response.data.message;if((a=(n=t==null?void 0:t.response)==null?void 0:n.data)!=null&&a.code){const o=t.response.data.code;if(Bs[o])return Bs[o]}if((i=t==null?void 0:t.response)!=null&&i.status){const o=t.response.status;if(Bs[o])return Bs[o]}if(t!=null&&t.code&&Bs[t.code])return Bs[t.code];if(t!=null&&t.message){if(Bs[t.message])return Bs[t.message];if(/[\u0600-\u06FF]/.test(t.message))return t.message}return Bs.UNKNOWN_ERROR}function Yx(t,e={}){var r;const{silent:s=!1,customMessage:n=null,showToast:a=!0,duration:i=5e3}=e,o=n||Kx(t);return!s&&a&&oe.error(o,{duration:i}),((r=t==null?void 0:t.response)==null?void 0:r.status)===401&&setTimeout(()=>{window.location.href="/login"},1500),o}const Jx="http://localhost:3000/api",le=gt.create({baseURL:Jx,withCredentials:!0,timeout:3e4});le.interceptors.request.use(t=>{const e=localStorage.getItem("token");return e&&(t.headers=t.headers||{},t.headers.Authorization=`Bearer ${e}`),t},t=>Promise.reject(t));le.interceptors.response.use(t=>t,async t=>{var n;const e=(t==null?void 0:t.config)||{},s=(n=t==null?void 0:t.response)==null?void 0:n.status;if(s===429&&(e.__retryCount=e.__retryCount||0,e.__retryCount<3)){e.__retryCount+=1;const i=500*Math.pow(2,e.__retryCount-1);return await new Promise(o=>setTimeout(o,i)),le(e)}return e.__silent||Yx(t,{showToast:!0,duration:s===401?3e3:5e3}),Promise.reject(t)});const aa=Ns({user:null,ready:!1});function Zn(t){aa.user=t||null,aa.ready=!0}async function Hg(){try{if(!localStorage.getItem("token"))return Zn(null),null;const e=await le.get("/auth/me");return Zn(e.data),e.data}catch{return Zn(null),null}}async function Xx(){return aa.ready?aa.user:Hg()}async function Qx(t,e){var n;const s=await le.post("/auth/login",{email:t,password:e});return(n=s.data)!=null&&n.token&&localStorage.setItem("token",s.data.token),Zn(s.data.user),s.data.user}async function Zx(){try{await le.post("/auth/logout")}finally{localStorage.removeItem("token"),Zn(null)}}async function e_(t){var s;const e=await le.put("/auth/me",t);return(s=e.data)!=null&&s.token&&localStorage.setItem("token",e.data.token),Zn(e.data.user),e.data.user}async function t_(t){return(await le.put("/auth/me/password",t)).data}function s_(){return!!aa.user}function ec(){var t;return((t=aa.user)==null?void 0:t.role)||""}function n_(t){const e=ec();return e?({dashboard:["DIRECTOR","ADMIN","ABSENCE_OFFICER","TIMETABLE_OFFICER"],profile:["DIRECTOR","ADMIN","ABSENCE_OFFICER","TIMETABLE_OFFICER"],whatsapp:["DIRECTOR","ADMIN","ABSENCE_OFFICER"],students:["DIRECTOR","ADMIN","ABSENCE_OFFICER"],passmassar:["DIRECTOR","ADMIN"],teachers:["DIRECTOR","ADMIN","TIMETABLE_OFFICER"],absences:["DIRECTOR","ADMIN","ABSENCE_OFFICER"],"absences-daily":["DIRECTOR","ADMIN","ABSENCE_OFFICER"],campaigns:["DIRECTOR","ADMIN","ABSENCE_OFFICER"],import:["DIRECTOR","ADMIN"],templates:["DIRECTOR","ADMIN"],users:["DIRECTOR","ADMIN"],timetable:["DIRECTOR","TIMETABLE_OFFICER"],settings:["DIRECTOR","ADMIN"]}[t]||[]).includes(e):!1}function a_(t){const e=ec();return e==="DIRECTOR"?!0:e==="ADMIN"?t==="GENERAL":e==="ABSENCE_OFFICER"?t==="ABSENCE":!1}const ht={state:aa,setUser:Zn,ensureReady:Xx,refreshMe:Hg,login:Qx,logout:Zx,updateMe:e_,changeMyPassword:t_,isAuthed:s_,role:ec,canAccess:n_,canSendCampaignMode:a_},Uo=Ns({site_name:"  2  ",site_logo_url:null,loaded:!1});async function i_(){var t,e;try{const s=await le.get("/settings/public");Uo.site_name=((t=s.data)==null?void 0:t.site_name)||"  2  ",Uo.site_logo_url=((e=s.data)==null?void 0:e.site_logo_url)||null}catch{}finally{Uo.loaded=!0}}const yt={state:Uo,loadPublic:i_},o_=["src","alt"],r_={key:1,class:"text-xs"},nr={__name:"Avatar",props:{name:{type:String,default:""},src:{type:String,default:""},size:{type:Number,default:32}},setup(t){const e=t,s=he(()=>{var l,c;const a=String(e.name||"").trim();if(!a)return"";const i=a.split(/\s+/).filter(Boolean),o=((l=i[0])==null?void 0:l[0])||"",r=((c=i[1])==null?void 0:c[0])||"";return(o+r).toUpperCase()||""}),n=he(()=>({width:`${e.size}px`,height:`${e.size}px`}));return(a,i)=>(v(),w("div",{class:"rounded-full border bg-slate-100 text-slate-700 overflow-hidden flex items-center justify-center font-bold select-none",style:vs(n.value)},[t.src?(v(),w("img",{key:0,src:t.src,alt:t.name||"avatar",class:"w-full h-full object-cover"},null,8,o_)):(v(),w("span",r_,$(s.value),1))],4))}},Wg="school_notify_theme";function qg(t){const e=document.documentElement;t==="dark"?e.classList.add("dark"):e.classList.remove("dark")}const Sn=Ns({mode:"light",loaded:!1});function l_(){try{const t=localStorage.getItem(Wg);(t==="dark"||t==="light")&&(Sn.mode=t)}catch{}Sn.loaded=!0,qg(Sn.mode)}function d_(){const t=Sn.mode==="dark"?"light":"dark";Gg(t)}function Gg(t){Sn.mode=t==="dark"?"dark":"light",qg(Sn.mode);try{localStorage.setItem(Wg,Sn.mode)}catch{}}const od={state:Sn,load:l_,toggle:d_,set:Gg};/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sf=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),c_=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,n)=>n?n.toUpperCase():s.toLowerCase()),u_=t=>{const e=c_(t);return e.charAt(0).toUpperCase()+e.slice(1)},f_=(...t)=>t.filter((e,s,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===s).join(" ").trim(),nf=t=>t==="";/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ja={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h_=({name:t,iconNode:e,absoluteStrokeWidth:s,"absolute-stroke-width":n,strokeWidth:a,"stroke-width":i,size:o=Ja.width,color:r=Ja.stroke,...l},{slots:c})=>$a("svg",{...Ja,...l,width:o,height:o,stroke:r,"stroke-width":nf(s)||nf(n)||s===!0||n===!0?Number(a||i||Ja["stroke-width"])*24/Number(o):a||i||Ja["stroke-width"],class:f_("lucide",l.class,...t?[`lucide-${sf(u_(t))}-icon`,`lucide-${sf(t)}`]:["lucide-icon"])},[...e.map(u=>$a(...u)),...c.default?[c.default()]:[]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=(t,e)=>(s,{slots:n,attrs:a})=>$a(h_,{...a,...s,iconNode:e,name:t},n);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p_=De("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=De("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g_=De("book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rd=De("building-2",[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m_=De("building",[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const af=De("calendar-clock",[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=De("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kg=De("camera",[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b_=De("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tc=De("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ld=De("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v_=De("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y_=De("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=De("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=De("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=De("circle-user",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ao=De("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const of=De("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=De("clipboard-list",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=De("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x_=De("cloud-upload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sc=De("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __=De("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yg=De("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=De("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jg=De("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nc=De("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xg=De("key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qg=De("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rf=De("lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zg=De("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k_=De("log-in",[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w_=De("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C_=De("mars",[["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"m21 3-6.75 6.75",key:"pv0uzu"}],["circle",{cx:"10",cy:"14",r:"6",key:"1qwbdc"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S_=De("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A_=De("message-circle",[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lf=De("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E_=De("moon",[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=De("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M_=De("printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T_=De("puzzle",[["path",{d:"M15.39 4.39a1 1 0 0 0 1.68-.474 2.5 2.5 0 1 1 3.014 3.015 1 1 0 0 0-.474 1.68l1.683 1.682a2.414 2.414 0 0 1 0 3.414L19.61 15.39a1 1 0 0 1-1.68-.474 2.5 2.5 0 1 0-3.014 3.015 1 1 0 0 1 .474 1.68l-1.683 1.682a2.414 2.414 0 0 1-3.414 0L8.61 19.61a1 1 0 0 0-1.68.474 2.5 2.5 0 1 1-3.014-3.015 1 1 0 0 0 .474-1.68l-1.683-1.682a2.414 2.414 0 0 1 0-3.414L4.39 8.61a1 1 0 0 1 1.68.474 2.5 2.5 0 1 0 3.014-3.015 1 1 0 0 1-.474-1.68l1.683-1.682a2.414 2.414 0 0 1 3.414 0z",key:"w46dr5"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=De("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R_=De("repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const df=De("rotate-cw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=De("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e0=De("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=De("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t0=De("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D_=De("smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P_=De("square-check-big",[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gn=De("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=De("square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N_=De("sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=De("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ac=De("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I_=De("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s0=De("user-check",[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=De("user-minus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=De("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_=De("user-x",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=De("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=De("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=De("venus",[["path",{d:"M12 15v7",key:"t2xh3l"}],["path",{d:"M9 19h6",key:"456am0"}],["circle",{cx:"12",cy:"9",r:"6",key:"1nw4tq"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=De("wand-sparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=De("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),U_={class:"min-h-screen bg-slate-50 dark:bg-slate-950"},z_={class:"sticky top-0 z-40 border-b bg-white/80 backdrop-blur dark:border-slate-800 dark:bg-slate-950/70"},H_={class:"mx-auto flex max-w-7xl items-center justify-between gap-3 px-4 py-3"},W_={class:"flex items-center gap-3"},q_={class:"flex items-center gap-2"},G_=["src"],K_={class:"leading-5"},Y_={class:"font-bold"},J_={class:"flex items-center gap-3 flex-row-reverse"},X_={class:"text-right leading-4"},Q_={class:"text-sm font-semibold"},Z_={class:"text-xs text-slate-500"},e2=["title"],t2={class:"mx-auto grid max-w-7xl grid-cols-1 gap-4 px-4 py-4 md:grid-cols-[280px_1fr]"},s2={class:"card hidden p-3 md:block md:sticky md:top-20 md:max-h-[calc(100vh-96px)] md:overflow-auto"},n2={class:"space-y-1"},a2={key:0},i2=["aria-expanded","onClick"],o2={class:"flex items-center gap-3"},r2={class:"font-medium"},l2={key:0,class:"mt-1 space-y-1 border-r border-slate-200 pr-3"},d2={class:"flex items-center gap-3"},c2={class:"font-medium"},u2={key:0,class:"h-2 w-2 rounded-full bg-brand-600"},f2={class:"flex items-center gap-3"},h2={class:"font-medium"},p2={key:0,class:"h-2 w-2 rounded-full bg-brand-600"},g2={class:"card overflow-hidden"},m2={class:"flex items-center justify-between p-2"},b2={class:"space-y-1"},v2={key:0},y2=["aria-expanded","onClick"],x2={class:"flex items-center gap-3"},_2={class:"font-medium"},k2={key:0,class:"mt-1 space-y-1 border-r border-slate-200 pr-3"},w2={class:"font-medium"},C2={class:"font-medium"},S2={__name:"AppLayout",setup(t){const e=la(),s=ra(),n=D(!1),a=D(new Set);je(()=>{yt.state.loaded||yt.loadPublic()});const i=he(()=>ht.state.user),o=he(()=>ht.role()),r=he(()=>{const k=[{key:"dashboard",to:"/dashboard",label:" ",icon:Qg},{key:"whatsapp",label:" ",icon:A_,children:[{key:"whatsapp",to:"/whatsapp",label:" ",icon:D_},{key:"campaigns",to:"/campaigns",label:"",icon:Xt},{key:"templates",to:"/templates",label:"",icon:as}]},{key:"students",label:"",icon:zt,children:[{key:"students",to:"/students",label:" ",icon:zt},{key:"passmassar",to:"/students/pass-massar",label:" ",icon:as},{key:"passmassar",to:"/students/stats",label:"",icon:as}]},{key:"teachers",to:"/teachers",label:"",icon:rs},{key:"absences",label:" ",icon:Oa,children:[{key:"absences",to:"/absences/dashboard",label:"",icon:as},{key:"absences-daily",to:"/absences/daily",label:" ",icon:$n},{key:"absences",to:"/absences",label:" ",icon:Oa},{key:"absences",to:"/absences/print-notices",label:"",icon:Xt}]},{key:"users",to:"/users",label:"",icon:zt},{key:"timetable",label:" ",icon:pn,children:[{key:"timetable",to:"/timetable/settings",label:" ",icon:x_},{key:"timetable",to:"/timetable/planner",label:" ",icon:$n},{key:"timetable",to:"/timetable/structure",label:" ",icon:rs},{key:"timetable",to:"/timetable/assignments",label:" ",icon:s0},{key:"timetable",to:"/timetable/print",label:" ",icon:M_}]},{key:"settings",to:"/settings",label:"",icon:t0}],x=[];for(const _ of k)if(_.children){const T=_.children.filter(E=>ht.canAccess(E.key));T.length&&ht.canAccess(_.key)&&x.push({..._,children:T})}else ht.canAccess(_.key)&&x.push(_);return x});function l(){ht.logout(),s.push("/login")}const c=he(()=>od.state.mode==="dark");function u(){od.toggle()}function f(k){return e.path===k||e.path.startsWith(`${k}/`)}function h(k){const x=(k==null?void 0:k.to)||"";return x==="/import"?" Excel":x==="/settings"?"":k!=null&&k.children&&(k==null?void 0:k.key)==="absences"?" ":x==="/absences/dashboard"?"":x==="/absences/daily"?" ":x==="/absences/print-notices"?"":(k==null?void 0:k.label)||""}function p(k){return Array.isArray(k==null?void 0:k.children)&&k.children.some(x=>(x==null?void 0:x.to)&&f(x.to))}function b(k){return a.value.has(k)}function m(k){const x=new Set(a.value);x.has(k)?x.delete(k):x.add(k),a.value=x}qe(()=>e.path,()=>{for(const k of r.value)if(k!=null&&k.children&&p(k)){const x=new Set(a.value);x.add(k.key),a.value=x}},{immediate:!0});const g=he(()=>{const k=o.value;return k==="DIRECTOR"?"":k==="ADMIN"?"":k==="ABSENCE_OFFICER"?" ":k==="TIMETABLE_OFFICER"?"  ":k});function y(){n.value=!1}function C(k){return k?(/^https?:\/\//i.test(k),k):""}return(k,x)=>{var E,R,I;const _=Ps("router-link"),T=Ps("router-view");return v(),w("div",U_,[d("header",z_,[d("div",H_,[d("div",W_,[d("button",{class:"btn btn-outline px-3 py-2 md:hidden",onClick:x[0]||(x[0]=P=>n.value=!0),"aria-label":" "},[S(B(S_),{class:"h-5 w-5"})]),d("div",q_,[B(yt).state.site_logo_url?(v(),w("img",{key:0,src:C(B(yt).state.site_logo_url),class:"h-9 w-9 rounded-2xl border bg-white object-cover",alt:"logo"},null,8,G_)):de("",!0),d("div",K_,[d("div",Y_,$(B(yt).state.site_name),1),x[2]||(x[2]=d("div",{class:"text-xs text-slate-500"},"  2  ",-1))])])]),d("div",J_,[S(nr,{name:(E=i.value)==null?void 0:E.full_name,src:C((R=i.value)==null?void 0:R.avatar_url),size:36},null,8,["name","src"]),d("div",X_,[d("div",Q_,$(((I=i.value)==null?void 0:I.full_name)||""),1),d("div",Z_,$(g.value),1)]),S(_,{class:"btn btn-outline hidden sm:inline-flex",to:"/profile"},{default:ne(()=>[S(B(ir),{class:"h-4 w-4"}),x[3]||(x[3]=Q("  ",-1))]),_:1}),d("button",{class:"btn btn-outline px-3",onClick:u,title:c.value?" ":" ","aria-label":" "},[c.value?(v(),$e(B(N_),{key:0,class:"h-4 w-4"})):(v(),$e(B(E_),{key:1,class:"h-4 w-4"}))],8,e2),d("button",{class:"btn btn-danger",onClick:l}," ")])])]),d("div",t2,[d("aside",s2,[d("div",n2,[(v(!0),w(be,null,ke(r.value,P=>(v(),w(be,{key:P.key},[P.children?(v(),w("div",a2,[d("button",{type:"button",class:Ee(["w-full flex items-center justify-between gap-3 rounded-xl px-3 py-2 transition hover:bg-slate-50",p(P)?"bg-brand-50 text-brand-700":"text-slate-700"]),"aria-expanded":b(P.key)?"true":"false",onClick:q=>m(P.key)},[d("div",o2,[(v(),$e($t(P.icon),{class:"h-5 w-5 text-slate-500"})),d("span",r2,$(h(P)),1)]),S(B(ld),{class:Ee(["h-4 w-4 transition",b(P.key)?"rotate-180":""])},null,8,["class"])],10,i2),b(P.key)?(v(),w("div",l2,[(v(!0),w(be,null,ke(P.children,q=>(v(),$e(_,{key:q.to,to:q.to,class:Ee(["flex items-center justify-between gap-3 rounded-xl px-3 py-2 transition hover:bg-slate-50",f(q.to)?"bg-brand-50 text-brand-700":"text-slate-700"])},{default:ne(()=>[d("div",d2,[(v(),$e($t(q.icon),{class:"h-5 w-5 text-slate-500"})),d("span",c2,$(h(q)),1)]),f(q.to)?(v(),w("span",u2)):de("",!0)]),_:2},1032,["to","class"]))),128))])):de("",!0)])):(v(),$e(_,{key:1,to:P.to,class:Ee(["flex items-center justify-between gap-3 rounded-xl px-3 py-2 transition hover:bg-slate-50",f(P.to)?"bg-brand-50 text-brand-700":"text-slate-700"])},{default:ne(()=>[d("div",f2,[(v(),$e($t(P.icon),{class:"h-5 w-5 text-slate-500"})),d("span",h2,$(h(P)),1)]),f(P.to)?(v(),w("span",p2)):de("",!0)]),_:2},1032,["to","class"]))],64))),128))])]),d("main",g2,[S(T)])]),n.value?(v(),w("div",{key:0,class:"fixed inset-0 z-50 md:hidden",onClick:y},[x[5]||(x[5]=d("div",{class:"absolute inset-0 bg-black/40"},null,-1)),d("aside",{class:"absolute inset-y-0 right-0 m-2 w-[85%] max-w-sm card p-3",onClick:x[1]||(x[1]=gs(()=>{},["stop"]))},[d("div",m2,[x[4]||(x[4]=d("div",{class:"font-bold"},"",-1)),d("button",{class:"btn btn-outline px-3 py-2",onClick:y,"aria-label":" "},[S(B(Ot),{class:"h-5 w-5"})])]),d("div",b2,[(v(!0),w(be,null,ke(r.value,P=>(v(),w(be,{key:P.key},[P.children?(v(),w("div",v2,[d("button",{type:"button",class:Ee(["w-full flex items-center justify-between gap-3 rounded-xl px-3 py-2 hover:bg-slate-50",p(P)?"bg-brand-50 text-brand-700":"text-slate-700"]),"aria-expanded":b(P.key)?"true":"false",onClick:q=>m(P.key)},[d("div",x2,[(v(),$e($t(P.icon),{class:"h-5 w-5 text-slate-500"})),d("span",_2,$(h(P)),1)]),S(B(ld),{class:Ee(["h-4 w-4 transition",b(P.key)?"rotate-180":""])},null,8,["class"])],10,y2),b(P.key)?(v(),w("div",k2,[(v(!0),w(be,null,ke(P.children,q=>(v(),$e(_,{key:q.to,to:q.to,class:Ee(["flex items-center gap-3 rounded-xl px-3 py-2 hover:bg-slate-50",f(q.to)?"bg-brand-50 text-brand-700":"text-slate-700"]),onClick:y},{default:ne(()=>[(v(),$e($t(q.icon),{class:"h-5 w-5 text-slate-500"})),d("span",w2,$(h(q)),1)]),_:2},1032,["to","class"]))),128))])):de("",!0)])):(v(),$e(_,{key:1,to:P.to,class:Ee(["flex items-center gap-3 rounded-xl px-3 py-2 hover:bg-slate-50",f(P.to)?"bg-brand-50 text-brand-700":"text-slate-700"]),onClick:y},{default:ne(()=>[(v(),$e($t(P.icon),{class:"h-5 w-5 text-slate-500"})),d("span",C2,$(h(P)),1)]),_:2},1032,["to","class"]))],64))),128))])])])):de("",!0)])}}},ca=(t,e)=>{const s=t.__vccOpts||t;for(const[n,a]of e)s[n]=a;return s},A2={class:"fixed left-4 right-4 top-4 z-[var(--z-toast)] flex flex-col gap-3 sm:left-auto sm:right-6 sm:w-[420px]"},E2={class:"flex items-start gap-3"},$2={class:"flex-1 min-w-0"},M2={class:"font-bold text-sm mb-1"},T2={class:"text-sm leading-relaxed opacity-90"},R2=["onClick"],D2={__name:"Toasts",setup(t){const e=he(()=>oe.state.toasts);function s(i){return i==="success"?da:i==="error"?ao:i==="warning"?ac:nc}function n(i){const o={success:"border-success-200 bg-success-50 text-success-900 dark:bg-success-900/20 dark:border-success-800/30 dark:text-success-300",error:"border-danger-200 bg-danger-50 text-danger-900 dark:bg-danger-900/20 dark:border-danger-800/30 dark:text-danger-300",warning:"border-warning-200 bg-warning-50 text-warning-900 dark:bg-warning-900/20 dark:border-warning-800/30 dark:text-warning-300",info:"border-blue-200 bg-blue-50 text-blue-900 dark:bg-blue-900/20 dark:border-blue-800/30 dark:text-blue-300"};return o[i]||o.info}function a(i){const o={success:"text-success-600 dark:text-success-400",error:"text-danger-600 dark:text-danger-400",warning:"text-warning-600 dark:text-warning-400",info:"text-blue-600 dark:text-blue-400"};return o[i]||o.info}return(i,o)=>(v(),w("div",A2,[S(ag,{name:"toast",tag:"div",class:"flex flex-col gap-3"},{default:ne(()=>[(v(!0),w(be,null,ke(e.value,r=>(v(),w("div",{key:r.id,class:Ee(["rounded-xl border-2 p-4 shadow-lg backdrop-blur-sm animate-slide-in",n(r.type)])},[d("div",E2,[(v(),$e($t(s(r.type)),{class:Ee(["w-5 h-5 mt-0.5 flex-shrink-0",a(r.type)])},null,8,["class"])),d("div",$2,[d("div",M2,$(r.title),1),d("div",T2,$(r.message),1)]),d("button",{type:"button",class:"p-1 rounded-lg hover:bg-black/10 dark:hover:bg-white/10 transition-colors flex-shrink-0",onClick:l=>B(oe).removeToast(r.id),"aria-label":""},[S(B(Ot),{class:"w-4 h-4"})],8,R2)])],2))),128))]),_:1})]))}},P2=ca(D2,[["__scopeId","data-v-bed012f8"]]),O2={class:"border-b p-4"},N2={class:"text-lg font-semibold"},I2={class:"p-4 text-slate-700 whitespace-pre-wrap"},L2={class:"flex justify-end gap-2 border-t p-4"},F2={__name:"ConfirmModal",props:{open:Boolean,title:String,message:String,confirmText:String,cancelText:String,variant:{type:String,default:"danger"}},emits:["confirm","cancel"],setup(t,{emit:e}){const s=e;function n(){s("confirm")}function a(){s("cancel")}return(i,o)=>(v(),$e(Xi,{to:"body"},[S(Mr,{name:"modal"},{default:ne(()=>[t.open?(v(),w("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",onClick:a},[d("div",{class:"w-full max-w-md rounded-2xl bg-white shadow-xl overflow-hidden",onClick:o[0]||(o[0]=gs(()=>{},["stop"]))},[d("div",O2,[d("div",N2,$(t.title),1)]),d("div",I2,$(t.message),1),d("div",L2,[d("button",{class:"btn btn-outline",onClick:a},$(t.cancelText),1),d("button",{class:Ee(["btn",t.variant==="danger"?"btn-danger":"btn-primary"]),onClick:n},$(t.confirmText),3)])])])):de("",!0)]),_:1})]))}},B2=ca(F2,[["__scopeId","data-v-49480177"]]),V2={class:"rounded-2xl shadow-xl overflow-hidden bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700"},j2={class:"px-5 py-4 flex items-center gap-3 border-b border-slate-200 dark:border-slate-700"},U2={class:"text-lg font-bold text-slate-900 dark:text-slate-100"},z2={class:"px-5 py-4 text-slate-700 dark:text-slate-300 leading-relaxed"},H2={__name:"AlertModal",props:{open:Boolean,type:{type:String,default:"info"},title:String,message:String},emits:["close"],setup(t,{emit:e}){const s=t,n=e;function a(){n("close")}const i=he(()=>{switch(s.type){case"success":return da;case"error":return ao;case"warning":return ac;default:return nc}}),o=he(()=>{switch(s.type){case"success":return"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-300";case"error":return"bg-rose-100 text-rose-700 dark:bg-rose-900/30 dark:text-rose-300";case"warning":return"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-300";default:return"bg-brand-100 text-brand-700 dark:bg-brand-900/30 dark:text-brand-300"}});return(r,l)=>(v(),$e(Xi,{to:"body"},[S(Mr,{name:"modal"},{default:ne(()=>[t.open?(v(),w("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",onClick:a},[d("div",{class:"mx-4 w-full max-w-md",onClick:l[0]||(l[0]=gs(()=>{},["stop"]))},[d("div",V2,[d("div",j2,[d("div",{class:Ee(["h-10 w-10 rounded-xl flex items-center justify-center",o.value])},[(v(),$e($t(i.value),{class:"w-5 h-5"}))],2),d("h3",U2,$(t.title),1)]),d("div",z2,$(t.message),1),d("div",{class:"px-5 py-4 flex justify-end bg-slate-50 dark:bg-slate-800"},[d("button",{onClick:a,class:"btn btn-primary"},"")])])])])):de("",!0)]),_:1})]))}},W2=ca(H2,[["__scopeId","data-v-28021dc9"]]),us=Ns({open:!1,title:"",message:"",confirmText:"",cancelText:"",variant:"danger",_resolve:null});function q2({title:t,message:e,confirmText:s,cancelText:n,variant:a}={}){return us.title=t||"",us.message=e||"",us.confirmText=s||"",us.cancelText=n||"",us.variant=a||"danger",us.open=!0,new Promise(i=>{us._resolve=i})}function G2(t){us.open=!1;const e=us._resolve;us._resolve=null,e&&e(!!t)}const Gt={state:us,confirm:q2,close:G2},K2={__name:"App",setup(t){const e=la(),s=he(()=>!!e.meta.public);return(n,a)=>{const i=Ps("router-view");return v(),w(be,null,[s.value?(v(),$e(i,{key:1})):(v(),$e(S2,{key:0})),S(P2),S(W2,{open:B(oe).state.modal.open,type:B(oe).state.modal.type,title:B(oe).state.modal.title,message:B(oe).state.modal.message,onClose:a[0]||(a[0]=o=>B(oe).closeModal())},null,8,["open","type","title","message"]),S(B2,{open:B(Gt).state.open,title:B(Gt).state.title,message:B(Gt).state.message,confirmText:B(Gt).state.confirmText,cancelText:B(Gt).state.cancelText,variant:B(Gt).state.variant,onConfirm:a[1]||(a[1]=o=>B(Gt).close(!0)),onCancel:a[2]||(a[2]=o=>B(Gt).close(!1))},null,8,["open","title","message","confirmText","cancelText","variant"])],64)}}};var io={},Y2=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},n0={},ts={};let ic;const J2=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];ts.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};ts.getSymbolTotalCodewords=function(e){return J2[e]};ts.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};ts.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');ic=e};ts.isKanjiModeEnabled=function(){return typeof ic<"u"};ts.toSJIS=function(e){return ic(e)};var Lr={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+s)}}t.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},t.from=function(n,a){if(t.isValid(n))return n;try{return e(n)}catch{return a}}})(Lr);function a0(){this.buffer=[],this.length=0}a0.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let s=0;s<e;s++)this.putBit((t>>>e-s-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var X2=a0;function oo(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}oo.prototype.set=function(t,e,s,n){const a=t*this.size+e;this.data[a]=s,n&&(this.reservedBit[a]=!0)};oo.prototype.get=function(t,e){return this.data[t*this.size+e]};oo.prototype.xor=function(t,e,s){this.data[t*this.size+e]^=s};oo.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var Q2=oo,i0={};(function(t){const e=ts.getSymbolSize;t.getRowColCoords=function(n){if(n===1)return[];const a=Math.floor(n/7)+2,i=e(n),o=i===145?26:Math.ceil((i-13)/(2*a-2))*2,r=[i-7];for(let l=1;l<a-1;l++)r[l]=r[l-1]-o;return r.push(6),r.reverse()},t.getPositions=function(n){const a=[],i=t.getRowColCoords(n),o=i.length;for(let r=0;r<o;r++)for(let l=0;l<o;l++)r===0&&l===0||r===0&&l===o-1||r===o-1&&l===0||a.push([i[r],i[l]]);return a}})(i0);var o0={};const Z2=ts.getSymbolSize,cf=7;o0.getPositions=function(e){const s=Z2(e);return[[0,0],[s-cf,0],[0,s-cf]]};var r0={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(a){return a!=null&&a!==""&&!isNaN(a)&&a>=0&&a<=7},t.from=function(a){return t.isValid(a)?parseInt(a,10):void 0},t.getPenaltyN1=function(a){const i=a.size;let o=0,r=0,l=0,c=null,u=null;for(let f=0;f<i;f++){r=l=0,c=u=null;for(let h=0;h<i;h++){let p=a.get(f,h);p===c?r++:(r>=5&&(o+=e.N1+(r-5)),c=p,r=1),p=a.get(h,f),p===u?l++:(l>=5&&(o+=e.N1+(l-5)),u=p,l=1)}r>=5&&(o+=e.N1+(r-5)),l>=5&&(o+=e.N1+(l-5))}return o},t.getPenaltyN2=function(a){const i=a.size;let o=0;for(let r=0;r<i-1;r++)for(let l=0;l<i-1;l++){const c=a.get(r,l)+a.get(r,l+1)+a.get(r+1,l)+a.get(r+1,l+1);(c===4||c===0)&&o++}return o*e.N2},t.getPenaltyN3=function(a){const i=a.size;let o=0,r=0,l=0;for(let c=0;c<i;c++){r=l=0;for(let u=0;u<i;u++)r=r<<1&2047|a.get(c,u),u>=10&&(r===1488||r===93)&&o++,l=l<<1&2047|a.get(u,c),u>=10&&(l===1488||l===93)&&o++}return o*e.N3},t.getPenaltyN4=function(a){let i=0;const o=a.data.length;for(let l=0;l<o;l++)i+=a.data[l];return Math.abs(Math.ceil(i*100/o/5)-10)*e.N4};function s(n,a,i){switch(n){case t.Patterns.PATTERN000:return(a+i)%2===0;case t.Patterns.PATTERN001:return a%2===0;case t.Patterns.PATTERN010:return i%3===0;case t.Patterns.PATTERN011:return(a+i)%3===0;case t.Patterns.PATTERN100:return(Math.floor(a/2)+Math.floor(i/3))%2===0;case t.Patterns.PATTERN101:return a*i%2+a*i%3===0;case t.Patterns.PATTERN110:return(a*i%2+a*i%3)%2===0;case t.Patterns.PATTERN111:return(a*i%3+(a+i)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}t.applyMask=function(a,i){const o=i.size;for(let r=0;r<o;r++)for(let l=0;l<o;l++)i.isReserved(l,r)||i.xor(l,r,s(a,l,r))},t.getBestMask=function(a,i){const o=Object.keys(t.Patterns).length;let r=0,l=1/0;for(let c=0;c<o;c++){i(c),t.applyMask(c,a);const u=t.getPenaltyN1(a)+t.getPenaltyN2(a)+t.getPenaltyN3(a)+t.getPenaltyN4(a);t.applyMask(c,a),u<l&&(l=u,r=c)}return r}})(r0);var Fr={};const bn=Lr,bo=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],vo=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Fr.getBlocksCount=function(e,s){switch(s){case bn.L:return bo[(e-1)*4+0];case bn.M:return bo[(e-1)*4+1];case bn.Q:return bo[(e-1)*4+2];case bn.H:return bo[(e-1)*4+3];default:return}};Fr.getTotalCodewordsCount=function(e,s){switch(s){case bn.L:return vo[(e-1)*4+0];case bn.M:return vo[(e-1)*4+1];case bn.Q:return vo[(e-1)*4+2];case bn.H:return vo[(e-1)*4+3];default:return}};var l0={},Br={};const bi=new Uint8Array(512),or=new Uint8Array(256);(function(){let e=1;for(let s=0;s<255;s++)bi[s]=e,or[e]=s,e<<=1,e&256&&(e^=285);for(let s=255;s<512;s++)bi[s]=bi[s-255]})();Br.log=function(e){if(e<1)throw new Error("log("+e+")");return or[e]};Br.exp=function(e){return bi[e]};Br.mul=function(e,s){return e===0||s===0?0:bi[or[e]+or[s]]};(function(t){const e=Br;t.mul=function(n,a){const i=new Uint8Array(n.length+a.length-1);for(let o=0;o<n.length;o++)for(let r=0;r<a.length;r++)i[o+r]^=e.mul(n[o],a[r]);return i},t.mod=function(n,a){let i=new Uint8Array(n);for(;i.length-a.length>=0;){const o=i[0];for(let l=0;l<a.length;l++)i[l]^=e.mul(a[l],o);let r=0;for(;r<i.length&&i[r]===0;)r++;i=i.slice(r)}return i},t.generateECPolynomial=function(n){let a=new Uint8Array([1]);for(let i=0;i<n;i++)a=t.mul(a,new Uint8Array([1,e.exp(i)]));return a}})(l0);const d0=l0;function oc(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}oc.prototype.initialize=function(e){this.degree=e,this.genPoly=d0.generateECPolynomial(this.degree)};oc.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const s=new Uint8Array(e.length+this.degree);s.set(e);const n=d0.mod(s,this.genPoly),a=this.degree-n.length;if(a>0){const i=new Uint8Array(this.degree);return i.set(n,a),i}return n};var ek=oc,c0={},Dn={},rc={};rc.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var Is={};const u0="[0-9]+",tk="[A-Z $%*+\\-./:]+";let Li="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Li=Li.replace(/u/g,"\\u");const sk="(?:(?![A-Z0-9 $%*+\\-./:]|"+Li+`)(?:.|[\r
]))+`;Is.KANJI=new RegExp(Li,"g");Is.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Is.BYTE=new RegExp(sk,"g");Is.NUMERIC=new RegExp(u0,"g");Is.ALPHANUMERIC=new RegExp(tk,"g");const nk=new RegExp("^"+Li+"$"),ak=new RegExp("^"+u0+"$"),ik=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Is.testKanji=function(e){return nk.test(e)};Is.testNumeric=function(e){return ak.test(e)};Is.testAlphanumeric=function(e){return ik.test(e)};(function(t){const e=rc,s=Is;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(i,o){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?i.ccBits[0]:o<27?i.ccBits[1]:i.ccBits[2]},t.getBestModeForData=function(i){return s.testNumeric(i)?t.NUMERIC:s.testAlphanumeric(i)?t.ALPHANUMERIC:s.testKanji(i)?t.KANJI:t.BYTE},t.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},t.isValid=function(i){return i&&i.bit&&i.ccBits};function n(a){if(typeof a!="string")throw new Error("Param is not a string");switch(a.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+a)}}t.from=function(i,o){if(t.isValid(i))return i;try{return n(i)}catch{return o}}})(Dn);(function(t){const e=ts,s=Fr,n=Lr,a=Dn,i=rc,o=7973,r=e.getBCHDigit(o);function l(h,p,b){for(let m=1;m<=40;m++)if(p<=t.getCapacity(m,b,h))return m}function c(h,p){return a.getCharCountIndicator(h,p)+4}function u(h,p){let b=0;return h.forEach(function(m){const g=c(m.mode,p);b+=g+m.getBitsLength()}),b}function f(h,p){for(let b=1;b<=40;b++)if(u(h,b)<=t.getCapacity(b,p,a.MIXED))return b}t.from=function(p,b){return i.isValid(p)?parseInt(p,10):b},t.getCapacity=function(p,b,m){if(!i.isValid(p))throw new Error("Invalid QR Code version");typeof m>"u"&&(m=a.BYTE);const g=e.getSymbolTotalCodewords(p),y=s.getTotalCodewordsCount(p,b),C=(g-y)*8;if(m===a.MIXED)return C;const k=C-c(m,p);switch(m){case a.NUMERIC:return Math.floor(k/10*3);case a.ALPHANUMERIC:return Math.floor(k/11*2);case a.KANJI:return Math.floor(k/13);case a.BYTE:default:return Math.floor(k/8)}},t.getBestVersionForData=function(p,b){let m;const g=n.from(b,n.M);if(Array.isArray(p)){if(p.length>1)return f(p,g);if(p.length===0)return 1;m=p[0]}else m=p;return l(m.mode,m.getLength(),g)},t.getEncodedBits=function(p){if(!i.isValid(p)||p<7)throw new Error("Invalid QR Code version");let b=p<<12;for(;e.getBCHDigit(b)-r>=0;)b^=o<<e.getBCHDigit(b)-r;return p<<12|b}})(c0);var f0={};const dd=ts,h0=1335,ok=21522,uf=dd.getBCHDigit(h0);f0.getEncodedBits=function(e,s){const n=e.bit<<3|s;let a=n<<10;for(;dd.getBCHDigit(a)-uf>=0;)a^=h0<<dd.getBCHDigit(a)-uf;return(n<<10|a)^ok};var p0={};const rk=Dn;function Na(t){this.mode=rk.NUMERIC,this.data=t.toString()}Na.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};Na.prototype.getLength=function(){return this.data.length};Na.prototype.getBitsLength=function(){return Na.getBitsLength(this.data.length)};Na.prototype.write=function(e){let s,n,a;for(s=0;s+3<=this.data.length;s+=3)n=this.data.substr(s,3),a=parseInt(n,10),e.put(a,10);const i=this.data.length-s;i>0&&(n=this.data.substr(s),a=parseInt(n,10),e.put(a,i*3+1))};var lk=Na;const dk=Dn,vl=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Ia(t){this.mode=dk.ALPHANUMERIC,this.data=t}Ia.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};Ia.prototype.getLength=function(){return this.data.length};Ia.prototype.getBitsLength=function(){return Ia.getBitsLength(this.data.length)};Ia.prototype.write=function(e){let s;for(s=0;s+2<=this.data.length;s+=2){let n=vl.indexOf(this.data[s])*45;n+=vl.indexOf(this.data[s+1]),e.put(n,11)}this.data.length%2&&e.put(vl.indexOf(this.data[s]),6)};var ck=Ia;const uk=Dn;function La(t){this.mode=uk.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}La.getBitsLength=function(e){return e*8};La.prototype.getLength=function(){return this.data.length};La.prototype.getBitsLength=function(){return La.getBitsLength(this.data.length)};La.prototype.write=function(t){for(let e=0,s=this.data.length;e<s;e++)t.put(this.data[e],8)};var fk=La;const hk=Dn,pk=ts;function Fa(t){this.mode=hk.KANJI,this.data=t}Fa.getBitsLength=function(e){return e*13};Fa.prototype.getLength=function(){return this.data.length};Fa.prototype.getBitsLength=function(){return Fa.getBitsLength(this.data.length)};Fa.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let s=pk.toSJIS(this.data[e]);if(s>=33088&&s<=40956)s-=33088;else if(s>=57408&&s<=60351)s-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);s=(s>>>8&255)*192+(s&255),t.put(s,13)}};var gk=Fa,g0={exports:{}};(function(t){var e={single_source_shortest_paths:function(s,n,a){var i={},o={};o[n]=0;var r=e.PriorityQueue.make();r.push(n,0);for(var l,c,u,f,h,p,b,m,g;!r.empty();){l=r.pop(),c=l.value,f=l.cost,h=s[c]||{};for(u in h)h.hasOwnProperty(u)&&(p=h[u],b=f+p,m=o[u],g=typeof o[u]>"u",(g||m>b)&&(o[u]=b,r.push(u,b),i[u]=c))}if(typeof a<"u"&&typeof o[a]>"u"){var y=["Could not find a path from ",n," to ",a,"."].join("");throw new Error(y)}return i},extract_shortest_path_from_predecessor_list:function(s,n){for(var a=[],i=n;i;)a.push(i),s[i],i=s[i];return a.reverse(),a},find_path:function(s,n,a){var i=e.single_source_shortest_paths(s,n,a);return e.extract_shortest_path_from_predecessor_list(i,a)},PriorityQueue:{make:function(s){var n=e.PriorityQueue,a={},i;s=s||{};for(i in n)n.hasOwnProperty(i)&&(a[i]=n[i]);return a.queue=[],a.sorter=s.sorter||n.default_sorter,a},default_sorter:function(s,n){return s.cost-n.cost},push:function(s,n){var a={value:s,cost:n};this.queue.push(a),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(g0);var mk=g0.exports;(function(t){const e=Dn,s=lk,n=ck,a=fk,i=gk,o=Is,r=ts,l=mk;function c(y){return unescape(encodeURIComponent(y)).length}function u(y,C,k){const x=[];let _;for(;(_=y.exec(k))!==null;)x.push({data:_[0],index:_.index,mode:C,length:_[0].length});return x}function f(y){const C=u(o.NUMERIC,e.NUMERIC,y),k=u(o.ALPHANUMERIC,e.ALPHANUMERIC,y);let x,_;return r.isKanjiModeEnabled()?(x=u(o.BYTE,e.BYTE,y),_=u(o.KANJI,e.KANJI,y)):(x=u(o.BYTE_KANJI,e.BYTE,y),_=[]),C.concat(k,x,_).sort(function(E,R){return E.index-R.index}).map(function(E){return{data:E.data,mode:E.mode,length:E.length}})}function h(y,C){switch(C){case e.NUMERIC:return s.getBitsLength(y);case e.ALPHANUMERIC:return n.getBitsLength(y);case e.KANJI:return i.getBitsLength(y);case e.BYTE:return a.getBitsLength(y)}}function p(y){return y.reduce(function(C,k){const x=C.length-1>=0?C[C.length-1]:null;return x&&x.mode===k.mode?(C[C.length-1].data+=k.data,C):(C.push(k),C)},[])}function b(y){const C=[];for(let k=0;k<y.length;k++){const x=y[k];switch(x.mode){case e.NUMERIC:C.push([x,{data:x.data,mode:e.ALPHANUMERIC,length:x.length},{data:x.data,mode:e.BYTE,length:x.length}]);break;case e.ALPHANUMERIC:C.push([x,{data:x.data,mode:e.BYTE,length:x.length}]);break;case e.KANJI:C.push([x,{data:x.data,mode:e.BYTE,length:c(x.data)}]);break;case e.BYTE:C.push([{data:x.data,mode:e.BYTE,length:c(x.data)}])}}return C}function m(y,C){const k={},x={start:{}};let _=["start"];for(let T=0;T<y.length;T++){const E=y[T],R=[];for(let I=0;I<E.length;I++){const P=E[I],q=""+T+I;R.push(q),k[q]={node:P,lastCount:0},x[q]={};for(let J=0;J<_.length;J++){const U=_[J];k[U]&&k[U].node.mode===P.mode?(x[U][q]=h(k[U].lastCount+P.length,P.mode)-h(k[U].lastCount,P.mode),k[U].lastCount+=P.length):(k[U]&&(k[U].lastCount=P.length),x[U][q]=h(P.length,P.mode)+4+e.getCharCountIndicator(P.mode,C))}}_=R}for(let T=0;T<_.length;T++)x[_[T]].end=0;return{map:x,table:k}}function g(y,C){let k;const x=e.getBestModeForData(y);if(k=e.from(C,x),k!==e.BYTE&&k.bit<x.bit)throw new Error('"'+y+'" cannot be encoded with mode '+e.toString(k)+`.
 Suggested mode is: `+e.toString(x));switch(k===e.KANJI&&!r.isKanjiModeEnabled()&&(k=e.BYTE),k){case e.NUMERIC:return new s(y);case e.ALPHANUMERIC:return new n(y);case e.KANJI:return new i(y);case e.BYTE:return new a(y)}}t.fromArray=function(C){return C.reduce(function(k,x){return typeof x=="string"?k.push(g(x,null)):x.data&&k.push(g(x.data,x.mode)),k},[])},t.fromString=function(C,k){const x=f(C,r.isKanjiModeEnabled()),_=b(x),T=m(_,k),E=l.find_path(T.map,"start","end"),R=[];for(let I=1;I<E.length-1;I++)R.push(T.table[E[I]].node);return t.fromArray(p(R))},t.rawSplit=function(C){return t.fromArray(f(C,r.isKanjiModeEnabled()))}})(p0);const Vr=ts,yl=Lr,bk=X2,vk=Q2,yk=i0,xk=o0,cd=r0,ud=Fr,_k=ek,rr=c0,kk=f0,wk=Dn,xl=p0;function Ck(t,e){const s=t.size,n=xk.getPositions(e);for(let a=0;a<n.length;a++){const i=n[a][0],o=n[a][1];for(let r=-1;r<=7;r++)if(!(i+r<=-1||s<=i+r))for(let l=-1;l<=7;l++)o+l<=-1||s<=o+l||(r>=0&&r<=6&&(l===0||l===6)||l>=0&&l<=6&&(r===0||r===6)||r>=2&&r<=4&&l>=2&&l<=4?t.set(i+r,o+l,!0,!0):t.set(i+r,o+l,!1,!0))}}function Sk(t){const e=t.size;for(let s=8;s<e-8;s++){const n=s%2===0;t.set(s,6,n,!0),t.set(6,s,n,!0)}}function Ak(t,e){const s=yk.getPositions(e);for(let n=0;n<s.length;n++){const a=s[n][0],i=s[n][1];for(let o=-2;o<=2;o++)for(let r=-2;r<=2;r++)o===-2||o===2||r===-2||r===2||o===0&&r===0?t.set(a+o,i+r,!0,!0):t.set(a+o,i+r,!1,!0)}}function Ek(t,e){const s=t.size,n=rr.getEncodedBits(e);let a,i,o;for(let r=0;r<18;r++)a=Math.floor(r/3),i=r%3+s-8-3,o=(n>>r&1)===1,t.set(a,i,o,!0),t.set(i,a,o,!0)}function _l(t,e,s){const n=t.size,a=kk.getEncodedBits(e,s);let i,o;for(i=0;i<15;i++)o=(a>>i&1)===1,i<6?t.set(i,8,o,!0):i<8?t.set(i+1,8,o,!0):t.set(n-15+i,8,o,!0),i<8?t.set(8,n-i-1,o,!0):i<9?t.set(8,15-i-1+1,o,!0):t.set(8,15-i-1,o,!0);t.set(n-8,8,1,!0)}function $k(t,e){const s=t.size;let n=-1,a=s-1,i=7,o=0;for(let r=s-1;r>0;r-=2)for(r===6&&r--;;){for(let l=0;l<2;l++)if(!t.isReserved(a,r-l)){let c=!1;o<e.length&&(c=(e[o]>>>i&1)===1),t.set(a,r-l,c),i--,i===-1&&(o++,i=7)}if(a+=n,a<0||s<=a){a-=n,n=-n;break}}}function Mk(t,e,s){const n=new bk;s.forEach(function(l){n.put(l.mode.bit,4),n.put(l.getLength(),wk.getCharCountIndicator(l.mode,t)),l.write(n)});const a=Vr.getSymbolTotalCodewords(t),i=ud.getTotalCodewordsCount(t,e),o=(a-i)*8;for(n.getLengthInBits()+4<=o&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);const r=(o-n.getLengthInBits())/8;for(let l=0;l<r;l++)n.put(l%2?17:236,8);return Tk(n,t,e)}function Tk(t,e,s){const n=Vr.getSymbolTotalCodewords(e),a=ud.getTotalCodewordsCount(e,s),i=n-a,o=ud.getBlocksCount(e,s),r=n%o,l=o-r,c=Math.floor(n/o),u=Math.floor(i/o),f=u+1,h=c-u,p=new _k(h);let b=0;const m=new Array(o),g=new Array(o);let y=0;const C=new Uint8Array(t.buffer);for(let E=0;E<o;E++){const R=E<l?u:f;m[E]=C.slice(b,b+R),g[E]=p.encode(m[E]),b+=R,y=Math.max(y,R)}const k=new Uint8Array(n);let x=0,_,T;for(_=0;_<y;_++)for(T=0;T<o;T++)_<m[T].length&&(k[x++]=m[T][_]);for(_=0;_<h;_++)for(T=0;T<o;T++)k[x++]=g[T][_];return k}function Rk(t,e,s,n){let a;if(Array.isArray(t))a=xl.fromArray(t);else if(typeof t=="string"){let c=e;if(!c){const u=xl.rawSplit(t);c=rr.getBestVersionForData(u,s)}a=xl.fromString(t,c||40)}else throw new Error("Invalid data");const i=rr.getBestVersionForData(a,s);if(!i)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=i;else if(e<i)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+i+`.
`);const o=Mk(e,s,a),r=Vr.getSymbolSize(e),l=new vk(r);return Ck(l,e),Sk(l),Ak(l,e),_l(l,s,0),e>=7&&Ek(l,e),$k(l,o),isNaN(n)&&(n=cd.getBestMask(l,_l.bind(null,l,s))),cd.applyMask(n,l),_l(l,s,n),{modules:l,version:e,errorCorrectionLevel:s,maskPattern:n,segments:a}}n0.create=function(e,s){if(typeof e>"u"||e==="")throw new Error("No input text");let n=yl.M,a,i;return typeof s<"u"&&(n=yl.from(s.errorCorrectionLevel,yl.M),a=rr.from(s.version),i=cd.from(s.maskPattern),s.toSJISFunc&&Vr.setToSJISFunction(s.toSJISFunc)),Rk(e,a,n,i)};var m0={},lc={};(function(t){function e(s){if(typeof s=="number"&&(s=s.toString()),typeof s!="string")throw new Error("Color should be defined as hex string");let n=s.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+s);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(i){return[i,i]}))),n.length===6&&n.push("F","F");const a=parseInt(n.join(""),16);return{r:a>>24&255,g:a>>16&255,b:a>>8&255,a:a&255,hex:"#"+n.slice(0,6).join("")}}t.getOptions=function(n){n||(n={}),n.color||(n.color={});const a=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,i=n.width&&n.width>=21?n.width:void 0,o=n.scale||4;return{width:i,scale:i?4:o,margin:a,color:{dark:e(n.color.dark||"#000000ff"),light:e(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},t.getScale=function(n,a){return a.width&&a.width>=n+a.margin*2?a.width/(n+a.margin*2):a.scale},t.getImageWidth=function(n,a){const i=t.getScale(n,a);return Math.floor((n+a.margin*2)*i)},t.qrToImageData=function(n,a,i){const o=a.modules.size,r=a.modules.data,l=t.getScale(o,i),c=Math.floor((o+i.margin*2)*l),u=i.margin*l,f=[i.color.light,i.color.dark];for(let h=0;h<c;h++)for(let p=0;p<c;p++){let b=(h*c+p)*4,m=i.color.light;if(h>=u&&p>=u&&h<c-u&&p<c-u){const g=Math.floor((h-u)/l),y=Math.floor((p-u)/l);m=f[r[g*o+y]?1:0]}n[b++]=m.r,n[b++]=m.g,n[b++]=m.b,n[b]=m.a}}})(lc);(function(t){const e=lc;function s(a,i,o){a.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=o,i.width=o,i.style.height=o+"px",i.style.width=o+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(i,o,r){let l=r,c=o;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),o||(c=n()),l=e.getOptions(l);const u=e.getImageWidth(i.modules.size,l),f=c.getContext("2d"),h=f.createImageData(u,u);return e.qrToImageData(h.data,i,l),s(f,c,u),f.putImageData(h,0,0),c},t.renderToDataURL=function(i,o,r){let l=r;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),l||(l={});const c=t.render(i,o,l),u=l.type||"image/png",f=l.rendererOpts||{};return c.toDataURL(u,f.quality)}})(m0);var b0={};const Dk=lc;function ff(t,e){const s=t.a/255,n=e+'="'+t.hex+'"';return s<1?n+" "+e+'-opacity="'+s.toFixed(2).slice(1)+'"':n}function kl(t,e,s){let n=t+e;return typeof s<"u"&&(n+=" "+s),n}function Pk(t,e,s){let n="",a=0,i=!1,o=0;for(let r=0;r<t.length;r++){const l=Math.floor(r%e),c=Math.floor(r/e);!l&&!i&&(i=!0),t[r]?(o++,r>0&&l>0&&t[r-1]||(n+=i?kl("M",l+s,.5+c+s):kl("m",a,0),a=0,i=!1),l+1<e&&t[r+1]||(n+=kl("h",o),o=0)):a++}return n}b0.render=function(e,s,n){const a=Dk.getOptions(s),i=e.modules.size,o=e.modules.data,r=i+a.margin*2,l=a.color.light.a?"<path "+ff(a.color.light,"fill")+' d="M0 0h'+r+"v"+r+'H0z"/>':"",c="<path "+ff(a.color.dark,"stroke")+' d="'+Pk(o,i,a.margin)+'"/>',u='viewBox="0 0 '+r+" "+r+'"',h='<svg xmlns="http://www.w3.org/2000/svg" '+(a.width?'width="'+a.width+'" height="'+a.width+'" ':"")+u+' shape-rendering="crispEdges">'+l+c+`</svg>
`;return typeof n=="function"&&n(null,h),h};const Ok=Y2,fd=n0,v0=m0,Nk=b0;function dc(t,e,s,n,a){const i=[].slice.call(arguments,1),o=i.length,r=typeof i[o-1]=="function";if(!r&&!Ok())throw new Error("Callback required as last argument");if(r){if(o<2)throw new Error("Too few arguments provided");o===2?(a=s,s=e,e=n=void 0):o===3&&(e.getContext&&typeof a>"u"?(a=n,n=void 0):(a=n,n=s,s=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(s=e,e=n=void 0):o===2&&!e.getContext&&(n=s,s=e,e=void 0),new Promise(function(l,c){try{const u=fd.create(s,n);l(t(u,e,n))}catch(u){c(u)}})}try{const l=fd.create(s,n);a(null,t(l,e,n))}catch(l){a(l)}}io.create=fd.create;io.toCanvas=dc.bind(null,v0.render);io.toDataURL=dc.bind(null,v0.renderToDataURL);io.toString=dc.bind(null,function(t,e,s){return Nk.render(t,s)});const Ik={class:"p-6 space-y-4"},Lk={class:"flex items-center justify-between gap-3"},Fk={class:"flex items-center gap-3"},Bk=["disabled"],Vk={class:"card p-5"},jk={key:0,class:"text-center py-10 text-slate-500"},Uk={key:0,class:"text-green-700 font-semibold flex items-center gap-2"},zk={key:1,class:"text-slate-700 flex items-center gap-2"},Hk={key:2,class:"mt-4 flex justify-center"},Wk={class:"rounded-2xl border bg-white p-4 shadow-sm"},qk=["src"],Gk={__name:"WhatsAppConnect",setup(t){const e=D(!1),s=D(""),n=D(!1);let a;async function i(){if(!n.value)try{const r=await le.get("/whatsapp/state");if(e.value=!!r.data.ready,e.value)s.value="";else{const c=(await le.get("/whatsapp/qr")).data.qr;c&&(s.value=await io.toDataURL(c))}}catch(r){console.error(r)}}async function o(){if(confirm("            .")){n.value=!0,s.value="";try{await le.post("/whatsapp/restart"),oe.success("     .  ..."),setTimeout(()=>{n.value=!1,i()},5e3)}catch{oe.error("    "),n.value=!1}}}return je(()=>{i(),a=setInterval(i,2e3)}),Ud(()=>clearInterval(a)),(r,l)=>(v(),w("div",Ik,[d("div",Lk,[l[2]||(l[2]=d("h1",{class:"text-xl font-bold"}," ",-1)),d("div",Fk,[l[1]||(l[1]=d("div",{class:"text-xs text-slate-500"},"  ",-1)),d("button",{onClick:o,disabled:n.value,class:"btn btn-sm btn-outline-danger flex items-center gap-2"},[S(B(df),{class:Ee(["h-4 w-4",{"animate-spin":n.value}])},null,8,["class"]),l[0]||(l[0]=Q("    ",-1))],8,Bk)])]),d("div",Vk,[n.value?(v(),w("div",jk,[S(B(df),{class:"h-8 w-8 animate-spin mx-auto mb-3 text-blue-600"}),l[3]||(l[3]=d("p",null,"   ...",-1))])):(v(),w(be,{key:1},[e.value?(v(),w("div",Uk,[S(B(da),{class:"h-5 w-5"}),l[4]||(l[4]=Q("    ",-1))])):(v(),w("div",zk,[S(B(Kg),{class:"h-5 w-5"}),l[5]||(l[5]=Q("   QR  WhatsApp Web ",-1))])),s.value&&!e.value?(v(),w("div",Hk,[d("div",Wk,[d("img",{src:s.value,class:"w-72 h-72 rounded-xl border"},null,8,qk),l[6]||(l[6]=d("div",{class:"mt-3 text-center text-xs text-slate-500"},"           ",-1))])])):de("",!0)],64))])]))}};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function ro(t){return t+.5|0}const vn=(t,e,s)=>Math.max(Math.min(t,s),e);function ai(t){return vn(ro(t*2.55),0,255)}function An(t){return vn(ro(t*255),0,255)}function Ws(t){return vn(ro(t/2.55)/100,0,1)}function hf(t){return vn(ro(t*100),0,100)}const ns={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},hd=[..."0123456789ABCDEF"],Kk=t=>hd[t&15],Yk=t=>hd[(t&240)>>4]+hd[t&15],yo=t=>(t&240)>>4===(t&15),Jk=t=>yo(t.r)&&yo(t.g)&&yo(t.b)&&yo(t.a);function Xk(t){var e=t.length,s;return t[0]==="#"&&(e===4||e===5?s={r:255&ns[t[1]]*17,g:255&ns[t[2]]*17,b:255&ns[t[3]]*17,a:e===5?ns[t[4]]*17:255}:(e===7||e===9)&&(s={r:ns[t[1]]<<4|ns[t[2]],g:ns[t[3]]<<4|ns[t[4]],b:ns[t[5]]<<4|ns[t[6]],a:e===9?ns[t[7]]<<4|ns[t[8]]:255})),s}const Qk=(t,e)=>t<255?e(t):"";function Zk(t){var e=Jk(t)?Kk:Yk;return t?"#"+e(t.r)+e(t.g)+e(t.b)+Qk(t.a,e):void 0}const ew=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function y0(t,e,s){const n=e*Math.min(s,1-s),a=(i,o=(i+t/30)%12)=>s-n*Math.max(Math.min(o-3,9-o,1),-1);return[a(0),a(8),a(4)]}function tw(t,e,s){const n=(a,i=(a+t/60)%6)=>s-s*e*Math.max(Math.min(i,4-i,1),0);return[n(5),n(3),n(1)]}function sw(t,e,s){const n=y0(t,1,.5);let a;for(e+s>1&&(a=1/(e+s),e*=a,s*=a),a=0;a<3;a++)n[a]*=1-e-s,n[a]+=e;return n}function nw(t,e,s,n,a){return t===a?(e-s)/n+(e<s?6:0):e===a?(s-t)/n+2:(t-e)/n+4}function cc(t){const s=t.r/255,n=t.g/255,a=t.b/255,i=Math.max(s,n,a),o=Math.min(s,n,a),r=(i+o)/2;let l,c,u;return i!==o&&(u=i-o,c=r>.5?u/(2-i-o):u/(i+o),l=nw(s,n,a,u,i),l=l*60+.5),[l|0,c||0,r]}function uc(t,e,s,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,s,n)).map(An)}function fc(t,e,s){return uc(y0,t,e,s)}function aw(t,e,s){return uc(sw,t,e,s)}function iw(t,e,s){return uc(tw,t,e,s)}function x0(t){return(t%360+360)%360}function ow(t){const e=ew.exec(t);let s=255,n;if(!e)return;e[5]!==n&&(s=e[6]?ai(+e[5]):An(+e[5]));const a=x0(+e[2]),i=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?n=aw(a,i,o):e[1]==="hsv"?n=iw(a,i,o):n=fc(a,i,o),{r:n[0],g:n[1],b:n[2],a:s}}function rw(t,e){var s=cc(t);s[0]=x0(s[0]+e),s=fc(s),t.r=s[0],t.g=s[1],t.b=s[2]}function lw(t){if(!t)return;const e=cc(t),s=e[0],n=hf(e[1]),a=hf(e[2]);return t.a<255?`hsla(${s}, ${n}%, ${a}%, ${Ws(t.a)})`:`hsl(${s}, ${n}%, ${a}%)`}const pf={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},gf={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function dw(){const t={},e=Object.keys(gf),s=Object.keys(pf);let n,a,i,o,r;for(n=0;n<e.length;n++){for(o=r=e[n],a=0;a<s.length;a++)i=s[a],r=r.replace(i,pf[i]);i=parseInt(gf[o],16),t[r]=[i>>16&255,i>>8&255,i&255]}return t}let xo;function cw(t){xo||(xo=dw(),xo.transparent=[0,0,0,0]);const e=xo[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const uw=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function fw(t){const e=uw.exec(t);let s=255,n,a,i;if(e){if(e[7]!==n){const o=+e[7];s=e[8]?ai(o):vn(o*255,0,255)}return n=+e[1],a=+e[3],i=+e[5],n=255&(e[2]?ai(n):vn(n,0,255)),a=255&(e[4]?ai(a):vn(a,0,255)),i=255&(e[6]?ai(i):vn(i,0,255)),{r:n,g:a,b:i,a:s}}}function hw(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Ws(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const wl=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,ga=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function pw(t,e,s){const n=ga(Ws(t.r)),a=ga(Ws(t.g)),i=ga(Ws(t.b));return{r:An(wl(n+s*(ga(Ws(e.r))-n))),g:An(wl(a+s*(ga(Ws(e.g))-a))),b:An(wl(i+s*(ga(Ws(e.b))-i))),a:t.a+s*(e.a-t.a)}}function _o(t,e,s){if(t){let n=cc(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*s,e===0?360:1)),n=fc(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function _0(t,e){return t&&Object.assign(e||{},t)}function mf(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=An(t[3]))):(e=_0(t,{r:0,g:0,b:0,a:1}),e.a=An(e.a)),e}function gw(t){return t.charAt(0)==="r"?fw(t):ow(t)}class Fi{constructor(e){if(e instanceof Fi)return e;const s=typeof e;let n;s==="object"?n=mf(e):s==="string"&&(n=Xk(e)||cw(e)||gw(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=_0(this._rgb);return e&&(e.a=Ws(e.a)),e}set rgb(e){this._rgb=mf(e)}rgbString(){return this._valid?hw(this._rgb):void 0}hexString(){return this._valid?Zk(this._rgb):void 0}hslString(){return this._valid?lw(this._rgb):void 0}mix(e,s){if(e){const n=this.rgb,a=e.rgb;let i;const o=s===i?.5:s,r=2*o-1,l=n.a-a.a,c=((r*l===-1?r:(r+l)/(1+r*l))+1)/2;i=1-c,n.r=255&c*n.r+i*a.r+.5,n.g=255&c*n.g+i*a.g+.5,n.b=255&c*n.b+i*a.b+.5,n.a=o*n.a+(1-o)*a.a,this.rgb=n}return this}interpolate(e,s){return e&&(this._rgb=pw(this._rgb,e._rgb,s)),this}clone(){return new Fi(this.rgb)}alpha(e){return this._rgb.a=An(e),this}clearer(e){const s=this._rgb;return s.a*=1-e,this}greyscale(){const e=this._rgb,s=ro(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=s,this}opaquer(e){const s=this._rgb;return s.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return _o(this._rgb,2,e),this}darken(e){return _o(this._rgb,2,-e),this}saturate(e){return _o(this._rgb,1,e),this}desaturate(e){return _o(this._rgb,1,-e),this}rotate(e){return rw(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Vs(){}const mw=(()=>{let t=0;return()=>t++})();function He(t){return t==null}function ot(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function We(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function ut(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Qt(t,e){return ut(t)?t:e}function Le(t,e){return typeof t>"u"?e:t}const bw=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,k0=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function nt(t,e,s){if(t&&typeof t.call=="function")return t.apply(s,e)}function Qe(t,e,s,n){let a,i,o;if(ot(t))for(i=t.length,a=0;a<i;a++)e.call(s,t[a],a);else if(We(t))for(o=Object.keys(t),i=o.length,a=0;a<i;a++)e.call(s,t[o[a]],o[a])}function lr(t,e){let s,n,a,i;if(!t||!e||t.length!==e.length)return!1;for(s=0,n=t.length;s<n;++s)if(a=t[s],i=e[s],a.datasetIndex!==i.datasetIndex||a.index!==i.index)return!1;return!0}function dr(t){if(ot(t))return t.map(dr);if(We(t)){const e=Object.create(null),s=Object.keys(t),n=s.length;let a=0;for(;a<n;++a)e[s[a]]=dr(t[s[a]]);return e}return t}function w0(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function vw(t,e,s,n){if(!w0(t))return;const a=e[t],i=s[t];We(a)&&We(i)?Bi(a,i,n):e[t]=dr(i)}function Bi(t,e,s){const n=ot(e)?e:[e],a=n.length;if(!We(t))return t;s=s||{};const i=s.merger||vw;let o;for(let r=0;r<a;++r){if(o=n[r],!We(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)i(l[c],t,o,s)}return t}function vi(t,e){return Bi(t,e,{merger:yw})}function yw(t,e,s){if(!w0(t))return;const n=e[t],a=s[t];We(n)&&We(a)?vi(n,a):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=dr(a))}const bf={"":t=>t,x:t=>t.x,y:t=>t.y};function xw(t){const e=t.split("."),s=[];let n="";for(const a of e)n+=a,n.endsWith("\\")?n=n.slice(0,-1)+".":(s.push(n),n="");return s}function _w(t){const e=xw(t);return s=>{for(const n of e){if(n==="")break;s=s&&s[n]}return s}}function Mn(t,e){return(bf[e]||(bf[e]=_w(e)))(t)}function hc(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Vi=t=>typeof t<"u",Tn=t=>typeof t=="function",vf=(t,e)=>{if(t.size!==e.size)return!1;for(const s of t)if(!e.has(s))return!1;return!0};function kw(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Ke=Math.PI,it=2*Ke,ww=it+Ke,cr=Number.POSITIVE_INFINITY,Cw=Ke/180,pt=Ke/2,Vn=Ke/4,yf=Ke*2/3,yn=Math.log10,Ds=Math.sign;function yi(t,e,s){return Math.abs(t-e)<s}function xf(t){const e=Math.round(t);t=yi(t,e,t/1e3)?e:t;const s=Math.pow(10,Math.floor(yn(t))),n=t/s;return(n<=1?1:n<=2?2:n<=5?5:10)*s}function Sw(t){const e=[],s=Math.sqrt(t);let n;for(n=1;n<s;n++)t%n===0&&(e.push(n),e.push(t/n));return s===(s|0)&&e.push(s),e.sort((a,i)=>a-i).pop(),e}function Aw(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Ba(t){return!Aw(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function Ew(t,e){const s=Math.round(t);return s-e<=t&&s+e>=t}function C0(t,e,s){let n,a,i;for(n=0,a=t.length;n<a;n++)i=t[n][s],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function fs(t){return t*(Ke/180)}function pc(t){return t*(180/Ke)}function _f(t){if(!ut(t))return;let e=1,s=0;for(;Math.round(t*e)/e!==t;)e*=10,s++;return s}function S0(t,e){const s=e.x-t.x,n=e.y-t.y,a=Math.sqrt(s*s+n*n);let i=Math.atan2(n,s);return i<-.5*Ke&&(i+=it),{angle:i,distance:a}}function pd(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function $w(t,e){return(t-e+ww)%it-Ke}function At(t){return(t%it+it)%it}function ji(t,e,s,n){const a=At(t),i=At(e),o=At(s),r=At(i-a),l=At(o-a),c=At(a-i),u=At(a-o);return a===i||a===o||n&&i===o||r>l&&c<u}function kt(t,e,s){return Math.max(e,Math.min(s,t))}function Mw(t){return kt(t,-32768,32767)}function Ks(t,e,s,n=1e-6){return t>=Math.min(e,s)-n&&t<=Math.max(e,s)+n}function gc(t,e,s){s=s||(o=>t[o]<e);let n=t.length-1,a=0,i;for(;n-a>1;)i=a+n>>1,s(i)?a=i:n=i;return{lo:a,hi:n}}const Ys=(t,e,s,n)=>gc(t,s,n?a=>{const i=t[a][e];return i<s||i===s&&t[a+1][e]===s}:a=>t[a][e]<s),Tw=(t,e,s)=>gc(t,s,n=>t[n][e]>=s);function Rw(t,e,s){let n=0,a=t.length;for(;n<a&&t[n]<e;)n++;for(;a>n&&t[a-1]>s;)a--;return n>0||a<t.length?t.slice(n,a):t}const A0=["push","pop","shift","splice","unshift"];function Dw(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),A0.forEach(s=>{const n="_onData"+hc(s),a=t[s];Object.defineProperty(t,s,{configurable:!0,enumerable:!1,value(...i){const o=a.apply(this,i);return t._chartjs.listeners.forEach(r=>{typeof r[n]=="function"&&r[n](...i)}),o}})})}function kf(t,e){const s=t._chartjs;if(!s)return;const n=s.listeners,a=n.indexOf(e);a!==-1&&n.splice(a,1),!(n.length>0)&&(A0.forEach(i=>{delete t[i]}),delete t._chartjs)}function E0(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const $0=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function M0(t,e){let s=[],n=!1;return function(...a){s=a,n||(n=!0,$0.call(window,()=>{n=!1,t.apply(e,s)}))}}function Pw(t,e){let s;return function(...n){return e?(clearTimeout(s),s=setTimeout(t,e,n)):t.apply(this,n),e}}const mc=t=>t==="start"?"left":t==="end"?"right":"center",St=(t,e,s)=>t==="start"?e:t==="end"?s:(e+s)/2,Ow=(t,e,s,n)=>t===(n?"left":"right")?s:t==="center"?(e+s)/2:e;function T0(t,e,s){const n=e.length;let a=0,i=n;if(t._sorted){const{iScale:o,vScale:r,_parsed:l}=t,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,u=o.axis,{min:f,max:h,minDefined:p,maxDefined:b}=o.getUserBounds();if(p){if(a=Math.min(Ys(l,u,f).lo,s?n:Ys(e,u,o.getPixelForValue(f)).lo),c){const m=l.slice(0,a+1).reverse().findIndex(g=>!He(g[r.axis]));a-=Math.max(0,m)}a=kt(a,0,n-1)}if(b){let m=Math.max(Ys(l,o.axis,h,!0).hi+1,s?0:Ys(e,u,o.getPixelForValue(h),!0).hi+1);if(c){const g=l.slice(m-1).findIndex(y=>!He(y[r.axis]));m+=Math.max(0,g)}i=kt(m,a,n)-a}else i=n-a}return{start:a,count:i}}function R0(t){const{xScale:e,yScale:s,_scaleRanges:n}=t,a={xmin:e.min,xmax:e.max,ymin:s.min,ymax:s.max};if(!n)return t._scaleRanges=a,!0;const i=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==s.min||n.ymax!==s.max;return Object.assign(n,a),i}const ko=t=>t===0||t===1,wf=(t,e,s)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*it/s)),Cf=(t,e,s)=>Math.pow(2,-10*t)*Math.sin((t-e)*it/s)+1,xi={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*pt)+1,easeOutSine:t=>Math.sin(t*pt),easeInOutSine:t=>-.5*(Math.cos(Ke*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>ko(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>ko(t)?t:wf(t,.075,.3),easeOutElastic:t=>ko(t)?t:Cf(t,.075,.3),easeInOutElastic(t){return ko(t)?t:t<.5?.5*wf(t*2,.1125,.45):.5+.5*Cf(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-xi.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?xi.easeInBounce(t*2)*.5:xi.easeOutBounce(t*2-1)*.5+.5};function bc(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Sf(t){return bc(t)?t:new Fi(t)}function Cl(t){return bc(t)?t:new Fi(t).saturate(.5).darken(.1).hexString()}const Nw=["x","y","borderWidth","radius","tension"],Iw=["color","borderColor","backgroundColor"];function Lw(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:Iw},numbers:{type:"number",properties:Nw}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function Fw(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Af=new Map;function Bw(t,e){e=e||{};const s=t+JSON.stringify(e);let n=Af.get(s);return n||(n=new Intl.NumberFormat(t,e),Af.set(s,n)),n}function lo(t,e,s){return Bw(e,s).format(t)}const D0={values(t){return ot(t)?t:""+t},numeric(t,e,s){if(t===0)return"0";const n=this.chart.options.locale;let a,i=t;if(s.length>1){const c=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));(c<1e-4||c>1e15)&&(a="scientific"),i=Vw(t,s)}const o=yn(Math.abs(i)),r=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:a,minimumFractionDigits:r,maximumFractionDigits:r};return Object.assign(l,this.options.ticks.format),lo(t,n,l)},logarithmic(t,e,s){if(t===0)return"0";const n=s[e].significand||t/Math.pow(10,Math.floor(yn(t)));return[1,2,3,5,10,15].includes(n)||e>.8*s.length?D0.numeric.call(this,t,e,s):""}};function Vw(t,e){let s=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(s)>=1&&t!==Math.floor(t)&&(s=t-Math.floor(t)),s}var jr={formatters:D0};function jw(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,s)=>s.lineWidth,tickColor:(e,s)=>s.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:jr.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const ia=Object.create(null),gd=Object.create(null);function _i(t,e){if(!e)return t;const s=e.split(".");for(let n=0,a=s.length;n<a;++n){const i=s[n];t=t[i]||(t[i]=Object.create(null))}return t}function Sl(t,e,s){return typeof e=="string"?Bi(_i(t,e),s):Bi(_i(t,""),e)}class Uw{constructor(e,s){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,a)=>Cl(a.backgroundColor),this.hoverBorderColor=(n,a)=>Cl(a.borderColor),this.hoverColor=(n,a)=>Cl(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(s)}set(e,s){return Sl(this,e,s)}get(e){return _i(this,e)}describe(e,s){return Sl(gd,e,s)}override(e,s){return Sl(ia,e,s)}route(e,s,n,a){const i=_i(this,e),o=_i(this,n),r="_"+s;Object.defineProperties(i,{[r]:{value:i[s],writable:!0},[s]:{enumerable:!0,get(){const l=this[r],c=o[a];return We(l)?Object.assign({},c,l):Le(l,c)},set(l){this[r]=l}}})}apply(e){e.forEach(s=>s(this))}}var rt=new Uw({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Lw,Fw,jw]);function zw(t){return!t||He(t.size)||He(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function ur(t,e,s,n,a){let i=e[a];return i||(i=e[a]=t.measureText(a).width,s.push(a)),i>n&&(n=i),n}function Hw(t,e,s,n){n=n||{};let a=n.data=n.data||{},i=n.garbageCollect=n.garbageCollect||[];n.font!==e&&(a=n.data={},i=n.garbageCollect=[],n.font=e),t.save(),t.font=e;let o=0;const r=s.length;let l,c,u,f,h;for(l=0;l<r;l++)if(f=s[l],f!=null&&!ot(f))o=ur(t,a,i,o,f);else if(ot(f))for(c=0,u=f.length;c<u;c++)h=f[c],h!=null&&!ot(h)&&(o=ur(t,a,i,o,h));t.restore();const p=i.length/2;if(p>s.length){for(l=0;l<p;l++)delete a[i[l]];i.splice(0,p)}return o}function jn(t,e,s){const n=t.currentDevicePixelRatio,a=s!==0?Math.max(s/2,.5):0;return Math.round((e-a)*n)/n+a}function Ef(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function md(t,e,s,n){P0(t,e,s,n,null)}function P0(t,e,s,n,a){let i,o,r,l,c,u,f,h;const p=e.pointStyle,b=e.rotation,m=e.radius;let g=(b||0)*Cw;if(p&&typeof p=="object"&&(i=p.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(s,n),t.rotate(g),t.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),t.restore();return}if(!(isNaN(m)||m<=0)){switch(t.beginPath(),p){default:a?t.ellipse(s,n,a/2,m,0,0,it):t.arc(s,n,m,0,it),t.closePath();break;case"triangle":u=a?a/2:m,t.moveTo(s+Math.sin(g)*u,n-Math.cos(g)*m),g+=yf,t.lineTo(s+Math.sin(g)*u,n-Math.cos(g)*m),g+=yf,t.lineTo(s+Math.sin(g)*u,n-Math.cos(g)*m),t.closePath();break;case"rectRounded":c=m*.516,l=m-c,o=Math.cos(g+Vn)*l,f=Math.cos(g+Vn)*(a?a/2-c:l),r=Math.sin(g+Vn)*l,h=Math.sin(g+Vn)*(a?a/2-c:l),t.arc(s-f,n-r,c,g-Ke,g-pt),t.arc(s+h,n-o,c,g-pt,g),t.arc(s+f,n+r,c,g,g+pt),t.arc(s-h,n+o,c,g+pt,g+Ke),t.closePath();break;case"rect":if(!b){l=Math.SQRT1_2*m,u=a?a/2:l,t.rect(s-u,n-l,2*u,2*l);break}g+=Vn;case"rectRot":f=Math.cos(g)*(a?a/2:m),o=Math.cos(g)*m,r=Math.sin(g)*m,h=Math.sin(g)*(a?a/2:m),t.moveTo(s-f,n-r),t.lineTo(s+h,n-o),t.lineTo(s+f,n+r),t.lineTo(s-h,n+o),t.closePath();break;case"crossRot":g+=Vn;case"cross":f=Math.cos(g)*(a?a/2:m),o=Math.cos(g)*m,r=Math.sin(g)*m,h=Math.sin(g)*(a?a/2:m),t.moveTo(s-f,n-r),t.lineTo(s+f,n+r),t.moveTo(s+h,n-o),t.lineTo(s-h,n+o);break;case"star":f=Math.cos(g)*(a?a/2:m),o=Math.cos(g)*m,r=Math.sin(g)*m,h=Math.sin(g)*(a?a/2:m),t.moveTo(s-f,n-r),t.lineTo(s+f,n+r),t.moveTo(s+h,n-o),t.lineTo(s-h,n+o),g+=Vn,f=Math.cos(g)*(a?a/2:m),o=Math.cos(g)*m,r=Math.sin(g)*m,h=Math.sin(g)*(a?a/2:m),t.moveTo(s-f,n-r),t.lineTo(s+f,n+r),t.moveTo(s+h,n-o),t.lineTo(s-h,n+o);break;case"line":o=a?a/2:Math.cos(g)*m,r=Math.sin(g)*m,t.moveTo(s-o,n-r),t.lineTo(s+o,n+r);break;case"dash":t.moveTo(s,n),t.lineTo(s+Math.cos(g)*(a?a/2:m),n+Math.sin(g)*m);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Js(t,e,s){return s=s||.5,!e||t&&t.x>e.left-s&&t.x<e.right+s&&t.y>e.top-s&&t.y<e.bottom+s}function Ur(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function zr(t){t.restore()}function Ww(t,e,s,n,a){if(!e)return t.lineTo(s.x,s.y);if(a==="middle"){const i=(e.x+s.x)/2;t.lineTo(i,e.y),t.lineTo(i,s.y)}else a==="after"!=!!n?t.lineTo(e.x,s.y):t.lineTo(s.x,e.y);t.lineTo(s.x,s.y)}function qw(t,e,s,n){if(!e)return t.lineTo(s.x,s.y);t.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?s.cp2x:s.cp1x,n?s.cp2y:s.cp1y,s.x,s.y)}function Gw(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),He(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function Kw(t,e,s,n,a){if(a.strikethrough||a.underline){const i=t.measureText(n),o=e-i.actualBoundingBoxLeft,r=e+i.actualBoundingBoxRight,l=s-i.actualBoundingBoxAscent,c=s+i.actualBoundingBoxDescent,u=a.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=a.decorationWidth||2,t.moveTo(o,u),t.lineTo(r,u),t.stroke()}}function Yw(t,e){const s=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=s}function oa(t,e,s,n,a,i={}){const o=ot(e)?e:[e],r=i.strokeWidth>0&&i.strokeColor!=="";let l,c;for(t.save(),t.font=a.string,Gw(t,i),l=0;l<o.length;++l)c=o[l],i.backdrop&&Yw(t,i.backdrop),r&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),He(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(c,s,n,i.maxWidth)),t.fillText(c,s,n,i.maxWidth),Kw(t,s,n,c,i),n+=Number(a.lineHeight);t.restore()}function Ui(t,e){const{x:s,y:n,w:a,h:i,radius:o}=e;t.arc(s+o.topLeft,n+o.topLeft,o.topLeft,1.5*Ke,Ke,!0),t.lineTo(s,n+i-o.bottomLeft),t.arc(s+o.bottomLeft,n+i-o.bottomLeft,o.bottomLeft,Ke,pt,!0),t.lineTo(s+a-o.bottomRight,n+i),t.arc(s+a-o.bottomRight,n+i-o.bottomRight,o.bottomRight,pt,0,!0),t.lineTo(s+a,n+o.topRight),t.arc(s+a-o.topRight,n+o.topRight,o.topRight,0,-pt,!0),t.lineTo(s+o.topLeft,n)}const Jw=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Xw=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Qw(t,e){const s=(""+t).match(Jw);if(!s||s[1]==="normal")return e*1.2;switch(t=+s[2],s[3]){case"px":return t;case"%":t/=100;break}return e*t}const Zw=t=>+t||0;function vc(t,e){const s={},n=We(e),a=n?Object.keys(e):e,i=We(t)?n?o=>Le(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of a)s[o]=Zw(i(o));return s}function O0(t){return vc(t,{top:"y",right:"x",bottom:"y",left:"x"})}function ea(t){return vc(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Nt(t){const e=O0(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function xt(t,e){t=t||{},e=e||rt.font;let s=Le(t.size,e.size);typeof s=="string"&&(s=parseInt(s,10));let n=Le(t.style,e.style);n&&!(""+n).match(Xw)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const a={family:Le(t.family,e.family),lineHeight:Qw(Le(t.lineHeight,e.lineHeight),s),size:s,style:n,weight:Le(t.weight,e.weight),string:""};return a.string=zw(a),a}function ii(t,e,s,n){let a,i,o;for(a=0,i=t.length;a<i;++a)if(o=t[a],o!==void 0&&o!==void 0)return o}function e4(t,e,s){const{min:n,max:a}=t,i=k0(e,(a-n)/2),o=(r,l)=>s&&r===0?0:r+l;return{min:o(n,-Math.abs(i)),max:o(a,i)}}function Pn(t,e){return Object.assign(Object.create(t),e)}function yc(t,e=[""],s,n,a=()=>t[0]){const i=s||t;typeof n>"u"&&(n=F0("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:n,_getTarget:a,override:r=>yc([r,...t],e,i,n)};return new Proxy(o,{deleteProperty(r,l){return delete r[l],delete r._keys,delete t[0][l],!0},get(r,l){return I0(r,l,()=>l4(l,e,t,r))},getOwnPropertyDescriptor(r,l){return Reflect.getOwnPropertyDescriptor(r._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(r,l){return Mf(r).includes(l)},ownKeys(r){return Mf(r)},set(r,l,c){const u=r._storage||(r._storage=a());return r[l]=u[l]=c,delete r._keys,!0}})}function Va(t,e,s,n){const a={_cacheable:!1,_proxy:t,_context:e,_subProxy:s,_stack:new Set,_descriptors:N0(t,n),setContext:i=>Va(t,i,s,n),override:i=>Va(t.override(i),e,s,n)};return new Proxy(a,{deleteProperty(i,o){return delete i[o],delete t[o],!0},get(i,o,r){return I0(i,o,()=>s4(i,o,r))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(i,o,r){return t[o]=r,delete i[o],!0}})}function N0(t,e={scriptable:!0,indexable:!0}){const{_scriptable:s=e.scriptable,_indexable:n=e.indexable,_allKeys:a=e.allKeys}=t;return{allKeys:a,scriptable:s,indexable:n,isScriptable:Tn(s)?s:()=>s,isIndexable:Tn(n)?n:()=>n}}const t4=(t,e)=>t?t+hc(e):e,xc=(t,e)=>We(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function I0(t,e,s){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const n=s();return t[e]=n,n}function s4(t,e,s){const{_proxy:n,_context:a,_subProxy:i,_descriptors:o}=t;let r=n[e];return Tn(r)&&o.isScriptable(e)&&(r=n4(e,r,t,s)),ot(r)&&r.length&&(r=a4(e,r,t,o.isIndexable)),xc(e,r)&&(r=Va(r,a,i&&i[e],o)),r}function n4(t,e,s,n){const{_proxy:a,_context:i,_subProxy:o,_stack:r}=s;if(r.has(t))throw new Error("Recursion detected: "+Array.from(r).join("->")+"->"+t);r.add(t);let l=e(i,o||n);return r.delete(t),xc(t,l)&&(l=_c(a._scopes,a,t,l)),l}function a4(t,e,s,n){const{_proxy:a,_context:i,_subProxy:o,_descriptors:r}=s;if(typeof i.index<"u"&&n(t))return e[i.index%e.length];if(We(e[0])){const l=e,c=a._scopes.filter(u=>u!==l);e=[];for(const u of l){const f=_c(c,a,t,u);e.push(Va(f,i,o&&o[t],r))}}return e}function L0(t,e,s){return Tn(t)?t(e,s):t}const i4=(t,e)=>t===!0?e:typeof t=="string"?Mn(e,t):void 0;function o4(t,e,s,n,a){for(const i of e){const o=i4(s,i);if(o){t.add(o);const r=L0(o._fallback,s,a);if(typeof r<"u"&&r!==s&&r!==n)return r}else if(o===!1&&typeof n<"u"&&s!==n)return null}return!1}function _c(t,e,s,n){const a=e._rootScopes,i=L0(e._fallback,s,n),o=[...t,...a],r=new Set;r.add(n);let l=$f(r,o,s,i||s,n);return l===null||typeof i<"u"&&i!==s&&(l=$f(r,o,i,l,n),l===null)?!1:yc(Array.from(r),[""],a,i,()=>r4(e,s,n))}function $f(t,e,s,n,a){for(;s;)s=o4(t,e,s,n,a);return s}function r4(t,e,s){const n=t._getTarget();e in n||(n[e]={});const a=n[e];return ot(a)&&We(s)?s:a||{}}function l4(t,e,s,n){let a;for(const i of e)if(a=F0(t4(i,t),s),typeof a<"u")return xc(t,a)?_c(s,n,t,a):a}function F0(t,e){for(const s of e){if(!s)continue;const n=s[t];if(typeof n<"u")return n}}function Mf(t){let e=t._keys;return e||(e=t._keys=d4(t._scopes)),e}function d4(t){const e=new Set;for(const s of t)for(const n of Object.keys(s).filter(a=>!a.startsWith("_")))e.add(n);return Array.from(e)}function B0(t,e,s,n){const{iScale:a}=t,{key:i="r"}=this._parsing,o=new Array(n);let r,l,c,u;for(r=0,l=n;r<l;++r)c=r+s,u=e[c],o[r]={r:a.parse(Mn(u,i),c)};return o}const c4=Number.EPSILON||1e-14,ja=(t,e)=>e<t.length&&!t[e].skip&&t[e],V0=t=>t==="x"?"y":"x";function u4(t,e,s,n){const a=t.skip?e:t,i=e,o=s.skip?e:s,r=pd(i,a),l=pd(o,i);let c=r/(r+l),u=l/(r+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const f=n*c,h=n*u;return{previous:{x:i.x-f*(o.x-a.x),y:i.y-f*(o.y-a.y)},next:{x:i.x+h*(o.x-a.x),y:i.y+h*(o.y-a.y)}}}function f4(t,e,s){const n=t.length;let a,i,o,r,l,c=ja(t,0);for(let u=0;u<n-1;++u)if(l=c,c=ja(t,u+1),!(!l||!c)){if(yi(e[u],0,c4)){s[u]=s[u+1]=0;continue}a=s[u]/e[u],i=s[u+1]/e[u],r=Math.pow(a,2)+Math.pow(i,2),!(r<=9)&&(o=3/Math.sqrt(r),s[u]=a*o*e[u],s[u+1]=i*o*e[u])}}function h4(t,e,s="x"){const n=V0(s),a=t.length;let i,o,r,l=ja(t,0);for(let c=0;c<a;++c){if(o=r,r=l,l=ja(t,c+1),!r)continue;const u=r[s],f=r[n];o&&(i=(u-o[s])/3,r[`cp1${s}`]=u-i,r[`cp1${n}`]=f-i*e[c]),l&&(i=(l[s]-u)/3,r[`cp2${s}`]=u+i,r[`cp2${n}`]=f+i*e[c])}}function p4(t,e="x"){const s=V0(e),n=t.length,a=Array(n).fill(0),i=Array(n);let o,r,l,c=ja(t,0);for(o=0;o<n;++o)if(r=l,l=c,c=ja(t,o+1),!!l){if(c){const u=c[e]-l[e];a[o]=u!==0?(c[s]-l[s])/u:0}i[o]=r?c?Ds(a[o-1])!==Ds(a[o])?0:(a[o-1]+a[o])/2:a[o-1]:a[o]}f4(t,a,i),h4(t,i,e)}function wo(t,e,s){return Math.max(Math.min(t,s),e)}function g4(t,e){let s,n,a,i,o,r=Js(t[0],e);for(s=0,n=t.length;s<n;++s)o=i,i=r,r=s<n-1&&Js(t[s+1],e),i&&(a=t[s],o&&(a.cp1x=wo(a.cp1x,e.left,e.right),a.cp1y=wo(a.cp1y,e.top,e.bottom)),r&&(a.cp2x=wo(a.cp2x,e.left,e.right),a.cp2y=wo(a.cp2y,e.top,e.bottom)))}function m4(t,e,s,n,a){let i,o,r,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")p4(t,a);else{let c=n?t[t.length-1]:t[0];for(i=0,o=t.length;i<o;++i)r=t[i],l=u4(c,r,t[Math.min(i+1,o-(n?0:1))%o],e.tension),r.cp1x=l.previous.x,r.cp1y=l.previous.y,r.cp2x=l.next.x,r.cp2y=l.next.y,c=r}e.capBezierPoints&&g4(t,s)}function kc(){return typeof window<"u"&&typeof document<"u"}function wc(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function fr(t,e,s){let n;return typeof t=="string"?(n=parseInt(t,10),t.indexOf("%")!==-1&&(n=n/100*e.parentNode[s])):n=t,n}const Hr=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function b4(t,e){return Hr(t).getPropertyValue(e)}const v4=["top","right","bottom","left"];function ta(t,e,s){const n={};s=s?"-"+s:"";for(let a=0;a<4;a++){const i=v4[a];n[i]=parseFloat(t[e+"-"+i+s])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const y4=(t,e,s)=>(t>0||e>0)&&(!s||!s.shadowRoot);function x4(t,e){const s=t.touches,n=s&&s.length?s[0]:t,{offsetX:a,offsetY:i}=n;let o=!1,r,l;if(y4(a,i,t.target))r=a,l=i;else{const c=e.getBoundingClientRect();r=n.clientX-c.left,l=n.clientY-c.top,o=!0}return{x:r,y:l,box:o}}function Wn(t,e){if("native"in t)return t;const{canvas:s,currentDevicePixelRatio:n}=e,a=Hr(s),i=a.boxSizing==="border-box",o=ta(a,"padding"),r=ta(a,"border","width"),{x:l,y:c,box:u}=x4(t,s),f=o.left+(u&&r.left),h=o.top+(u&&r.top);let{width:p,height:b}=e;return i&&(p-=o.width+r.width,b-=o.height+r.height),{x:Math.round((l-f)/p*s.width/n),y:Math.round((c-h)/b*s.height/n)}}function _4(t,e,s){let n,a;if(e===void 0||s===void 0){const i=t&&wc(t);if(!i)e=t.clientWidth,s=t.clientHeight;else{const o=i.getBoundingClientRect(),r=Hr(i),l=ta(r,"border","width"),c=ta(r,"padding");e=o.width-c.width-l.width,s=o.height-c.height-l.height,n=fr(r.maxWidth,i,"clientWidth"),a=fr(r.maxHeight,i,"clientHeight")}}return{width:e,height:s,maxWidth:n||cr,maxHeight:a||cr}}const xn=t=>Math.round(t*10)/10;function k4(t,e,s,n){const a=Hr(t),i=ta(a,"margin"),o=fr(a.maxWidth,t,"clientWidth")||cr,r=fr(a.maxHeight,t,"clientHeight")||cr,l=_4(t,e,s);let{width:c,height:u}=l;if(a.boxSizing==="content-box"){const h=ta(a,"border","width"),p=ta(a,"padding");c-=p.width+h.width,u-=p.height+h.height}return c=Math.max(0,c-i.width),u=Math.max(0,n?c/n:u-i.height),c=xn(Math.min(c,o,l.maxWidth)),u=xn(Math.min(u,r,l.maxHeight)),c&&!u&&(u=xn(c/2)),(e!==void 0||s!==void 0)&&n&&l.height&&u>l.height&&(u=l.height,c=xn(Math.floor(u*n))),{width:c,height:u}}function Tf(t,e,s){const n=e||1,a=xn(t.height*n),i=xn(t.width*n);t.height=xn(t.height),t.width=xn(t.width);const o=t.canvas;return o.style&&(s||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==n||o.height!==a||o.width!==i?(t.currentDevicePixelRatio=n,o.height=a,o.width=i,t.ctx.setTransform(n,0,0,n,0,0),!0):!1}const w4=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};kc()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function Rf(t,e){const s=b4(t,e),n=s&&s.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function qn(t,e,s,n){return{x:t.x+s*(e.x-t.x),y:t.y+s*(e.y-t.y)}}function C4(t,e,s,n){return{x:t.x+s*(e.x-t.x),y:n==="middle"?s<.5?t.y:e.y:n==="after"?s<1?t.y:e.y:s>0?e.y:t.y}}function S4(t,e,s,n){const a={x:t.cp2x,y:t.cp2y},i={x:e.cp1x,y:e.cp1y},o=qn(t,a,s),r=qn(a,i,s),l=qn(i,e,s),c=qn(o,r,s),u=qn(r,l,s);return qn(c,u,s)}const A4=function(t,e){return{x(s){return t+t+e-s},setWidth(s){e=s},textAlign(s){return s==="center"?s:s==="right"?"left":"right"},xPlus(s,n){return s-n},leftForLtr(s,n){return s-n}}},E4=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Aa(t,e,s){return t?A4(e,s):E4()}function j0(t,e){let s,n;(e==="ltr"||e==="rtl")&&(s=t.canvas.style,n=[s.getPropertyValue("direction"),s.getPropertyPriority("direction")],s.setProperty("direction",e,"important"),t.prevTextDirection=n)}function U0(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function z0(t){return t==="angle"?{between:ji,compare:$w,normalize:At}:{between:Ks,compare:(e,s)=>e-s,normalize:e=>e}}function Df({start:t,end:e,count:s,loop:n,style:a}){return{start:t%s,end:e%s,loop:n&&(e-t+1)%s===0,style:a}}function $4(t,e,s){const{property:n,start:a,end:i}=s,{between:o,normalize:r}=z0(n),l=e.length;let{start:c,end:u,loop:f}=t,h,p;if(f){for(c+=l,u+=l,h=0,p=l;h<p&&o(r(e[c%l][n]),a,i);++h)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:f,style:t.style}}function H0(t,e,s){if(!s)return[t];const{property:n,start:a,end:i}=s,o=e.length,{compare:r,between:l,normalize:c}=z0(n),{start:u,end:f,loop:h,style:p}=$4(t,e,s),b=[];let m=!1,g=null,y,C,k;const x=()=>l(a,k,y)&&r(a,k)!==0,_=()=>r(i,y)===0||l(i,k,y),T=()=>m||x(),E=()=>!m||_();for(let R=u,I=u;R<=f;++R)C=e[R%o],!C.skip&&(y=c(C[n]),y!==k&&(m=l(y,a,i),g===null&&T()&&(g=r(y,a)===0?R:I),g!==null&&E()&&(b.push(Df({start:g,end:R,loop:h,count:o,style:p})),g=null),I=R,k=y));return g!==null&&b.push(Df({start:g,end:f,loop:h,count:o,style:p})),b}function W0(t,e){const s=[],n=t.segments;for(let a=0;a<n.length;a++){const i=H0(n[a],t.points,e);i.length&&s.push(...i)}return s}function M4(t,e,s,n){let a=0,i=e-1;if(s&&!n)for(;a<e&&!t[a].skip;)a++;for(;a<e&&t[a].skip;)a++;for(a%=e,s&&(i+=a);i>a&&t[i%e].skip;)i--;return i%=e,{start:a,end:i}}function T4(t,e,s,n){const a=t.length,i=[];let o=e,r=t[e],l;for(l=e+1;l<=s;++l){const c=t[l%a];c.skip||c.stop?r.skip||(n=!1,i.push({start:e%a,end:(l-1)%a,loop:n}),e=o=c.stop?l:null):(o=l,r.skip&&(e=l)),r=c}return o!==null&&i.push({start:e%a,end:o%a,loop:n}),i}function R4(t,e){const s=t.points,n=t.options.spanGaps,a=s.length;if(!a)return[];const i=!!t._loop,{start:o,end:r}=M4(s,a,i,n);if(n===!0)return Pf(t,[{start:o,end:r,loop:i}],s,e);const l=r<o?r+a:r,c=!!t._fullLoop&&o===0&&r===a-1;return Pf(t,T4(s,o,l,c),s,e)}function Pf(t,e,s,n){return!n||!n.setContext||!s?e:D4(t,e,s,n)}function D4(t,e,s,n){const a=t._chart.getContext(),i=Of(t.options),{_datasetIndex:o,options:{spanGaps:r}}=t,l=s.length,c=[];let u=i,f=e[0].start,h=f;function p(b,m,g,y){const C=r?-1:1;if(b!==m){for(b+=l;s[b%l].skip;)b-=C;for(;s[m%l].skip;)m+=C;b%l!==m%l&&(c.push({start:b%l,end:m%l,loop:g,style:y}),u=y,f=m%l)}}for(const b of e){f=r?f:b.start;let m=s[f%l],g;for(h=f+1;h<=b.end;h++){const y=s[h%l];g=Of(n.setContext(Pn(a,{type:"segment",p0:m,p1:y,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:o}))),P4(g,u)&&p(f,h-1,b.loop,u),m=y,u=g}f<h-1&&p(f,h-1,b.loop,u)}return c}function Of(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function P4(t,e){if(!e)return!1;const s=[],n=function(a,i){return bc(i)?(s.includes(i)||s.push(i),s.indexOf(i)):i};return JSON.stringify(t,n)!==JSON.stringify(e,n)}function Co(t,e,s){return t.options.clip?t[s]:e[s]}function O4(t,e){const{xScale:s,yScale:n}=t;return s&&n?{left:Co(s,e,"left"),right:Co(s,e,"right"),top:Co(n,e,"top"),bottom:Co(n,e,"bottom")}:e}function q0(t,e){const s=e._clip;if(s.disabled)return!1;const n=O4(e,t.chartArea);return{left:s.left===!1?0:n.left-(s.left===!0?0:s.left),right:s.right===!1?t.width:n.right+(s.right===!0?0:s.right),top:s.top===!1?0:n.top-(s.top===!0?0:s.top),bottom:s.bottom===!1?t.height:n.bottom+(s.bottom===!0?0:s.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class N4{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,s,n,a){const i=s.listeners[a],o=s.duration;i.forEach(r=>r({chart:e,initial:s.initial,numSteps:o,currentStep:Math.min(n-s.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=$0.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let s=0;this._charts.forEach((n,a)=>{if(!n.running||!n.items.length)return;const i=n.items;let o=i.length-1,r=!1,l;for(;o>=0;--o)l=i[o],l._active?(l._total>n.duration&&(n.duration=l._total),l.tick(e),r=!0):(i[o]=i[i.length-1],i.pop());r&&(a.draw(),this._notify(a,n,e,"progress")),i.length||(n.running=!1,this._notify(a,n,e,"complete"),n.initial=!1),s+=i.length}),this._lastDate=e,s===0&&(this._running=!1)}_getAnims(e){const s=this._charts;let n=s.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},s.set(e,n)),n}listen(e,s,n){this._getAnims(e).listeners[s].push(n)}add(e,s){!s||!s.length||this._getAnims(e).items.push(...s)}has(e){return this._getAnims(e).items.length>0}start(e){const s=this._charts.get(e);s&&(s.running=!0,s.start=Date.now(),s.duration=s.items.reduce((n,a)=>Math.max(n,a._duration),0),this._refresh())}running(e){if(!this._running)return!1;const s=this._charts.get(e);return!(!s||!s.running||!s.items.length)}stop(e){const s=this._charts.get(e);if(!s||!s.items.length)return;const n=s.items;let a=n.length-1;for(;a>=0;--a)n[a].cancel();s.items=[],this._notify(e,s,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var js=new N4;const Nf="transparent",I4={boolean(t,e,s){return s>.5?e:t},color(t,e,s){const n=Sf(t||Nf),a=n.valid&&Sf(e||Nf);return a&&a.valid?a.mix(n,s).hexString():e},number(t,e,s){return t+(e-t)*s}};class L4{constructor(e,s,n,a){const i=s[n];a=ii([e.to,a,i,e.from]);const o=ii([e.from,i,a]);this._active=!0,this._fn=e.fn||I4[e.type||typeof o],this._easing=xi[e.easing]||xi.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=s,this._prop=n,this._from=o,this._to=a,this._promises=void 0}active(){return this._active}update(e,s,n){if(this._active){this._notify(!1);const a=this._target[this._prop],i=n-this._start,o=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=ii([e.to,s,a,e.from]),this._from=ii([e.from,a,s])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const s=e-this._start,n=this._duration,a=this._prop,i=this._from,o=this._loop,r=this._to;let l;if(this._active=i!==r&&(o||s<n),!this._active){this._target[a]=r,this._notify(!0);return}if(s<0){this._target[a]=i;return}l=s/n%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[a]=this._fn(i,r,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((s,n)=>{e.push({res:s,rej:n})})}_notify(e){const s=e?"res":"rej",n=this._promises||[];for(let a=0;a<n.length;a++)n[a][s]()}}class G0{constructor(e,s){this._chart=e,this._properties=new Map,this.configure(s)}configure(e){if(!We(e))return;const s=Object.keys(rt.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(a=>{const i=e[a];if(!We(i))return;const o={};for(const r of s)o[r]=i[r];(ot(i.properties)&&i.properties||[a]).forEach(r=>{(r===a||!n.has(r))&&n.set(r,o)})})}_animateOptions(e,s){const n=s.options,a=B4(e,n);if(!a)return[];const i=this._createAnimations(a,n);return n.$shared&&F4(e.options.$animations,n).then(()=>{e.options=n},()=>{}),i}_createAnimations(e,s){const n=this._properties,a=[],i=e.$animations||(e.$animations={}),o=Object.keys(s),r=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){a.push(...this._animateOptions(e,s));continue}const u=s[c];let f=i[c];const h=n.get(c);if(f)if(h&&f.active()){f.update(h,u,r);continue}else f.cancel();if(!h||!h.duration){e[c]=u;continue}i[c]=f=new L4(h,e,c,u),a.push(f)}return a}update(e,s){if(this._properties.size===0){Object.assign(e,s);return}const n=this._createAnimations(e,s);if(n.length)return js.add(this._chart,n),!0}}function F4(t,e){const s=[],n=Object.keys(e);for(let a=0;a<n.length;a++){const i=t[n[a]];i&&i.active()&&s.push(i.wait())}return Promise.all(s)}function B4(t,e){if(!e)return;let s=t.options;if(!s){t.options=e;return}return s.$shared&&(t.options=s=Object.assign({},s,{$shared:!1,$animations:{}})),s}function If(t,e){const s=t&&t.options||{},n=s.reverse,a=s.min===void 0?e:0,i=s.max===void 0?e:0;return{start:n?i:a,end:n?a:i}}function V4(t,e,s){if(s===!1)return!1;const n=If(t,s),a=If(e,s);return{top:a.end,right:n.end,bottom:a.start,left:n.start}}function j4(t){let e,s,n,a;return We(t)?(e=t.top,s=t.right,n=t.bottom,a=t.left):e=s=n=a=t,{top:e,right:s,bottom:n,left:a,disabled:t===!1}}function K0(t,e){const s=[],n=t._getSortedDatasetMetas(e);let a,i;for(a=0,i=n.length;a<i;++a)s.push(n[a].index);return s}function Lf(t,e,s,n={}){const a=t.keys,i=n.mode==="single";let o,r,l,c;if(e===null)return;let u=!1;for(o=0,r=a.length;o<r;++o){if(l=+a[o],l===s){if(u=!0,n.all)continue;break}c=t.values[l],ut(c)&&(i||e===0||Ds(e)===Ds(c))&&(e+=c)}return!u&&!n.all?0:e}function U4(t,e){const{iScale:s,vScale:n}=e,a=s.axis==="x"?"x":"y",i=n.axis==="x"?"x":"y",o=Object.keys(t),r=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],r[l]={[a]:u,[i]:t[u]};return r}function Al(t,e){const s=t&&t.options.stacked;return s||s===void 0&&e.stack!==void 0}function z4(t,e,s){return`${t.id}.${e.id}.${s.stack||s.type}`}function H4(t){const{min:e,max:s,minDefined:n,maxDefined:a}=t.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:a?s:Number.POSITIVE_INFINITY}}function W4(t,e,s){const n=t[e]||(t[e]={});return n[s]||(n[s]={})}function Ff(t,e,s,n){for(const a of e.getMatchingVisibleMetas(n).reverse()){const i=t[a.index];if(s&&i>0||!s&&i<0)return a.index}return null}function Bf(t,e){const{chart:s,_cachedMeta:n}=t,a=s._stacks||(s._stacks={}),{iScale:i,vScale:o,index:r}=n,l=i.axis,c=o.axis,u=z4(i,o,n),f=e.length;let h;for(let p=0;p<f;++p){const b=e[p],{[l]:m,[c]:g}=b,y=b._stacks||(b._stacks={});h=y[c]=W4(a,u,m),h[r]=g,h._top=Ff(h,o,!0,n.type),h._bottom=Ff(h,o,!1,n.type);const C=h._visualValues||(h._visualValues={});C[r]=g}}function El(t,e){const s=t.scales;return Object.keys(s).filter(n=>s[n].axis===e).shift()}function q4(t,e){return Pn(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function G4(t,e,s){return Pn(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:s,index:e,mode:"default",type:"data"})}function Xa(t,e){const s=t.controller.index,n=t.vScale&&t.vScale.axis;if(n){e=e||t._parsed;for(const a of e){const i=a._stacks;if(!i||i[n]===void 0||i[n][s]===void 0)return;delete i[n][s],i[n]._visualValues!==void 0&&i[n]._visualValues[s]!==void 0&&delete i[n]._visualValues[s]}}}const $l=t=>t==="reset"||t==="none",Vf=(t,e)=>e?t:Object.assign({},t),K4=(t,e,s)=>t&&!e.hidden&&e._stacked&&{keys:K0(s,!0),values:null};class ms{constructor(e,s){this.chart=e,this._ctx=e.ctx,this.index=s,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Al(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Xa(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,s=this._cachedMeta,n=this.getDataset(),a=(f,h,p,b)=>f==="x"?h:f==="r"?b:p,i=s.xAxisID=Le(n.xAxisID,El(e,"x")),o=s.yAxisID=Le(n.yAxisID,El(e,"y")),r=s.rAxisID=Le(n.rAxisID,El(e,"r")),l=s.indexAxis,c=s.iAxisID=a(l,i,o,r),u=s.vAxisID=a(l,o,i,r);s.xScale=this.getScaleForId(i),s.yScale=this.getScaleForId(o),s.rScale=this.getScaleForId(r),s.iScale=this.getScaleForId(c),s.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const s=this._cachedMeta;return e===s.iScale?s.vScale:s.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&kf(this._data,this),e._stacked&&Xa(e)}_dataCheck(){const e=this.getDataset(),s=e.data||(e.data=[]),n=this._data;if(We(s)){const a=this._cachedMeta;this._data=U4(s,a)}else if(n!==s){if(n){kf(n,this);const a=this._cachedMeta;Xa(a),a._parsed=[]}s&&Object.isExtensible(s)&&Dw(s,this),this._syncList=[],this._data=s}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const s=this._cachedMeta,n=this.getDataset();let a=!1;this._dataCheck();const i=s._stacked;s._stacked=Al(s.vScale,s),s.stack!==n.stack&&(a=!0,Xa(s),s.stack=n.stack),this._resyncElements(e),(a||i!==s._stacked)&&(Bf(this,s._parsed),s._stacked=Al(s.vScale,s))}configure(){const e=this.chart.config,s=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),s,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,s){const{_cachedMeta:n,_data:a}=this,{iScale:i,_stacked:o}=n,r=i.axis;let l=e===0&&s===a.length?!0:n._sorted,c=e>0&&n._parsed[e-1],u,f,h;if(this._parsing===!1)n._parsed=a,n._sorted=!0,h=a;else{ot(a[e])?h=this.parseArrayData(n,a,e,s):We(a[e])?h=this.parseObjectData(n,a,e,s):h=this.parsePrimitiveData(n,a,e,s);const p=()=>f[r]===null||c&&f[r]<c[r];for(u=0;u<s;++u)n._parsed[u+e]=f=h[u],l&&(p()&&(l=!1),c=f);n._sorted=l}o&&Bf(this,h)}parsePrimitiveData(e,s,n,a){const{iScale:i,vScale:o}=e,r=i.axis,l=o.axis,c=i.getLabels(),u=i===o,f=new Array(a);let h,p,b;for(h=0,p=a;h<p;++h)b=h+n,f[h]={[r]:u||i.parse(c[b],b),[l]:o.parse(s[b],b)};return f}parseArrayData(e,s,n,a){const{xScale:i,yScale:o}=e,r=new Array(a);let l,c,u,f;for(l=0,c=a;l<c;++l)u=l+n,f=s[u],r[l]={x:i.parse(f[0],u),y:o.parse(f[1],u)};return r}parseObjectData(e,s,n,a){const{xScale:i,yScale:o}=e,{xAxisKey:r="x",yAxisKey:l="y"}=this._parsing,c=new Array(a);let u,f,h,p;for(u=0,f=a;u<f;++u)h=u+n,p=s[h],c[u]={x:i.parse(Mn(p,r),h),y:o.parse(Mn(p,l),h)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,s,n){const a=this.chart,i=this._cachedMeta,o=s[e.axis],r={keys:K0(a,!0),values:s._stacks[e.axis]._visualValues};return Lf(r,o,i.index,{mode:n})}updateRangeFromParsed(e,s,n,a){const i=n[s.axis];let o=i===null?NaN:i;const r=a&&n._stacks[s.axis];a&&r&&(a.values=r,o=Lf(a,i,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,s){const n=this._cachedMeta,a=n._parsed,i=n._sorted&&e===n.iScale,o=a.length,r=this._getOtherScale(e),l=K4(s,n,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:f}=H4(r);let h,p;function b(){p=a[h];const m=p[r.axis];return!ut(p[e.axis])||u>m||f<m}for(h=0;h<o&&!(!b()&&(this.updateRangeFromParsed(c,e,p,l),i));++h);if(i){for(h=o-1;h>=0;--h)if(!b()){this.updateRangeFromParsed(c,e,p,l);break}}return c}getAllParsedValues(e){const s=this._cachedMeta._parsed,n=[];let a,i,o;for(a=0,i=s.length;a<i;++a)o=s[a][e.axis],ut(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const s=this._cachedMeta,n=s.iScale,a=s.vScale,i=this.getParsed(e);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:a?""+a.getLabelForValue(i[a.axis]):""}}_update(e){const s=this._cachedMeta;this.update(e||"default"),s._clip=j4(Le(this.options.clip,V4(s.xScale,s.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,s=this.chart,n=this._cachedMeta,a=n.data||[],i=s.chartArea,o=[],r=this._drawStart||0,l=this._drawCount||a.length-r,c=this.options.drawActiveElementsOnTop;let u;for(n.dataset&&n.dataset.draw(e,i,r,l),u=r;u<r+l;++u){const f=a[u];f.hidden||(f.active&&c?o.push(f):f.draw(e,i))}for(u=0;u<o.length;++u)o[u].draw(e,i)}getStyle(e,s){const n=s?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,s,n){const a=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];i=o.$context||(o.$context=G4(this.getContext(),e,o)),i.parsed=this.getParsed(e),i.raw=a.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=q4(this.chart.getContext(),this.index)),i.dataset=a,i.index=i.datasetIndex=this.index;return i.active=!!s,i.mode=n,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,s){return this._resolveElementOptions(this.dataElementType.id,s,e)}_resolveElementOptions(e,s="default",n){const a=s==="active",i=this._cachedDataOpts,o=e+"-"+s,r=i[o],l=this.enableOptionSharing&&Vi(n);if(r)return Vf(r,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),f=a?[`${e}Hover`,"hover",e,""]:[e,""],h=c.getOptionScopes(this.getDataset(),u),p=Object.keys(rt.elements[e]),b=()=>this.getContext(n,a,s),m=c.resolveNamedOptions(h,p,b,f);return m.$shared&&(m.$shared=l,i[o]=Object.freeze(Vf(m,l))),m}_resolveAnimations(e,s,n){const a=this.chart,i=this._cachedDataOpts,o=`animation-${s}`,r=i[o];if(r)return r;let l;if(a.options.animation!==!1){const u=this.chart.config,f=u.datasetAnimationScopeKeys(this._type,s),h=u.getOptionScopes(this.getDataset(),f);l=u.createResolver(h,this.getContext(e,n,s))}const c=new G0(a,l&&l.animations);return l&&l._cacheable&&(i[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,s){return!s||$l(e)||this.chart._animationsDisabled}_getSharedOptions(e,s){const n=this.resolveDataElementOptions(e,s),a=this._sharedOptions,i=this.getSharedOptions(n),o=this.includeOptions(s,i)||i!==a;return this.updateSharedOptions(i,s,n),{sharedOptions:i,includeOptions:o}}updateElement(e,s,n,a){$l(a)?Object.assign(e,n):this._resolveAnimations(s,a).update(e,n)}updateSharedOptions(e,s,n){e&&!$l(s)&&this._resolveAnimations(void 0,s).update(e,n)}_setStyle(e,s,n,a){e.active=a;const i=this.getStyle(s,a);this._resolveAnimations(s,n,a).update(e,{options:!a&&this.getSharedOptions(i)||i})}removeHoverStyle(e,s,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,s,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const s=this._data,n=this._cachedMeta.data;for(const[r,l,c]of this._syncList)this[r](l,c);this._syncList=[];const a=n.length,i=s.length,o=Math.min(i,a);o&&this.parse(0,o),i>a?this._insertElements(a,i-a,e):i<a&&this._removeElements(i,a-i)}_insertElements(e,s,n=!0){const a=this._cachedMeta,i=a.data,o=e+s;let r;const l=c=>{for(c.length+=s,r=c.length-1;r>=o;r--)c[r]=c[r-s]};for(l(i),r=e;r<o;++r)i[r]=new this.dataElementType;this._parsing&&l(a._parsed),this.parse(e,s),n&&this.updateElements(i,e,s,"reset")}updateElements(e,s,n,a){}_removeElements(e,s){const n=this._cachedMeta;if(this._parsing){const a=n._parsed.splice(e,s);n._stacked&&Xa(n,a)}n.data.splice(e,s)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[s,n,a]=e;this[s](n,a)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,s){s&&this._sync(["_removeElements",e,s]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Ae(ms,"defaults",{}),Ae(ms,"datasetElementType",null),Ae(ms,"dataElementType",null);function Y4(t,e){if(!t._cache.$bar){const s=t.getMatchingVisibleMetas(e);let n=[];for(let a=0,i=s.length;a<i;a++)n=n.concat(s[a].controller.getAllParsedValues(t));t._cache.$bar=E0(n.sort((a,i)=>a-i))}return t._cache.$bar}function J4(t){const e=t.iScale,s=Y4(e,t.type);let n=e._length,a,i,o,r;const l=()=>{o===32767||o===-32768||(Vi(r)&&(n=Math.min(n,Math.abs(o-r)||n)),r=o)};for(a=0,i=s.length;a<i;++a)o=e.getPixelForValue(s[a]),l();for(r=void 0,a=0,i=e.ticks.length;a<i;++a)o=e.getPixelForTick(a),l();return n}function X4(t,e,s,n){const a=s.barThickness;let i,o;return He(a)?(i=e.min*s.categoryPercentage,o=s.barPercentage):(i=a*n,o=1),{chunk:i/n,ratio:o,start:e.pixels[t]-i/2}}function Q4(t,e,s,n){const a=e.pixels,i=a[t];let o=t>0?a[t-1]:null,r=t<a.length-1?a[t+1]:null;const l=s.categoryPercentage;o===null&&(o=i-(r===null?e.end-e.start:r-i)),r===null&&(r=i+i-o);const c=i-(i-Math.min(o,r))/2*l;return{chunk:Math.abs(r-o)/2*l/n,ratio:s.barPercentage,start:c}}function Z4(t,e,s,n){const a=s.parse(t[0],n),i=s.parse(t[1],n),o=Math.min(a,i),r=Math.max(a,i);let l=o,c=r;Math.abs(o)>Math.abs(r)&&(l=r,c=o),e[s.axis]=c,e._custom={barStart:l,barEnd:c,start:a,end:i,min:o,max:r}}function Y0(t,e,s,n){return ot(t)?Z4(t,e,s,n):e[s.axis]=s.parse(t,n),e}function jf(t,e,s,n){const a=t.iScale,i=t.vScale,o=a.getLabels(),r=a===i,l=[];let c,u,f,h;for(c=s,u=s+n;c<u;++c)h=e[c],f={},f[a.axis]=r||a.parse(o[c],c),l.push(Y0(h,f,i,c));return l}function Ml(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function eC(t,e,s){return t!==0?Ds(t):(e.isHorizontal()?1:-1)*(e.min>=s?1:-1)}function tC(t){let e,s,n,a,i;return t.horizontal?(e=t.base>t.x,s="left",n="right"):(e=t.base<t.y,s="bottom",n="top"),e?(a="end",i="start"):(a="start",i="end"),{start:s,end:n,reverse:e,top:a,bottom:i}}function sC(t,e,s,n){let a=e.borderSkipped;const i={};if(!a){t.borderSkipped=i;return}if(a===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:r,reverse:l,top:c,bottom:u}=tC(t);a==="middle"&&s&&(t.enableBorderRadius=!0,(s._top||0)===n?a=c:(s._bottom||0)===n?a=u:(i[Uf(u,o,r,l)]=!0,a=c)),i[Uf(a,o,r,l)]=!0,t.borderSkipped=i}function Uf(t,e,s,n){return n?(t=nC(t,e,s),t=zf(t,s,e)):t=zf(t,e,s),t}function nC(t,e,s){return t===e?s:t===s?e:t}function zf(t,e,s){return t==="start"?e:t==="end"?s:t}function aC(t,{inflateAmount:e},s){t.inflateAmount=e==="auto"?s===1?.33:0:e}class ki extends ms{parsePrimitiveData(e,s,n,a){return jf(e,s,n,a)}parseArrayData(e,s,n,a){return jf(e,s,n,a)}parseObjectData(e,s,n,a){const{iScale:i,vScale:o}=e,{xAxisKey:r="x",yAxisKey:l="y"}=this._parsing,c=i.axis==="x"?r:l,u=o.axis==="x"?r:l,f=[];let h,p,b,m;for(h=n,p=n+a;h<p;++h)m=s[h],b={},b[i.axis]=i.parse(Mn(m,c),h),f.push(Y0(Mn(m,u),b,o,h));return f}updateRangeFromParsed(e,s,n,a){super.updateRangeFromParsed(e,s,n,a);const i=n._custom;i&&s===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const s=this._cachedMeta,{iScale:n,vScale:a}=s,i=this.getParsed(e),o=i._custom,r=Ml(o)?"["+o.start+", "+o.end+"]":""+a.getLabelForValue(i[a.axis]);return{label:""+n.getLabelForValue(i[n.axis]),value:r}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const s=this._cachedMeta;this.updateElements(s.data,0,s.data.length,e)}updateElements(e,s,n,a){const i=a==="reset",{index:o,_cachedMeta:{vScale:r}}=this,l=r.getBasePixel(),c=r.isHorizontal(),u=this._getRuler(),{sharedOptions:f,includeOptions:h}=this._getSharedOptions(s,a);for(let p=s;p<s+n;p++){const b=this.getParsed(p),m=i||He(b[r.axis])?{base:l,head:l}:this._calculateBarValuePixels(p),g=this._calculateBarIndexPixels(p,u),y=(b._stacks||{})[r.axis],C={horizontal:c,base:m.base,enableBorderRadius:!y||Ml(b._custom)||o===y._top||o===y._bottom,x:c?m.head:g.center,y:c?g.center:m.head,height:c?g.size:Math.abs(m.size),width:c?Math.abs(m.size):g.size};h&&(C.options=f||this.resolveDataElementOptions(p,e[p].active?"active":a));const k=C.options||e[p].options;sC(C,k,y,o),aC(C,k,u.ratio),this.updateElement(e[p],p,C,a)}}_getStacks(e,s){const{iScale:n}=this._cachedMeta,a=n.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),i=n.options.stacked,o=[],r=this._cachedMeta.controller.getParsed(s),l=r&&r[n.axis],c=u=>{const f=u._parsed.find(p=>p[n.axis]===l),h=f&&f[u.vScale.axis];if(He(h)||isNaN(h))return!0};for(const u of a)if(!(s!==void 0&&c(u))&&((i===!1||o.indexOf(u.stack)===-1||i===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,s=this.chart.options.indexAxis;return Object.keys(e).filter(n=>e[n].axis===s).shift()}_getAxis(){const e={},s=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)e[Le(this.chart.options.indexAxis==="x"?n.xAxisID:n.yAxisID,s)]=!0;return Object.keys(e)}_getStackIndex(e,s,n){const a=this._getStacks(e,n),i=s!==void 0?a.indexOf(s):-1;return i===-1?a.length-1:i}_getRuler(){const e=this.options,s=this._cachedMeta,n=s.iScale,a=[];let i,o;for(i=0,o=s.data.length;i<o;++i)a.push(n.getPixelForValue(this.getParsed(i)[n.axis],i));const r=e.barThickness;return{min:r||J4(s),pixels:a,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:r?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:s,_stacked:n,index:a},options:{base:i,minBarLength:o}}=this,r=i||0,l=this.getParsed(e),c=l._custom,u=Ml(c);let f=l[s.axis],h=0,p=n?this.applyStack(s,l,n):f,b,m;p!==f&&(h=p-f,p=f),u&&(f=c.barStart,p=c.barEnd-c.barStart,f!==0&&Ds(f)!==Ds(c.barEnd)&&(h=0),h+=f);const g=!He(i)&&!u?i:h;let y=s.getPixelForValue(g);if(this.chart.getDataVisibility(e)?b=s.getPixelForValue(h+p):b=y,m=b-y,Math.abs(m)<o){m=eC(m,s,r)*o,f===r&&(y-=m/2);const C=s.getPixelForDecimal(0),k=s.getPixelForDecimal(1),x=Math.min(C,k),_=Math.max(C,k);y=Math.max(Math.min(y,_),x),b=y+m,n&&!u&&(l._stacks[s.axis]._visualValues[a]=s.getValueForPixel(b)-s.getValueForPixel(y))}if(y===s.getPixelForValue(r)){const C=Ds(m)*s.getLineWidthForValue(r)/2;y+=C,m-=C}return{size:m,base:y,head:b,center:b+m/2}}_calculateBarIndexPixels(e,s){const n=s.scale,a=this.options,i=a.skipNull,o=Le(a.maxBarThickness,1/0);let r,l;const c=this._getAxisCount();if(s.grouped){const u=i?this._getStackCount(e):s.stackCount,f=a.barThickness==="flex"?Q4(e,s,a,u*c):X4(e,s,a,u*c),h=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,p=this._getAxis().indexOf(Le(h,this.getFirstScaleIdForIndexAxis())),b=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0)+p;r=f.start+f.chunk*b+f.chunk/2,l=Math.min(o,f.chunk*f.ratio)}else r=n.getPixelForValue(this.getParsed(e)[n.axis],e),l=Math.min(o,s.min*s.ratio);return{base:r-l/2,head:r+l/2,center:r,size:l}}draw(){const e=this._cachedMeta,s=e.vScale,n=e.data,a=n.length;let i=0;for(;i<a;++i)this.getParsed(i)[s.axis]!==null&&!n[i].hidden&&n[i].draw(this._ctx)}}Ae(ki,"id","bar"),Ae(ki,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Ae(ki,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class zo extends ms{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,s,n,a){const i=super.parsePrimitiveData(e,s,n,a);for(let o=0;o<i.length;o++)i[o]._custom=this.resolveDataElementOptions(o+n).radius;return i}parseArrayData(e,s,n,a){const i=super.parseArrayData(e,s,n,a);for(let o=0;o<i.length;o++){const r=s[n+o];i[o]._custom=Le(r[2],this.resolveDataElementOptions(o+n).radius)}return i}parseObjectData(e,s,n,a){const i=super.parseObjectData(e,s,n,a);for(let o=0;o<i.length;o++){const r=s[n+o];i[o]._custom=Le(r&&r.r&&+r.r,this.resolveDataElementOptions(o+n).radius)}return i}getMaxOverflow(){const e=this._cachedMeta.data;let s=0;for(let n=e.length-1;n>=0;--n)s=Math.max(s,e[n].size(this.resolveDataElementOptions(n))/2);return s>0&&s}getLabelAndValue(e){const s=this._cachedMeta,n=this.chart.data.labels||[],{xScale:a,yScale:i}=s,o=this.getParsed(e),r=a.getLabelForValue(o.x),l=i.getLabelForValue(o.y),c=o._custom;return{label:n[e]||"",value:"("+r+", "+l+(c?", "+c:"")+")"}}update(e){const s=this._cachedMeta.data;this.updateElements(s,0,s.length,e)}updateElements(e,s,n,a){const i=a==="reset",{iScale:o,vScale:r}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(s,a),u=o.axis,f=r.axis;for(let h=s;h<s+n;h++){const p=e[h],b=!i&&this.getParsed(h),m={},g=m[u]=i?o.getPixelForDecimal(.5):o.getPixelForValue(b[u]),y=m[f]=i?r.getBasePixel():r.getPixelForValue(b[f]);m.skip=isNaN(g)||isNaN(y),c&&(m.options=l||this.resolveDataElementOptions(h,p.active?"active":a),i&&(m.options.radius=0)),this.updateElement(p,h,m,a)}}resolveDataElementOptions(e,s){const n=this.getParsed(e);let a=super.resolveDataElementOptions(e,s);a.$shared&&(a=Object.assign({},a,{$shared:!1}));const i=a.radius;return s!=="active"&&(a.radius=0),a.radius+=Le(n&&n._custom,i),a}}Ae(zo,"id","bubble"),Ae(zo,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),Ae(zo,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function iC(t,e,s){let n=1,a=1,i=0,o=0;if(e<it){const r=t,l=r+e,c=Math.cos(r),u=Math.sin(r),f=Math.cos(l),h=Math.sin(l),p=(k,x,_)=>ji(k,r,l,!0)?1:Math.max(x,x*s,_,_*s),b=(k,x,_)=>ji(k,r,l,!0)?-1:Math.min(x,x*s,_,_*s),m=p(0,c,f),g=p(pt,u,h),y=b(Ke,c,f),C=b(Ke+pt,u,h);n=(m-y)/2,a=(g-C)/2,i=-(m+y)/2,o=-(g+C)/2}return{ratioX:n,ratioY:a,offsetX:i,offsetY:o}}class _n extends ms{constructor(e,s){super(e,s),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,s){const n=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=n;else{let i=l=>+n[l];if(We(n[e])){const{key:l="value"}=this._parsing;i=c=>+Mn(n[c],l)}let o,r;for(o=e,r=e+s;o<r;++o)a._parsed[o]=i(o)}}_getRotation(){return fs(this.options.rotation-90)}_getCircumference(){return fs(this.options.circumference)}_getRotationExtents(){let e=it,s=-it;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const a=this.chart.getDatasetMeta(n).controller,i=a._getRotation(),o=a._getCircumference();e=Math.min(e,i),s=Math.max(s,i+o)}return{rotation:e,circumference:s-e}}update(e){const s=this.chart,{chartArea:n}=s,a=this._cachedMeta,i=a.data,o=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,r=Math.max((Math.min(n.width,n.height)-o)/2,0),l=Math.min(bw(this.options.cutout,r),1),c=this._getRingWeight(this.index),{circumference:u,rotation:f}=this._getRotationExtents(),{ratioX:h,ratioY:p,offsetX:b,offsetY:m}=iC(f,u,l),g=(n.width-o)/h,y=(n.height-o)/p,C=Math.max(Math.min(g,y)/2,0),k=k0(this.options.radius,C),x=Math.max(k*l,0),_=(k-x)/this._getVisibleDatasetWeightTotal();this.offsetX=b*k,this.offsetY=m*k,a.total=this.calculateTotal(),this.outerRadius=k-_*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-_*c,0),this.updateElements(i,0,i.length,e)}_circumference(e,s){const n=this.options,a=this._cachedMeta,i=this._getCircumference();return s&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||a._parsed[e]===null||a.data[e].hidden?0:this.calculateCircumference(a._parsed[e]*i/it)}updateElements(e,s,n,a){const i=a==="reset",o=this.chart,r=o.chartArea,c=o.options.animation,u=(r.left+r.right)/2,f=(r.top+r.bottom)/2,h=i&&c.animateScale,p=h?0:this.innerRadius,b=h?0:this.outerRadius,{sharedOptions:m,includeOptions:g}=this._getSharedOptions(s,a);let y=this._getRotation(),C;for(C=0;C<s;++C)y+=this._circumference(C,i);for(C=s;C<s+n;++C){const k=this._circumference(C,i),x=e[C],_={x:u+this.offsetX,y:f+this.offsetY,startAngle:y,endAngle:y+k,circumference:k,outerRadius:b,innerRadius:p};g&&(_.options=m||this.resolveDataElementOptions(C,x.active?"active":a)),y+=k,this.updateElement(x,C,_,a)}}calculateTotal(){const e=this._cachedMeta,s=e.data;let n=0,a;for(a=0;a<s.length;a++){const i=e._parsed[a];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(a)&&!s[a].hidden&&(n+=Math.abs(i))}return n}calculateCircumference(e){const s=this._cachedMeta.total;return s>0&&!isNaN(e)?it*(Math.abs(e)/s):0}getLabelAndValue(e){const s=this._cachedMeta,n=this.chart,a=n.data.labels||[],i=lo(s._parsed[e],n.options.locale);return{label:a[e]||"",value:i}}getMaxBorderWidth(e){let s=0;const n=this.chart;let a,i,o,r,l;if(!e){for(a=0,i=n.data.datasets.length;a<i;++a)if(n.isDatasetVisible(a)){o=n.getDatasetMeta(a),e=o.data,r=o.controller;break}}if(!e)return 0;for(a=0,i=e.length;a<i;++a)l=r.resolveDataElementOptions(a),l.borderAlign!=="inner"&&(s=Math.max(s,l.borderWidth||0,l.hoverBorderWidth||0));return s}getMaxOffset(e){let s=0;for(let n=0,a=e.length;n<a;++n){const i=this.resolveDataElementOptions(n);s=Math.max(s,i.offset||0,i.hoverOffset||0)}return s}_getRingWeightOffset(e){let s=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(s+=this._getRingWeight(n));return s}_getRingWeight(e){return Math.max(Le(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Ae(_n,"id","doughnut"),Ae(_n,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Ae(_n,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),Ae(_n,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const s=e.data,{labels:{pointStyle:n,textAlign:a,color:i,useBorderRadius:o,borderRadius:r}}=e.legend.options;return s.labels.length&&s.datasets.length?s.labels.map((l,c)=>{const f=e.getDatasetMeta(0).controller.getStyle(c);return{text:l,fillStyle:f.backgroundColor,fontColor:i,hidden:!e.getDataVisibility(c),lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:f.borderWidth,strokeStyle:f.borderColor,textAlign:a,pointStyle:n,borderRadius:o&&(r||f.borderRadius),index:c}}):[]}},onClick(e,s,n){n.chart.toggleDataVisibility(s.index),n.chart.update()}}}});class wi extends ms{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const s=this._cachedMeta,{dataset:n,data:a=[],_dataset:i}=s,o=this.chart._animationsDisabled;let{start:r,count:l}=T0(s,a,o);this._drawStart=r,this._drawCount=l,R0(s)&&(r=0,l=a.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!i._decimated,n.points=a;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(n,void 0,{animated:!o,options:c},e),this.updateElements(a,r,l,e)}updateElements(e,s,n,a){const i=a==="reset",{iScale:o,vScale:r,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:f}=this._getSharedOptions(s,a),h=o.axis,p=r.axis,{spanGaps:b,segment:m}=this.options,g=Ba(b)?b:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||i||a==="none",C=s+n,k=e.length;let x=s>0&&this.getParsed(s-1);for(let _=0;_<k;++_){const T=e[_],E=y?T:{};if(_<s||_>=C){E.skip=!0;continue}const R=this.getParsed(_),I=He(R[p]),P=E[h]=o.getPixelForValue(R[h],_),q=E[p]=i||I?r.getBasePixel():r.getPixelForValue(l?this.applyStack(r,R,l):R[p],_);E.skip=isNaN(P)||isNaN(q)||I,E.stop=_>0&&Math.abs(R[h]-x[h])>g,m&&(E.parsed=R,E.raw=c.data[_]),f&&(E.options=u||this.resolveDataElementOptions(_,T.active?"active":a)),y||this.updateElement(T,_,E,a),x=R}}getMaxOverflow(){const e=this._cachedMeta,s=e.dataset,n=s.options&&s.options.borderWidth||0,a=e.data||[];if(!a.length)return n;const i=a[0].size(this.resolveDataElementOptions(0)),o=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(n,i,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}Ae(wi,"id","line"),Ae(wi,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Ae(wi,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Ci extends ms{constructor(e,s){super(e,s),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const s=this._cachedMeta,n=this.chart,a=n.data.labels||[],i=lo(s._parsed[e].r,n.options.locale);return{label:a[e]||"",value:i}}parseObjectData(e,s,n,a){return B0.bind(this)(e,s,n,a)}update(e){const s=this._cachedMeta.data;this._updateRadius(),this.updateElements(s,0,s.length,e)}getMinMax(){const e=this._cachedMeta,s={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((n,a)=>{const i=this.getParsed(a).r;!isNaN(i)&&this.chart.getDataVisibility(a)&&(i<s.min&&(s.min=i),i>s.max&&(s.max=i))}),s}_updateRadius(){const e=this.chart,s=e.chartArea,n=e.options,a=Math.min(s.right-s.left,s.bottom-s.top),i=Math.max(a/2,0),o=Math.max(n.cutoutPercentage?i/100*n.cutoutPercentage:1,0),r=(i-o)/e.getVisibleDatasetCount();this.outerRadius=i-r*this.index,this.innerRadius=this.outerRadius-r}updateElements(e,s,n,a){const i=a==="reset",o=this.chart,l=o.options.animation,c=this._cachedMeta.rScale,u=c.xCenter,f=c.yCenter,h=c.getIndexAngle(0)-.5*Ke;let p=h,b;const m=360/this.countVisibleElements();for(b=0;b<s;++b)p+=this._computeAngle(b,a,m);for(b=s;b<s+n;b++){const g=e[b];let y=p,C=p+this._computeAngle(b,a,m),k=o.getDataVisibility(b)?c.getDistanceFromCenterForValue(this.getParsed(b).r):0;p=C,i&&(l.animateScale&&(k=0),l.animateRotate&&(y=C=h));const x={x:u,y:f,innerRadius:0,outerRadius:k,startAngle:y,endAngle:C,options:this.resolveDataElementOptions(b,g.active?"active":a)};this.updateElement(g,b,x,a)}}countVisibleElements(){const e=this._cachedMeta;let s=0;return e.data.forEach((n,a)=>{!isNaN(this.getParsed(a).r)&&this.chart.getDataVisibility(a)&&s++}),s}_computeAngle(e,s,n){return this.chart.getDataVisibility(e)?fs(this.resolveDataElementOptions(e,s).angle||n):0}}Ae(Ci,"id","polarArea"),Ae(Ci,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),Ae(Ci,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const s=e.data;if(s.labels.length&&s.datasets.length){const{labels:{pointStyle:n,color:a}}=e.legend.options;return s.labels.map((i,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:i,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:a,lineWidth:l.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,s,n){n.chart.toggleDataVisibility(s.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class bd extends _n{}Ae(bd,"id","pie"),Ae(bd,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Ho extends ms{getLabelAndValue(e){const s=this._cachedMeta.vScale,n=this.getParsed(e);return{label:s.getLabels()[e],value:""+s.getLabelForValue(n[s.axis])}}parseObjectData(e,s,n,a){return B0.bind(this)(e,s,n,a)}update(e){const s=this._cachedMeta,n=s.dataset,a=s.data||[],i=s.iScale.getLabels();if(n.points=a,e!=="resize"){const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);const r={_loop:!0,_fullLoop:i.length===a.length,options:o};this.updateElement(n,void 0,r,e)}this.updateElements(a,0,a.length,e)}updateElements(e,s,n,a){const i=this._cachedMeta.rScale,o=a==="reset";for(let r=s;r<s+n;r++){const l=e[r],c=this.resolveDataElementOptions(r,l.active?"active":a),u=i.getPointPositionForValue(r,this.getParsed(r).r),f=o?i.xCenter:u.x,h=o?i.yCenter:u.y,p={x:f,y:h,angle:u.angle,skip:isNaN(f)||isNaN(h),options:c};this.updateElement(l,r,p,a)}}}Ae(Ho,"id","radar"),Ae(Ho,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),Ae(Ho,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Wo extends ms{getLabelAndValue(e){const s=this._cachedMeta,n=this.chart.data.labels||[],{xScale:a,yScale:i}=s,o=this.getParsed(e),r=a.getLabelForValue(o.x),l=i.getLabelForValue(o.y);return{label:n[e]||"",value:"("+r+", "+l+")"}}update(e){const s=this._cachedMeta,{data:n=[]}=s,a=this.chart._animationsDisabled;let{start:i,count:o}=T0(s,n,a);if(this._drawStart=i,this._drawCount=o,R0(s)&&(i=0,o=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:r,_dataset:l}=s;r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!l._decimated,r.points=n;const c=this.resolveDatasetElementOptions(e);c.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:c},e)}else this.datasetElementType&&(delete s.dataset,this.datasetElementType=!1);this.updateElements(n,i,o,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,s,n,a){const i=a==="reset",{iScale:o,vScale:r,_stacked:l,_dataset:c}=this._cachedMeta,u=this.resolveDataElementOptions(s,a),f=this.getSharedOptions(u),h=this.includeOptions(a,f),p=o.axis,b=r.axis,{spanGaps:m,segment:g}=this.options,y=Ba(m)?m:Number.POSITIVE_INFINITY,C=this.chart._animationsDisabled||i||a==="none";let k=s>0&&this.getParsed(s-1);for(let x=s;x<s+n;++x){const _=e[x],T=this.getParsed(x),E=C?_:{},R=He(T[b]),I=E[p]=o.getPixelForValue(T[p],x),P=E[b]=i||R?r.getBasePixel():r.getPixelForValue(l?this.applyStack(r,T,l):T[b],x);E.skip=isNaN(I)||isNaN(P)||R,E.stop=x>0&&Math.abs(T[p]-k[p])>y,g&&(E.parsed=T,E.raw=c.data[x]),h&&(E.options=f||this.resolveDataElementOptions(x,_.active?"active":a)),C||this.updateElement(_,x,E,a),k=T}this.updateSharedOptions(f,a,u)}getMaxOverflow(){const e=this._cachedMeta,s=e.data||[];if(!this.options.showLine){let r=0;for(let l=s.length-1;l>=0;--l)r=Math.max(r,s[l].size(this.resolveDataElementOptions(l))/2);return r>0&&r}const n=e.dataset,a=n.options&&n.options.borderWidth||0;if(!s.length)return a;const i=s[0].size(this.resolveDataElementOptions(0)),o=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(a,i,o)/2}}Ae(Wo,"id","scatter"),Ae(Wo,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),Ae(Wo,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var oC=Object.freeze({__proto__:null,BarController:ki,BubbleController:zo,DoughnutController:_n,LineController:wi,PieController:bd,PolarAreaController:Ci,RadarController:Ho,ScatterController:Wo});function Un(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Cc{constructor(e){Ae(this,"options");this.options=e||{}}static override(e){Object.assign(Cc.prototype,e)}init(){}formats(){return Un()}parse(){return Un()}format(){return Un()}add(){return Un()}diff(){return Un()}startOf(){return Un()}endOf(){return Un()}}var rC={_date:Cc};function lC(t,e,s,n){const{controller:a,data:i,_sorted:o}=t,r=a._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(r&&e===r.axis&&e!=="r"&&o&&i.length){const c=r._reversePixels?Tw:Ys;if(n){if(a._sharedOptions){const u=i[0],f=typeof u.getRange=="function"&&u.getRange(e);if(f){const h=c(i,e,s-f),p=c(i,e,s+f);return{lo:h.lo,hi:p.hi}}}}else{const u=c(i,e,s);if(l){const{vScale:f}=a._cachedMeta,{_parsed:h}=t,p=h.slice(0,u.lo+1).reverse().findIndex(m=>!He(m[f.axis]));u.lo-=Math.max(0,p);const b=h.slice(u.hi).findIndex(m=>!He(m[f.axis]));u.hi+=Math.max(0,b)}return u}}return{lo:0,hi:i.length-1}}function Wr(t,e,s,n,a){const i=t.getSortedVisibleDatasetMetas(),o=s[e];for(let r=0,l=i.length;r<l;++r){const{index:c,data:u}=i[r],{lo:f,hi:h}=lC(i[r],e,o,a);for(let p=f;p<=h;++p){const b=u[p];b.skip||n(b,c,p)}}}function dC(t){const e=t.indexOf("x")!==-1,s=t.indexOf("y")!==-1;return function(n,a){const i=e?Math.abs(n.x-a.x):0,o=s?Math.abs(n.y-a.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function Tl(t,e,s,n,a){const i=[];return!a&&!t.isPointInArea(e)||Wr(t,s,e,function(r,l,c){!a&&!Js(r,t.chartArea,0)||r.inRange(e.x,e.y,n)&&i.push({element:r,datasetIndex:l,index:c})},!0),i}function cC(t,e,s,n){let a=[];function i(o,r,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],n),{angle:f}=S0(o,{x:e.x,y:e.y});ji(f,c,u)&&a.push({element:o,datasetIndex:r,index:l})}return Wr(t,s,e,i),a}function uC(t,e,s,n,a,i){let o=[];const r=dC(s);let l=Number.POSITIVE_INFINITY;function c(u,f,h){const p=u.inRange(e.x,e.y,a);if(n&&!p)return;const b=u.getCenterPoint(a);if(!(!!i||t.isPointInArea(b))&&!p)return;const g=r(e,b);g<l?(o=[{element:u,datasetIndex:f,index:h}],l=g):g===l&&o.push({element:u,datasetIndex:f,index:h})}return Wr(t,s,e,c),o}function Rl(t,e,s,n,a,i){return!i&&!t.isPointInArea(e)?[]:s==="r"&&!n?cC(t,e,s,a):uC(t,e,s,n,a,i)}function Hf(t,e,s,n,a){const i=[],o=s==="x"?"inXRange":"inYRange";let r=!1;return Wr(t,s,e,(l,c,u)=>{l[o]&&l[o](e[s],a)&&(i.push({element:l,datasetIndex:c,index:u}),r=r||l.inRange(e.x,e.y,a))}),n&&!r?[]:i}var fC={modes:{index(t,e,s,n){const a=Wn(e,t),i=s.axis||"x",o=s.includeInvisible||!1,r=s.intersect?Tl(t,a,i,n,o):Rl(t,a,i,!1,n,o),l=[];return r.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=r[0].index,f=c.data[u];f&&!f.skip&&l.push({element:f,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,s,n){const a=Wn(e,t),i=s.axis||"xy",o=s.includeInvisible||!1;let r=s.intersect?Tl(t,a,i,n,o):Rl(t,a,i,!1,n,o);if(r.length>0){const l=r[0].datasetIndex,c=t.getDatasetMeta(l).data;r=[];for(let u=0;u<c.length;++u)r.push({element:c[u],datasetIndex:l,index:u})}return r},point(t,e,s,n){const a=Wn(e,t),i=s.axis||"xy",o=s.includeInvisible||!1;return Tl(t,a,i,n,o)},nearest(t,e,s,n){const a=Wn(e,t),i=s.axis||"xy",o=s.includeInvisible||!1;return Rl(t,a,i,s.intersect,n,o)},x(t,e,s,n){const a=Wn(e,t);return Hf(t,a,"x",s.intersect,n)},y(t,e,s,n){const a=Wn(e,t);return Hf(t,a,"y",s.intersect,n)}}};const J0=["left","top","right","bottom"];function Qa(t,e){return t.filter(s=>s.pos===e)}function Wf(t,e){return t.filter(s=>J0.indexOf(s.pos)===-1&&s.box.axis===e)}function Za(t,e){return t.sort((s,n)=>{const a=e?n:s,i=e?s:n;return a.weight===i.weight?a.index-i.index:a.weight-i.weight})}function hC(t){const e=[];let s,n,a,i,o,r;for(s=0,n=(t||[]).length;s<n;++s)a=t[s],{position:i,options:{stack:o,stackWeight:r=1}}=a,e.push({index:s,box:a,pos:i,horizontal:a.isHorizontal(),weight:a.weight,stack:o&&i+o,stackWeight:r});return e}function pC(t){const e={};for(const s of t){const{stack:n,pos:a,stackWeight:i}=s;if(!n||!J0.includes(a))continue;const o=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return e}function gC(t,e){const s=pC(t),{vBoxMaxWidth:n,hBoxMaxHeight:a}=e;let i,o,r;for(i=0,o=t.length;i<o;++i){r=t[i];const{fullSize:l}=r.box,c=s[r.stack],u=c&&r.stackWeight/c.weight;r.horizontal?(r.width=u?u*n:l&&e.availableWidth,r.height=a):(r.width=n,r.height=u?u*a:l&&e.availableHeight)}return s}function mC(t){const e=hC(t),s=Za(e.filter(c=>c.box.fullSize),!0),n=Za(Qa(e,"left"),!0),a=Za(Qa(e,"right")),i=Za(Qa(e,"top"),!0),o=Za(Qa(e,"bottom")),r=Wf(e,"x"),l=Wf(e,"y");return{fullSize:s,leftAndTop:n.concat(i),rightAndBottom:a.concat(l).concat(o).concat(r),chartArea:Qa(e,"chartArea"),vertical:n.concat(a).concat(l),horizontal:i.concat(o).concat(r)}}function qf(t,e,s,n){return Math.max(t[s],e[s])+Math.max(t[n],e[n])}function X0(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function bC(t,e,s,n){const{pos:a,box:i}=s,o=t.maxPadding;if(!We(a)){s.size&&(t[a]-=s.size);const f=n[s.stack]||{size:0,count:1};f.size=Math.max(f.size,s.horizontal?i.height:i.width),s.size=f.size/f.count,t[a]+=s.size}i.getPadding&&X0(o,i.getPadding());const r=Math.max(0,e.outerWidth-qf(o,t,"left","right")),l=Math.max(0,e.outerHeight-qf(o,t,"top","bottom")),c=r!==t.w,u=l!==t.h;return t.w=r,t.h=l,s.horizontal?{same:c,other:u}:{same:u,other:c}}function vC(t){const e=t.maxPadding;function s(n){const a=Math.max(e[n]-t[n],0);return t[n]+=a,a}t.y+=s("top"),t.x+=s("left"),s("right"),s("bottom")}function yC(t,e){const s=e.maxPadding;function n(a){const i={left:0,top:0,right:0,bottom:0};return a.forEach(o=>{i[o]=Math.max(e[o],s[o])}),i}return n(t?["left","right"]:["top","bottom"])}function oi(t,e,s,n){const a=[];let i,o,r,l,c,u;for(i=0,o=t.length,c=0;i<o;++i){r=t[i],l=r.box,l.update(r.width||e.w,r.height||e.h,yC(r.horizontal,e));const{same:f,other:h}=bC(e,s,r,n);c|=f&&a.length,u=u||h,l.fullSize||a.push(r)}return c&&oi(a,e,s,n)||u}function So(t,e,s,n,a){t.top=s,t.left=e,t.right=e+n,t.bottom=s+a,t.width=n,t.height=a}function Gf(t,e,s,n){const a=s.padding;let{x:i,y:o}=e;for(const r of t){const l=r.box,c=n[r.stack]||{placed:0,weight:1},u=r.stackWeight/c.weight||1;if(r.horizontal){const f=e.w*u,h=c.size||l.height;Vi(c.start)&&(o=c.start),l.fullSize?So(l,a.left,o,s.outerWidth-a.right-a.left,h):So(l,e.left+c.placed,o,f,h),c.start=o,c.placed+=f,o=l.bottom}else{const f=e.h*u,h=c.size||l.width;Vi(c.start)&&(i=c.start),l.fullSize?So(l,i,a.top,h,s.outerHeight-a.bottom-a.top):So(l,i,e.top+c.placed,h,f),c.start=i,c.placed+=f,i=l.right}}e.x=i,e.y=o}var Dt={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(s){e.draw(s)}}]},t.boxes.push(e)},removeBox(t,e){const s=t.boxes?t.boxes.indexOf(e):-1;s!==-1&&t.boxes.splice(s,1)},configure(t,e,s){e.fullSize=s.fullSize,e.position=s.position,e.weight=s.weight},update(t,e,s,n){if(!t)return;const a=Nt(t.options.layout.padding),i=Math.max(e-a.width,0),o=Math.max(s-a.height,0),r=mC(t.boxes),l=r.vertical,c=r.horizontal;Qe(t.boxes,m=>{typeof m.beforeLayout=="function"&&m.beforeLayout()});const u=l.reduce((m,g)=>g.box.options&&g.box.options.display===!1?m:m+1,0)||1,f=Object.freeze({outerWidth:e,outerHeight:s,padding:a,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/u,hBoxMaxHeight:o/2}),h=Object.assign({},a);X0(h,Nt(n));const p=Object.assign({maxPadding:h,w:i,h:o,x:a.left,y:a.top},a),b=gC(l.concat(c),f);oi(r.fullSize,p,f,b),oi(l,p,f,b),oi(c,p,f,b)&&oi(l,p,f,b),vC(p),Gf(r.leftAndTop,p,f,b),p.x+=p.w,p.y+=p.h,Gf(r.rightAndBottom,p,f,b),t.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},Qe(r.chartArea,m=>{const g=m.box;Object.assign(g,t.chartArea),g.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class Q0{acquireContext(e,s){}releaseContext(e){return!1}addEventListener(e,s,n){}removeEventListener(e,s,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,s,n,a){return s=Math.max(0,s||e.width),n=n||e.height,{width:s,height:Math.max(0,a?Math.floor(s/a):n)}}isAttached(e){return!0}updateConfig(e){}}class xC extends Q0{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const qo="$chartjs",_C={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Kf=t=>t===null||t==="";function kC(t,e){const s=t.style,n=t.getAttribute("height"),a=t.getAttribute("width");if(t[qo]={initial:{height:n,width:a,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",Kf(a)){const i=Rf(t,"width");i!==void 0&&(t.width=i)}if(Kf(n))if(t.style.height==="")t.height=t.width/(e||2);else{const i=Rf(t,"height");i!==void 0&&(t.height=i)}return t}const Z0=w4?{passive:!0}:!1;function wC(t,e,s){t&&t.addEventListener(e,s,Z0)}function CC(t,e,s){t&&t.canvas&&t.canvas.removeEventListener(e,s,Z0)}function SC(t,e){const s=_C[t.type]||t.type,{x:n,y:a}=Wn(t,e);return{type:s,chart:e,native:t,x:n!==void 0?n:null,y:a!==void 0?a:null}}function hr(t,e){for(const s of t)if(s===e||s.contains(e))return!0}function AC(t,e,s){const n=t.canvas,a=new MutationObserver(i=>{let o=!1;for(const r of i)o=o||hr(r.addedNodes,n),o=o&&!hr(r.removedNodes,n);o&&s()});return a.observe(document,{childList:!0,subtree:!0}),a}function EC(t,e,s){const n=t.canvas,a=new MutationObserver(i=>{let o=!1;for(const r of i)o=o||hr(r.removedNodes,n),o=o&&!hr(r.addedNodes,n);o&&s()});return a.observe(document,{childList:!0,subtree:!0}),a}const zi=new Map;let Yf=0;function em(){const t=window.devicePixelRatio;t!==Yf&&(Yf=t,zi.forEach((e,s)=>{s.currentDevicePixelRatio!==t&&e()}))}function $C(t,e){zi.size||window.addEventListener("resize",em),zi.set(t,e)}function MC(t){zi.delete(t),zi.size||window.removeEventListener("resize",em)}function TC(t,e,s){const n=t.canvas,a=n&&wc(n);if(!a)return;const i=M0((r,l)=>{const c=a.clientWidth;s(r,l),c<a.clientWidth&&s()},window),o=new ResizeObserver(r=>{const l=r[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||i(c,u)});return o.observe(a),$C(t,i),o}function Dl(t,e,s){s&&s.disconnect(),e==="resize"&&MC(t)}function RC(t,e,s){const n=t.canvas,a=M0(i=>{t.ctx!==null&&s(SC(i,t))},t);return wC(n,e,a),a}class DC extends Q0{acquireContext(e,s){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(kC(e,s),n):null}releaseContext(e){const s=e.canvas;if(!s[qo])return!1;const n=s[qo].initial;["height","width"].forEach(i=>{const o=n[i];He(o)?s.removeAttribute(i):s.setAttribute(i,o)});const a=n.style||{};return Object.keys(a).forEach(i=>{s.style[i]=a[i]}),s.width=s.width,delete s[qo],!0}addEventListener(e,s,n){this.removeEventListener(e,s);const a=e.$proxies||(e.$proxies={}),o={attach:AC,detach:EC,resize:TC}[s]||RC;a[s]=o(e,s,n)}removeEventListener(e,s){const n=e.$proxies||(e.$proxies={}),a=n[s];if(!a)return;({attach:Dl,detach:Dl,resize:Dl}[s]||CC)(e,s,a),n[s]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,s,n,a){return k4(e,s,n,a)}isAttached(e){const s=e&&wc(e);return!!(s&&s.isConnected)}}function PC(t){return!kc()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?xC:DC}var Do;let an=(Do=class{constructor(){Ae(this,"x");Ae(this,"y");Ae(this,"active",!1);Ae(this,"options");Ae(this,"$animations")}tooltipPosition(e){const{x:s,y:n}=this.getProps(["x","y"],e);return{x:s,y:n}}hasValue(){return Ba(this.x)&&Ba(this.y)}getProps(e,s){const n=this.$animations;if(!s||!n)return this;const a={};return e.forEach(i=>{a[i]=n[i]&&n[i].active()?n[i]._to:this[i]}),a}},Ae(Do,"defaults",{}),Ae(Do,"defaultRoutes"),Do);function OC(t,e){const s=t.options.ticks,n=NC(t),a=Math.min(s.maxTicksLimit||n,n),i=s.major.enabled?LC(e):[],o=i.length,r=i[0],l=i[o-1],c=[];if(o>a)return FC(e,c,i,o/a),c;const u=IC(i,e,a);if(o>0){let f,h;const p=o>1?Math.round((l-r)/(o-1)):null;for(Ao(e,c,u,He(p)?0:r-p,r),f=0,h=o-1;f<h;f++)Ao(e,c,u,i[f],i[f+1]);return Ao(e,c,u,l,He(p)?e.length:l+p),c}return Ao(e,c,u),c}function NC(t){const e=t.options.offset,s=t._tickSize(),n=t._length/s+(e?0:1),a=t._maxLength/s;return Math.floor(Math.min(n,a))}function IC(t,e,s){const n=BC(t),a=e.length/s;if(!n)return Math.max(a,1);const i=Sw(n);for(let o=0,r=i.length-1;o<r;o++){const l=i[o];if(l>a)return l}return Math.max(a,1)}function LC(t){const e=[];let s,n;for(s=0,n=t.length;s<n;s++)t[s].major&&e.push(s);return e}function FC(t,e,s,n){let a=0,i=s[0],o;for(n=Math.ceil(n),o=0;o<t.length;o++)o===i&&(e.push(t[o]),a++,i=s[a*n])}function Ao(t,e,s,n,a){const i=Le(n,0),o=Math.min(Le(a,t.length),t.length);let r=0,l,c,u;for(s=Math.ceil(s),a&&(l=a-n,s=l/Math.floor(l/s)),u=i;u<0;)r++,u=Math.round(i+r*s);for(c=Math.max(i,0);c<o;c++)c===u&&(e.push(t[c]),r++,u=Math.round(i+r*s))}function BC(t){const e=t.length;let s,n;if(e<2)return!1;for(n=t[0],s=1;s<e;++s)if(t[s]-t[s-1]!==n)return!1;return n}const VC=t=>t==="left"?"right":t==="right"?"left":t,Jf=(t,e,s)=>e==="top"||e==="left"?t[e]+s:t[e]-s,Xf=(t,e)=>Math.min(e||t,t);function Qf(t,e){const s=[],n=t.length/e,a=t.length;let i=0;for(;i<a;i+=n)s.push(t[Math.floor(i)]);return s}function jC(t,e,s){const n=t.ticks.length,a=Math.min(e,n-1),i=t._startPixel,o=t._endPixel,r=1e-6;let l=t.getPixelForTick(a),c;if(!(s&&(n===1?c=Math.max(l-i,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(a-1))/2,l+=a<e?c:-c,l<i-r||l>o+r)))return l}function UC(t,e){Qe(t,s=>{const n=s.gc,a=n.length/2;let i;if(a>e){for(i=0;i<a;++i)delete s.data[n[i]];n.splice(0,a)}})}function ei(t){return t.drawTicks?t.tickLength:0}function Zf(t,e){if(!t.display)return 0;const s=xt(t.font,e),n=Nt(t.padding);return(ot(t.text)?t.text.length:1)*s.lineHeight+n.height}function zC(t,e){return Pn(t,{scale:e,type:"scale"})}function HC(t,e,s){return Pn(t,{tick:s,index:e,type:"tick"})}function WC(t,e,s){let n=mc(t);return(s&&e!=="right"||!s&&e==="right")&&(n=VC(n)),n}function qC(t,e,s,n){const{top:a,left:i,bottom:o,right:r,chart:l}=t,{chartArea:c,scales:u}=l;let f=0,h,p,b;const m=o-a,g=r-i;if(t.isHorizontal()){if(p=St(n,i,r),We(s)){const y=Object.keys(s)[0],C=s[y];b=u[y].getPixelForValue(C)+m-e}else s==="center"?b=(c.bottom+c.top)/2+m-e:b=Jf(t,s,e);h=r-i}else{if(We(s)){const y=Object.keys(s)[0],C=s[y];p=u[y].getPixelForValue(C)-g+e}else s==="center"?p=(c.left+c.right)/2-g+e:p=Jf(t,s,e);b=St(n,o,a),f=s==="left"?-pt:pt}return{titleX:p,titleY:b,maxWidth:h,rotation:f}}class ua extends an{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,s){return e}getUserBounds(){let{_userMin:e,_userMax:s,_suggestedMin:n,_suggestedMax:a}=this;return e=Qt(e,Number.POSITIVE_INFINITY),s=Qt(s,Number.NEGATIVE_INFINITY),n=Qt(n,Number.POSITIVE_INFINITY),a=Qt(a,Number.NEGATIVE_INFINITY),{min:Qt(e,n),max:Qt(s,a),minDefined:ut(e),maxDefined:ut(s)}}getMinMax(e){let{min:s,max:n,minDefined:a,maxDefined:i}=this.getUserBounds(),o;if(a&&i)return{min:s,max:n};const r=this.getMatchingVisibleMetas();for(let l=0,c=r.length;l<c;++l)o=r[l].controller.getMinMax(this,e),a||(s=Math.min(s,o.min)),i||(n=Math.max(n,o.max));return s=i&&s>n?n:s,n=a&&s>n?s:n,{min:Qt(s,Qt(n,s)),max:Qt(n,Qt(s,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){nt(this.options.beforeUpdate,[this])}update(e,s,n){const{beginAtZero:a,grace:i,ticks:o}=this.options,r=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=s,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=e4(this,i,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=r<this.ticks.length;this._convertTicksToLabels(l?Qf(this.ticks,r):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=OC(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,s,n;this.isHorizontal()?(s=this.left,n=this.right):(s=this.top,n=this.bottom,e=!e),this._startPixel=s,this._endPixel=n,this._reversePixels=e,this._length=n-s,this._alignToPixels=this.options.alignToPixels}afterUpdate(){nt(this.options.afterUpdate,[this])}beforeSetDimensions(){nt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){nt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),nt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){nt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const s=this.options.ticks;let n,a,i;for(n=0,a=e.length;n<a;n++)i=e[n],i.label=nt(s.callback,[i.value,n,e],this)}afterTickToLabelConversion(){nt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){nt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,s=e.ticks,n=Xf(this.ticks.length,e.ticks.maxTicksLimit),a=s.minRotation||0,i=s.maxRotation;let o=a,r,l,c;if(!this._isVisible()||!s.display||a>=i||n<=1||!this.isHorizontal()){this.labelRotation=a;return}const u=this._getLabelSizes(),f=u.widest.width,h=u.highest.height,p=kt(this.chart.width-f,0,this.maxWidth);r=e.offset?this.maxWidth/n:p/(n-1),f+6>r&&(r=p/(n-(e.offset?.5:1)),l=this.maxHeight-ei(e.grid)-s.padding-Zf(e.title,this.chart.options.font),c=Math.sqrt(f*f+h*h),o=pc(Math.min(Math.asin(kt((u.highest.height+6)/r,-1,1)),Math.asin(kt(l/c,-1,1))-Math.asin(kt(h/c,-1,1)))),o=Math.max(a,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){nt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){nt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:s,options:{ticks:n,title:a,grid:i}}=this,o=this._isVisible(),r=this.isHorizontal();if(o){const l=Zf(a,s.options.font);if(r?(e.width=this.maxWidth,e.height=ei(i)+l):(e.height=this.maxHeight,e.width=ei(i)+l),n.display&&this.ticks.length){const{first:c,last:u,widest:f,highest:h}=this._getLabelSizes(),p=n.padding*2,b=fs(this.labelRotation),m=Math.cos(b),g=Math.sin(b);if(r){const y=n.mirror?0:g*f.width+m*h.height;e.height=Math.min(this.maxHeight,e.height+y+p)}else{const y=n.mirror?0:m*f.width+g*h.height;e.width=Math.min(this.maxWidth,e.width+y+p)}this._calculatePadding(c,u,g,m)}}this._handleMargins(),r?(this.width=this._length=s.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=s.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,s,n,a){const{ticks:{align:i,padding:o},position:r}=this.options,l=this.labelRotation!==0,c=r!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,p=0;l?c?(h=a*e.width,p=n*s.height):(h=n*e.height,p=a*s.width):i==="start"?p=s.width:i==="end"?h=e.width:i!=="inner"&&(h=e.width/2,p=s.width/2),this.paddingLeft=Math.max((h-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((p-f+o)*this.width/(this.width-f),0)}else{let u=s.height/2,f=e.height/2;i==="start"?(u=0,f=e.height):i==="end"&&(u=s.height,f=0),this.paddingTop=u+o,this.paddingBottom=f+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){nt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:s}=this.options;return s==="top"||s==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let s,n;for(s=0,n=e.length;s<n;s++)He(e[s].label)&&(e.splice(s,1),n--,s--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const s=this.options.ticks.sampleSize;let n=this.ticks;s<n.length&&(n=Qf(n,s)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,s,n){const{ctx:a,_longestTextCache:i}=this,o=[],r=[],l=Math.floor(s/Xf(s,n));let c=0,u=0,f,h,p,b,m,g,y,C,k,x,_;for(f=0;f<s;f+=l){if(b=e[f].label,m=this._resolveTickFontOptions(f),a.font=g=m.string,y=i[g]=i[g]||{data:{},gc:[]},C=m.lineHeight,k=x=0,!He(b)&&!ot(b))k=ur(a,y.data,y.gc,k,b),x=C;else if(ot(b))for(h=0,p=b.length;h<p;++h)_=b[h],!He(_)&&!ot(_)&&(k=ur(a,y.data,y.gc,k,_),x+=C);o.push(k),r.push(x),c=Math.max(k,c),u=Math.max(x,u)}UC(i,s);const T=o.indexOf(c),E=r.indexOf(u),R=I=>({width:o[I]||0,height:r[I]||0});return{first:R(0),last:R(s-1),widest:R(T),highest:R(E),widths:o,heights:r}}getLabelForValue(e){return e}getPixelForValue(e,s){return NaN}getValueForPixel(e){}getPixelForTick(e){const s=this.ticks;return e<0||e>s.length-1?null:this.getPixelForValue(s[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const s=this._startPixel+e*this._length;return Mw(this._alignToPixels?jn(this.chart,s,0):s)}getDecimalForPixel(e){const s=(e-this._startPixel)/this._length;return this._reversePixels?1-s:s}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:s}=this;return e<0&&s<0?s:e>0&&s>0?e:0}getContext(e){const s=this.ticks||[];if(e>=0&&e<s.length){const n=s[e];return n.$context||(n.$context=HC(this.getContext(),e,n))}return this.$context||(this.$context=zC(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,s=fs(this.labelRotation),n=Math.abs(Math.cos(s)),a=Math.abs(Math.sin(s)),i=this._getLabelSizes(),o=e.autoSkipPadding||0,r=i?i.widest.width+o:0,l=i?i.highest.height+o:0;return this.isHorizontal()?l*n>r*a?r/n:l/a:l*a<r*n?l/n:r/a}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const s=this.axis,n=this.chart,a=this.options,{grid:i,position:o,border:r}=a,l=i.offset,c=this.isHorizontal(),f=this.ticks.length+(l?1:0),h=ei(i),p=[],b=r.setContext(this.getContext()),m=b.display?b.width:0,g=m/2,y=function(K){return jn(n,K,m)};let C,k,x,_,T,E,R,I,P,q,J,U;if(o==="top")C=y(this.bottom),E=this.bottom-h,I=C-g,q=y(e.top)+g,U=e.bottom;else if(o==="bottom")C=y(this.top),q=e.top,U=y(e.bottom)-g,E=C+g,I=this.top+h;else if(o==="left")C=y(this.right),T=this.right-h,R=C-g,P=y(e.left)+g,J=e.right;else if(o==="right")C=y(this.left),P=e.left,J=y(e.right)-g,T=C+g,R=this.left+h;else if(s==="x"){if(o==="center")C=y((e.top+e.bottom)/2+.5);else if(We(o)){const K=Object.keys(o)[0],M=o[K];C=y(this.chart.scales[K].getPixelForValue(M))}q=e.top,U=e.bottom,E=C+g,I=E+h}else if(s==="y"){if(o==="center")C=y((e.left+e.right)/2);else if(We(o)){const K=Object.keys(o)[0],M=o[K];C=y(this.chart.scales[K].getPixelForValue(M))}T=C-g,R=T-h,P=e.left,J=e.right}const V=Le(a.ticks.maxTicksLimit,f),ee=Math.max(1,Math.ceil(f/V));for(k=0;k<f;k+=ee){const K=this.getContext(k),M=i.setContext(K),H=r.setContext(K),se=M.lineWidth,xe=M.color,ge=H.dash||[],G=H.dashOffset,z=M.tickWidth,ae=M.tickColor,te=M.tickBorderDash||[],j=M.tickBorderDashOffset;x=jC(this,k,l),x!==void 0&&(_=jn(n,x,se),c?T=R=P=J=_:E=I=q=U=_,p.push({tx1:T,ty1:E,tx2:R,ty2:I,x1:P,y1:q,x2:J,y2:U,width:se,color:xe,borderDash:ge,borderDashOffset:G,tickWidth:z,tickColor:ae,tickBorderDash:te,tickBorderDashOffset:j}))}return this._ticksLength=f,this._borderValue=C,p}_computeLabelItems(e){const s=this.axis,n=this.options,{position:a,ticks:i}=n,o=this.isHorizontal(),r=this.ticks,{align:l,crossAlign:c,padding:u,mirror:f}=i,h=ei(n.grid),p=h+u,b=f?-u:p,m=-fs(this.labelRotation),g=[];let y,C,k,x,_,T,E,R,I,P,q,J,U="middle";if(a==="top")T=this.bottom-b,E=this._getXAxisLabelAlignment();else if(a==="bottom")T=this.top+b,E=this._getXAxisLabelAlignment();else if(a==="left"){const ee=this._getYAxisLabelAlignment(h);E=ee.textAlign,_=ee.x}else if(a==="right"){const ee=this._getYAxisLabelAlignment(h);E=ee.textAlign,_=ee.x}else if(s==="x"){if(a==="center")T=(e.top+e.bottom)/2+p;else if(We(a)){const ee=Object.keys(a)[0],K=a[ee];T=this.chart.scales[ee].getPixelForValue(K)+p}E=this._getXAxisLabelAlignment()}else if(s==="y"){if(a==="center")_=(e.left+e.right)/2-p;else if(We(a)){const ee=Object.keys(a)[0],K=a[ee];_=this.chart.scales[ee].getPixelForValue(K)}E=this._getYAxisLabelAlignment(h).textAlign}s==="y"&&(l==="start"?U="top":l==="end"&&(U="bottom"));const V=this._getLabelSizes();for(y=0,C=r.length;y<C;++y){k=r[y],x=k.label;const ee=i.setContext(this.getContext(y));R=this.getPixelForTick(y)+i.labelOffset,I=this._resolveTickFontOptions(y),P=I.lineHeight,q=ot(x)?x.length:1;const K=q/2,M=ee.color,H=ee.textStrokeColor,se=ee.textStrokeWidth;let xe=E;o?(_=R,E==="inner"&&(y===C-1?xe=this.options.reverse?"left":"right":y===0?xe=this.options.reverse?"right":"left":xe="center"),a==="top"?c==="near"||m!==0?J=-q*P+P/2:c==="center"?J=-V.highest.height/2-K*P+P:J=-V.highest.height+P/2:c==="near"||m!==0?J=P/2:c==="center"?J=V.highest.height/2-K*P:J=V.highest.height-q*P,f&&(J*=-1),m!==0&&!ee.showLabelBackdrop&&(_+=P/2*Math.sin(m))):(T=R,J=(1-q)*P/2);let ge;if(ee.showLabelBackdrop){const G=Nt(ee.backdropPadding),z=V.heights[y],ae=V.widths[y];let te=J-G.top,j=0-G.left;switch(U){case"middle":te-=z/2;break;case"bottom":te-=z;break}switch(E){case"center":j-=ae/2;break;case"right":j-=ae;break;case"inner":y===C-1?j-=ae:y>0&&(j-=ae/2);break}ge={left:j,top:te,width:ae+G.width,height:z+G.height,color:ee.backdropColor}}g.push({label:x,font:I,textOffset:J,options:{rotation:m,color:M,strokeColor:H,strokeWidth:se,textAlign:xe,textBaseline:U,translation:[_,T],backdrop:ge}})}return g}_getXAxisLabelAlignment(){const{position:e,ticks:s}=this.options;if(-fs(this.labelRotation))return e==="top"?"left":"right";let a="center";return s.align==="start"?a="left":s.align==="end"?a="right":s.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(e){const{position:s,ticks:{crossAlign:n,mirror:a,padding:i}}=this.options,o=this._getLabelSizes(),r=e+i,l=o.widest.width;let c,u;return s==="left"?a?(u=this.right+i,n==="near"?c="left":n==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-r,n==="near"?c="right":n==="center"?(c="center",u-=l/2):(c="left",u=this.left)):s==="right"?a?(u=this.left+i,n==="near"?c="right":n==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+r,n==="near"?c="left":n==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,s=this.options.position;if(s==="left"||s==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(s==="top"||s==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:s},left:n,top:a,width:i,height:o}=this;s&&(e.save(),e.fillStyle=s,e.fillRect(n,a,i,o),e.restore())}getLineWidthForValue(e){const s=this.options.grid;if(!this._isVisible()||!s.display)return 0;const a=this.ticks.findIndex(i=>i.value===e);return a>=0?s.setContext(this.getContext(a)).lineWidth:0}drawGrid(e){const s=this.options.grid,n=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,o;const r=(l,c,u)=>{!u.width||!u.color||(n.save(),n.lineWidth=u.width,n.strokeStyle=u.color,n.setLineDash(u.borderDash||[]),n.lineDashOffset=u.borderDashOffset,n.beginPath(),n.moveTo(l.x,l.y),n.lineTo(c.x,c.y),n.stroke(),n.restore())};if(s.display)for(i=0,o=a.length;i<o;++i){const l=a[i];s.drawOnChartArea&&r({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),s.drawTicks&&r({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:s,options:{border:n,grid:a}}=this,i=n.setContext(this.getContext()),o=n.display?i.width:0;if(!o)return;const r=a.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,f,h;this.isHorizontal()?(c=jn(e,this.left,o)-o/2,u=jn(e,this.right,r)+r/2,f=h=l):(f=jn(e,this.top,o)-o/2,h=jn(e,this.bottom,r)+r/2,c=u=l),s.save(),s.lineWidth=i.width,s.strokeStyle=i.color,s.beginPath(),s.moveTo(c,f),s.lineTo(u,h),s.stroke(),s.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,a=this._computeLabelArea();a&&Ur(n,a);const i=this.getLabelItems(e);for(const o of i){const r=o.options,l=o.font,c=o.label,u=o.textOffset;oa(n,c,0,u,l,r)}a&&zr(n)}drawTitle(){const{ctx:e,options:{position:s,title:n,reverse:a}}=this;if(!n.display)return;const i=xt(n.font),o=Nt(n.padding),r=n.align;let l=i.lineHeight/2;s==="bottom"||s==="center"||We(s)?(l+=o.bottom,ot(n.text)&&(l+=i.lineHeight*(n.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:f,rotation:h}=qC(this,l,s,r);oa(e,n.text,0,0,i,{color:n.color,maxWidth:f,rotation:h,textAlign:WC(r,s,a),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,s=e.ticks&&e.ticks.z||0,n=Le(e.grid&&e.grid.z,-1),a=Le(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==ua.prototype.draw?[{z:s,draw:i=>{this.draw(i)}}]:[{z:n,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:s,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const s=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",a=[];let i,o;for(i=0,o=s.length;i<o;++i){const r=s[i];r[n]===this.id&&(!e||r.type===e)&&a.push(r)}return a}_resolveTickFontOptions(e){const s=this.options.ticks.setContext(this.getContext(e));return xt(s.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Eo{constructor(e,s,n){this.type=e,this.scope=s,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const s=Object.getPrototypeOf(e);let n;YC(s)&&(n=this.register(s));const a=this.items,i=e.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in a||(a[i]=e,GC(e,o,n),this.override&&rt.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const s=this.items,n=e.id,a=this.scope;n in s&&delete s[n],a&&n in rt[a]&&(delete rt[a][n],this.override&&delete ia[n])}}function GC(t,e,s){const n=Bi(Object.create(null),[s?rt.get(s):{},rt.get(e),t.defaults]);rt.set(e,n),t.defaultRoutes&&KC(e,t.defaultRoutes),t.descriptors&&rt.describe(e,t.descriptors)}function KC(t,e){Object.keys(e).forEach(s=>{const n=s.split("."),a=n.pop(),i=[t].concat(n).join("."),o=e[s].split("."),r=o.pop(),l=o.join(".");rt.route(i,a,l,r)})}function YC(t){return"id"in t&&"defaults"in t}class JC{constructor(){this.controllers=new Eo(ms,"datasets",!0),this.elements=new Eo(an,"elements"),this.plugins=new Eo(Object,"plugins"),this.scales=new Eo(ua,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,s,n){[...s].forEach(a=>{const i=n||this._getRegistryForType(a);n||i.isForType(a)||i===this.plugins&&a.id?this._exec(e,i,a):Qe(a,o=>{const r=n||this._getRegistryForType(o);this._exec(e,r,o)})})}_exec(e,s,n){const a=hc(e);nt(n["before"+a],[],n),s[e](n),nt(n["after"+a],[],n)}_getRegistryForType(e){for(let s=0;s<this._typedRegistries.length;s++){const n=this._typedRegistries[s];if(n.isForType(e))return n}return this.plugins}_get(e,s,n){const a=s.get(e);if(a===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return a}}var Ms=new JC;class XC{constructor(){this._init=void 0}notify(e,s,n,a){if(s==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const i=a?this._descriptors(e).filter(a):this._descriptors(e),o=this._notify(i,e,s,n);return s==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),o}_notify(e,s,n,a){a=a||{};for(const i of e){const o=i.plugin,r=o[n],l=[s,a,i.options];if(nt(r,l,o)===!1&&a.cancelable)return!1}return!0}invalidate(){He(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const s=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),s}_createDescriptors(e,s){const n=e&&e.config,a=Le(n.options&&n.options.plugins,{}),i=QC(n);return a===!1&&!s?[]:eS(e,i,a,s)}_notifyStateChanges(e){const s=this._oldCache||[],n=this._cache,a=(i,o)=>i.filter(r=>!o.some(l=>r.plugin.id===l.plugin.id));this._notify(a(s,n),e,"stop"),this._notify(a(n,s),e,"start")}}function QC(t){const e={},s=[],n=Object.keys(Ms.plugins.items);for(let i=0;i<n.length;i++)s.push(Ms.getPlugin(n[i]));const a=t.plugins||[];for(let i=0;i<a.length;i++){const o=a[i];s.indexOf(o)===-1&&(s.push(o),e[o.id]=!0)}return{plugins:s,localIds:e}}function ZC(t,e){return!e&&t===!1?null:t===!0?{}:t}function eS(t,{plugins:e,localIds:s},n,a){const i=[],o=t.getContext();for(const r of e){const l=r.id,c=ZC(n[l],a);c!==null&&i.push({plugin:r,options:tS(t.config,{plugin:r,local:s[l]},c,o)})}return i}function tS(t,{plugin:e,local:s},n,a){const i=t.pluginScopeKeys(e),o=t.getOptionScopes(n,i);return s&&e.defaults&&o.push(e.defaults),t.createResolver(o,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function vd(t,e){const s=rt.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||s.indexAxis||"x"}function sS(t,e){let s=t;return t==="_index_"?s=e:t==="_value_"&&(s=e==="x"?"y":"x"),s}function nS(t,e){return t===e?"_index_":"_value_"}function eh(t){if(t==="x"||t==="y"||t==="r")return t}function aS(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function yd(t,...e){if(eh(t))return t;for(const s of e){const n=s.axis||aS(s.position)||t.length>1&&eh(t[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function th(t,e,s){if(s[e+"AxisID"]===t)return{axis:e}}function iS(t,e){if(e.data&&e.data.datasets){const s=e.data.datasets.filter(n=>n.xAxisID===t||n.yAxisID===t);if(s.length)return th(t,"x",s[0])||th(t,"y",s[0])}return{}}function oS(t,e){const s=ia[t.type]||{scales:{}},n=e.scales||{},a=vd(t.type,e),i=Object.create(null);return Object.keys(n).forEach(o=>{const r=n[o];if(!We(r))return console.error(`Invalid scale configuration for scale: ${o}`);if(r._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=yd(o,r,iS(o,t),rt.scales[r.type]),c=nS(l,a),u=s.scales||{};i[o]=vi(Object.create(null),[{axis:l},r,u[l],u[c]])}),t.data.datasets.forEach(o=>{const r=o.type||t.type,l=o.indexAxis||vd(r,e),u=(ia[r]||{}).scales||{};Object.keys(u).forEach(f=>{const h=sS(f,l),p=o[h+"AxisID"]||h;i[p]=i[p]||Object.create(null),vi(i[p],[{axis:h},n[p],u[f]])})}),Object.keys(i).forEach(o=>{const r=i[o];vi(r,[rt.scales[r.type],rt.scale])}),i}function tm(t){const e=t.options||(t.options={});e.plugins=Le(e.plugins,{}),e.scales=oS(t,e)}function sm(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function rS(t){return t=t||{},t.data=sm(t.data),tm(t),t}const sh=new Map,nm=new Set;function $o(t,e){let s=sh.get(t);return s||(s=e(),sh.set(t,s),nm.add(s)),s}const ti=(t,e,s)=>{const n=Mn(e,s);n!==void 0&&t.add(n)};class lS{constructor(e){this._config=rS(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=sm(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),tm(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return $o(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,s){return $o(`${e}.transition.${s}`,()=>[[`datasets.${e}.transitions.${s}`,`transitions.${s}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,s){return $o(`${e}-${s}`,()=>[[`datasets.${e}.elements.${s}`,`datasets.${e}`,`elements.${s}`,""]])}pluginScopeKeys(e){const s=e.id,n=this.type;return $o(`${n}-plugin-${s}`,()=>[[`plugins.${s}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,s){const n=this._scopeCache;let a=n.get(e);return(!a||s)&&(a=new Map,n.set(e,a)),a}getOptionScopes(e,s,n){const{options:a,type:i}=this,o=this._cachedScopes(e,n),r=o.get(s);if(r)return r;const l=new Set;s.forEach(u=>{e&&(l.add(e),u.forEach(f=>ti(l,e,f))),u.forEach(f=>ti(l,a,f)),u.forEach(f=>ti(l,ia[i]||{},f)),u.forEach(f=>ti(l,rt,f)),u.forEach(f=>ti(l,gd,f))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),nm.has(s)&&o.set(s,c),c}chartOptionScopes(){const{options:e,type:s}=this;return[e,ia[s]||{},rt.datasets[s]||{},{type:s},rt,gd]}resolveNamedOptions(e,s,n,a=[""]){const i={$shared:!0},{resolver:o,subPrefixes:r}=nh(this._resolverCache,e,a);let l=o;if(cS(o,s)){i.$shared=!1,n=Tn(n)?n():n;const c=this.createResolver(e,n,r);l=Va(o,n,c)}for(const c of s)i[c]=l[c];return i}createResolver(e,s,n=[""],a){const{resolver:i}=nh(this._resolverCache,e,n);return We(s)?Va(i,s,void 0,a):i}}function nh(t,e,s){let n=t.get(e);n||(n=new Map,t.set(e,n));const a=s.join();let i=n.get(a);return i||(i={resolver:yc(e,s),subPrefixes:s.filter(r=>!r.toLowerCase().includes("hover"))},n.set(a,i)),i}const dS=t=>We(t)&&Object.getOwnPropertyNames(t).some(e=>Tn(t[e]));function cS(t,e){const{isScriptable:s,isIndexable:n}=N0(t);for(const a of e){const i=s(a),o=n(a),r=(o||i)&&t[a];if(i&&(Tn(r)||dS(r))||o&&ot(r))return!0}return!1}var uS="4.5.1";const fS=["top","bottom","left","right","chartArea"];function ah(t,e){return t==="top"||t==="bottom"||fS.indexOf(t)===-1&&e==="x"}function ih(t,e){return function(s,n){return s[t]===n[t]?s[e]-n[e]:s[t]-n[t]}}function oh(t){const e=t.chart,s=e.options.animation;e.notifyPlugins("afterRender"),nt(s&&s.onComplete,[t],e)}function hS(t){const e=t.chart,s=e.options.animation;nt(s&&s.onProgress,[t],e)}function am(t){return kc()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Go={},rh=t=>{const e=am(t);return Object.values(Go).filter(s=>s.canvas===e).pop()};function pS(t,e,s){const n=Object.keys(t);for(const a of n){const i=+a;if(i>=e){const o=t[a];delete t[a],(s>0||i>e)&&(t[i+s]=o)}}}function gS(t,e,s,n){return!s||t.type==="mouseout"?null:n?e:t}class Ut{static register(...e){Ms.add(...e),lh()}static unregister(...e){Ms.remove(...e),lh()}constructor(e,s){const n=this.config=new lS(s),a=am(e),i=rh(a);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||PC(a)),this.platform.updateConfig(n);const r=this.platform.acquireContext(a,o.aspectRatio),l=r&&r.canvas,c=l&&l.height,u=l&&l.width;if(this.id=mw(),this.ctx=r,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new XC,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Pw(f=>this.update(f),o.resizeDelay||0),this._dataChanges=[],Go[this.id]=this,!r||!l){console.error("Failed to create chart: can't acquire context from the given item");return}js.listen(this,"complete",oh),js.listen(this,"progress",hS),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:s},width:n,height:a,_aspectRatio:i}=this;return He(e)?s&&i?i:a?n/a:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Ms}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Tf(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Ef(this.canvas,this.ctx),this}stop(){return js.stop(this),this}resize(e,s){js.running(this)?this._resizeBeforeDraw={width:e,height:s}:this._resize(e,s)}_resize(e,s){const n=this.options,a=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(a,e,s,i),r=n.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Tf(this,r,!0)&&(this.notifyPlugins("resize",{size:o}),nt(n.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const s=this.options.scales||{};Qe(s,(n,a)=>{n.id=a})}buildOrUpdateScales(){const e=this.options,s=e.scales,n=this.scales,a=Object.keys(n).reduce((o,r)=>(o[r]=!1,o),{});let i=[];s&&(i=i.concat(Object.keys(s).map(o=>{const r=s[o],l=yd(o,r),c=l==="r",u=l==="x";return{options:r,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),Qe(i,o=>{const r=o.options,l=r.id,c=yd(l,r),u=Le(r.type,o.dtype);(r.position===void 0||ah(r.position,c)!==ah(o.dposition))&&(r.position=o.dposition),a[l]=!0;let f=null;if(l in n&&n[l].type===u)f=n[l];else{const h=Ms.getScale(u);f=new h({id:l,type:u,ctx:this.ctx,chart:this}),n[f.id]=f}f.init(r,e)}),Qe(a,(o,r)=>{o||delete n[r]}),Qe(n,o=>{Dt.configure(this,o,o.options),Dt.addBox(this,o)})}_updateMetasets(){const e=this._metasets,s=this.data.datasets.length,n=e.length;if(e.sort((a,i)=>a.index-i.index),n>s){for(let a=s;a<n;++a)this._destroyDatasetMeta(a);e.splice(s,n-s)}this._sortedMetasets=e.slice(0).sort(ih("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:s}}=this;e.length>s.length&&delete this._stacks,e.forEach((n,a)=>{s.filter(i=>i===n._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const e=[],s=this.data.datasets;let n,a;for(this._removeUnreferencedMetasets(),n=0,a=s.length;n<a;n++){const i=s[n];let o=this.getDatasetMeta(n);const r=i.type||this.config.type;if(o.type&&o.type!==r&&(this._destroyDatasetMeta(n),o=this.getDatasetMeta(n)),o.type=r,o.indexAxis=i.indexAxis||vd(r,this.options),o.order=i.order||0,o.index=n,o.label=""+i.label,o.visible=this.isDatasetVisible(n),o.controller)o.controller.updateIndex(n),o.controller.linkScales();else{const l=Ms.getController(r),{datasetElementType:c,dataElementType:u}=rt.datasets[r];Object.assign(l,{dataElementType:Ms.getElement(u),datasetElementType:c&&Ms.getElement(c)}),o.controller=new l(this,n),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Qe(this.data.datasets,(e,s)=>{this.getDatasetMeta(s).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const s=this.config;s.update();const n=this._options=s.createResolver(s.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:f}=this.getDatasetMeta(c),h=!a&&i.indexOf(f)===-1;f.buildOrUpdateElements(h),o=Math.max(+f.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),a||Qe(i,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(ih("z","_idx"));const{_active:r,_lastEvent:l}=this;l?this._eventHandler(l,!0):r.length&&this._updateHoverStyles(r,r,!0),this.render()}_updateScales(){Qe(this.scales,e=>{Dt.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,s=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!vf(s,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,s=this._getUniformDataChanges()||[];for(const{method:n,start:a,count:i}of s){const o=n==="_removeElements"?-i:i;pS(e,a,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const s=this.data.datasets.length,n=i=>new Set(e.filter(o=>o[0]===i).map((o,r)=>r+","+o.splice(1).join(","))),a=n(0);for(let i=1;i<s;i++)if(!vf(a,n(i)))return;return Array.from(a).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Dt.update(this,this.width,this.height,e);const s=this.chartArea,n=s.width<=0||s.height<=0;this._layers=[],Qe(this.boxes,a=>{n&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,i)=>{a._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let s=0,n=this.data.datasets.length;s<n;++s)this.getDatasetMeta(s).controller.configure();for(let s=0,n=this.data.datasets.length;s<n;++s)this._updateDataset(s,Tn(e)?e({datasetIndex:s}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,s){const n=this.getDatasetMeta(e),a={meta:n,index:e,mode:s,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(n.controller._update(s),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(js.has(this)?this.attached&&!js.running(this)&&js.start(this):(this.draw(),oh({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const s=this._layers;for(e=0;e<s.length&&s[e].z<=0;++e)s[e].draw(this.chartArea);for(this._drawDatasets();e<s.length;++e)s[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const s=this._sortedMetasets,n=[];let a,i;for(a=0,i=s.length;a<i;++a){const o=s[a];(!e||o.visible)&&n.push(o)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let s=e.length-1;s>=0;--s)this._drawDataset(e[s]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const s=this.ctx,n={meta:e,index:e.index,cancelable:!0},a=q0(this,e);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(a&&Ur(s,a),e.controller.draw(),a&&zr(s),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return Js(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,s,n,a){const i=fC.modes[s];return typeof i=="function"?i(this,e,n,a):[]}getDatasetMeta(e){const s=this.data.datasets[e],n=this._metasets;let a=n.filter(i=>i&&i._dataset===s).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:s&&s.order||0,index:e,_dataset:s,_parsed:[],_sorted:!1},n.push(a)),a}getContext(){return this.$context||(this.$context=Pn(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const s=this.data.datasets[e];if(!s)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!s.hidden}setDatasetVisibility(e,s){const n=this.getDatasetMeta(e);n.hidden=!s}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,s,n){const a=n?"show":"hide",i=this.getDatasetMeta(e),o=i.controller._resolveAnimations(void 0,a);Vi(s)?(i.data[s].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),o.update(i,{visible:n}),this.update(r=>r.datasetIndex===e?a:void 0))}hide(e,s){this._updateVisibility(e,s,!1)}show(e,s){this._updateVisibility(e,s,!0)}_destroyDatasetMeta(e){const s=this._metasets[e];s&&s.controller&&s.controller._destroy(),delete this._metasets[e]}_stop(){let e,s;for(this.stop(),js.remove(this),e=0,s=this.data.datasets.length;e<s;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:s}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Ef(e,s),this.platform.releaseContext(s),this.canvas=null,this.ctx=null),delete Go[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,s=this.platform,n=(i,o)=>{s.addEventListener(this,i,o),e[i]=o},a=(i,o,r)=>{i.offsetX=o,i.offsetY=r,this._eventHandler(i)};Qe(this.options.events,i=>n(i,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,s=this.platform,n=(l,c)=>{s.addEventListener(this,l,c),e[l]=c},a=(l,c)=>{e[l]&&(s.removeEventListener(this,l,c),delete e[l])},i=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const r=()=>{a("attach",r),this.attached=!0,this.resize(),n("resize",i),n("detach",o)};o=()=>{this.attached=!1,a("resize",i),this._stop(),this._resize(0,0),n("attach",r)},s.isAttached(this.canvas)?r():o()}unbindEvents(){Qe(this._listeners,(e,s)=>{this.platform.removeEventListener(this,s,e)}),this._listeners={},Qe(this._responsiveListeners,(e,s)=>{this.platform.removeEventListener(this,s,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,s,n){const a=n?"set":"remove";let i,o,r,l;for(s==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+a+"DatasetHoverStyle"]()),r=0,l=e.length;r<l;++r){o=e[r];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[a+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const s=this._active||[],n=e.map(({datasetIndex:i,index:o})=>{const r=this.getDatasetMeta(i);if(!r)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:r.data[o],index:o}});!lr(n,s)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,s))}notifyPlugins(e,s,n){return this._plugins.notify(this,e,s,n)}isPluginEnabled(e){return this._plugins._cache.filter(s=>s.plugin.id===e).length===1}_updateHoverStyles(e,s,n){const a=this.options.hover,i=(l,c)=>l.filter(u=>!c.some(f=>u.datasetIndex===f.datasetIndex&&u.index===f.index)),o=i(s,e),r=n?e:i(e,s);o.length&&this.updateHoverStyle(o,a.mode,!1),r.length&&a.mode&&this.updateHoverStyle(r,a.mode,!0)}_eventHandler(e,s){const n={event:e,replay:s,cancelable:!0,inChartArea:this.isPointInArea(e)},a=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,a)===!1)return;const i=this._handleEvent(e,s,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,a),(i||n.changed)&&this.render(),this}_handleEvent(e,s,n){const{_active:a=[],options:i}=this,o=s,r=this._getActiveElements(e,a,n,o),l=kw(e),c=gS(e,this._lastEvent,n,l);n&&(this._lastEvent=null,nt(i.onHover,[e,r,this],this),l&&nt(i.onClick,[e,r,this],this));const u=!lr(r,a);return(u||s)&&(this._active=r,this._updateHoverStyles(r,a,s)),this._lastEvent=c,u}_getActiveElements(e,s,n,a){if(e.type==="mouseout")return[];if(!n)return s;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,a)}}Ae(Ut,"defaults",rt),Ae(Ut,"instances",Go),Ae(Ut,"overrides",ia),Ae(Ut,"registry",Ms),Ae(Ut,"version",uS),Ae(Ut,"getChart",rh);function lh(){return Qe(Ut.instances,t=>t._plugins.invalidate())}function mS(t,e,s){const{startAngle:n,x:a,y:i,outerRadius:o,innerRadius:r,options:l}=e,{borderWidth:c,borderJoinStyle:u}=l,f=Math.min(c/o,At(n-s));if(t.beginPath(),t.arc(a,i,o-c/2,n+f/2,s-f/2),r>0){const h=Math.min(c/r,At(n-s));t.arc(a,i,r+c/2,s-h/2,n+h/2,!0)}else{const h=Math.min(c/2,o*At(n-s));if(u==="round")t.arc(a,i,h,s-Ke/2,n+Ke/2,!0);else if(u==="bevel"){const p=2*h*h,b=-p*Math.cos(s+Ke/2)+a,m=-p*Math.sin(s+Ke/2)+i,g=p*Math.cos(n+Ke/2)+a,y=p*Math.sin(n+Ke/2)+i;t.lineTo(b,m),t.lineTo(g,y)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function bS(t,e,s){const{startAngle:n,pixelMargin:a,x:i,y:o,outerRadius:r,innerRadius:l}=e;let c=a/r;t.beginPath(),t.arc(i,o,r,n-c,s+c),l>a?(c=a/l,t.arc(i,o,l,s+c,n-c,!0)):t.arc(i,o,a,s+pt,n-pt),t.closePath(),t.clip()}function vS(t){return vc(t,["outerStart","outerEnd","innerStart","innerEnd"])}function yS(t,e,s,n){const a=vS(t.options.borderRadius),i=(s-e)/2,o=Math.min(i,n*e/2),r=l=>{const c=(s-Math.min(i,l))*n/2;return kt(l,0,Math.min(i,c))};return{outerStart:r(a.outerStart),outerEnd:r(a.outerEnd),innerStart:kt(a.innerStart,0,o),innerEnd:kt(a.innerEnd,0,o)}}function ma(t,e,s,n){return{x:s+t*Math.cos(e),y:n+t*Math.sin(e)}}function pr(t,e,s,n,a,i){const{x:o,y:r,startAngle:l,pixelMargin:c,innerRadius:u}=e,f=Math.max(e.outerRadius+n+s-c,0),h=u>0?u+n+s+c:0;let p=0;const b=a-l;if(n){const ee=u>0?u-n:0,K=f>0?f-n:0,M=(ee+K)/2,H=M!==0?b*M/(M+n):b;p=(b-H)/2}const m=Math.max(.001,b*f-s/Ke)/f,g=(b-m)/2,y=l+g+p,C=a-g-p,{outerStart:k,outerEnd:x,innerStart:_,innerEnd:T}=yS(e,h,f,C-y),E=f-k,R=f-x,I=y+k/E,P=C-x/R,q=h+_,J=h+T,U=y+_/q,V=C-T/J;if(t.beginPath(),i){const ee=(I+P)/2;if(t.arc(o,r,f,I,ee),t.arc(o,r,f,ee,P),x>0){const se=ma(R,P,o,r);t.arc(se.x,se.y,x,P,C+pt)}const K=ma(J,C,o,r);if(t.lineTo(K.x,K.y),T>0){const se=ma(J,V,o,r);t.arc(se.x,se.y,T,C+pt,V+Math.PI)}const M=(C-T/h+(y+_/h))/2;if(t.arc(o,r,h,C-T/h,M,!0),t.arc(o,r,h,M,y+_/h,!0),_>0){const se=ma(q,U,o,r);t.arc(se.x,se.y,_,U+Math.PI,y-pt)}const H=ma(E,y,o,r);if(t.lineTo(H.x,H.y),k>0){const se=ma(E,I,o,r);t.arc(se.x,se.y,k,y-pt,I)}}else{t.moveTo(o,r);const ee=Math.cos(I)*f+o,K=Math.sin(I)*f+r;t.lineTo(ee,K);const M=Math.cos(P)*f+o,H=Math.sin(P)*f+r;t.lineTo(M,H)}t.closePath()}function xS(t,e,s,n,a){const{fullCircles:i,startAngle:o,circumference:r}=e;let l=e.endAngle;if(i){pr(t,e,s,n,l,a);for(let c=0;c<i;++c)t.fill();isNaN(r)||(l=o+(r%it||it))}return pr(t,e,s,n,l,a),t.fill(),l}function _S(t,e,s,n,a){const{fullCircles:i,startAngle:o,circumference:r,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:f,borderDashOffset:h,borderRadius:p}=l,b=l.borderAlign==="inner";if(!c)return;t.setLineDash(f||[]),t.lineDashOffset=h,b?(t.lineWidth=c*2,t.lineJoin=u||"round"):(t.lineWidth=c,t.lineJoin=u||"bevel");let m=e.endAngle;if(i){pr(t,e,s,n,m,a);for(let g=0;g<i;++g)t.stroke();isNaN(r)||(m=o+(r%it||it))}b&&bS(t,e,m),l.selfJoin&&m-o>=Ke&&p===0&&u!=="miter"&&mS(t,e,m),i||(pr(t,e,s,n,m,a),t.stroke())}class ya extends an{constructor(s){super();Ae(this,"circumference");Ae(this,"endAngle");Ae(this,"fullCircles");Ae(this,"innerRadius");Ae(this,"outerRadius");Ae(this,"pixelMargin");Ae(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,s&&Object.assign(this,s)}inRange(s,n,a){const i=this.getProps(["x","y"],a),{angle:o,distance:r}=S0(i,{x:s,y:n}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:f,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],a),p=(this.options.spacing+this.options.borderWidth)/2,b=Le(h,c-l),m=ji(o,l,c)&&l!==c,g=b>=it||m,y=Ks(r,u+p,f+p);return g&&y}getCenterPoint(s){const{x:n,y:a,startAngle:i,endAngle:o,innerRadius:r,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],s),{offset:c,spacing:u}=this.options,f=(i+o)/2,h=(r+l+u+c)/2;return{x:n+Math.cos(f)*h,y:a+Math.sin(f)*h}}tooltipPosition(s){return this.getCenterPoint(s)}draw(s){const{options:n,circumference:a}=this,i=(n.offset||0)/4,o=(n.spacing||0)/2,r=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=a>it?Math.floor(a/it):0,a===0||this.innerRadius<0||this.outerRadius<0)return;s.save();const l=(this.startAngle+this.endAngle)/2;s.translate(Math.cos(l)*i,Math.sin(l)*i);const c=1-Math.sin(Math.min(Ke,a||0)),u=i*c;s.fillStyle=n.backgroundColor,s.strokeStyle=n.borderColor,xS(s,this,u,o,r),_S(s,this,u,o,r),s.restore()}}Ae(ya,"id","arc"),Ae(ya,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),Ae(ya,"defaultRoutes",{backgroundColor:"backgroundColor"}),Ae(ya,"descriptors",{_scriptable:!0,_indexable:s=>s!=="borderDash"});function im(t,e,s=e){t.lineCap=Le(s.borderCapStyle,e.borderCapStyle),t.setLineDash(Le(s.borderDash,e.borderDash)),t.lineDashOffset=Le(s.borderDashOffset,e.borderDashOffset),t.lineJoin=Le(s.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Le(s.borderWidth,e.borderWidth),t.strokeStyle=Le(s.borderColor,e.borderColor)}function kS(t,e,s){t.lineTo(s.x,s.y)}function wS(t){return t.stepped?Ww:t.tension||t.cubicInterpolationMode==="monotone"?qw:kS}function om(t,e,s={}){const n=t.length,{start:a=0,end:i=n-1}=s,{start:o,end:r}=e,l=Math.max(a,o),c=Math.min(i,r),u=a<o&&i<o||a>r&&i>r;return{count:n,start:l,loop:e.loop,ilen:c<l&&!u?n+c-l:c-l}}function CS(t,e,s,n){const{points:a,options:i}=e,{count:o,start:r,loop:l,ilen:c}=om(a,s,n),u=wS(i);let{move:f=!0,reverse:h}=n||{},p,b,m;for(p=0;p<=c;++p)b=a[(r+(h?c-p:p))%o],!b.skip&&(f?(t.moveTo(b.x,b.y),f=!1):u(t,m,b,h,i.stepped),m=b);return l&&(b=a[(r+(h?c:0))%o],u(t,m,b,h,i.stepped)),!!l}function SS(t,e,s,n){const a=e.points,{count:i,start:o,ilen:r}=om(a,s,n),{move:l=!0,reverse:c}=n||{};let u=0,f=0,h,p,b,m,g,y;const C=x=>(o+(c?r-x:x))%i,k=()=>{m!==g&&(t.lineTo(u,g),t.lineTo(u,m),t.lineTo(u,y))};for(l&&(p=a[C(0)],t.moveTo(p.x,p.y)),h=0;h<=r;++h){if(p=a[C(h)],p.skip)continue;const x=p.x,_=p.y,T=x|0;T===b?(_<m?m=_:_>g&&(g=_),u=(f*u+x)/++f):(k(),t.lineTo(x,_),b=T,f=0,m=g=_),y=_}k()}function xd(t){const e=t.options,s=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!s?SS:CS}function AS(t){return t.stepped?C4:t.tension||t.cubicInterpolationMode==="monotone"?S4:qn}function ES(t,e,s,n){let a=e._path;a||(a=e._path=new Path2D,e.path(a,s,n)&&a.closePath()),im(t,e.options),t.stroke(a)}function $S(t,e,s,n){const{segments:a,options:i}=e,o=xd(e);for(const r of a)im(t,i,r.style),t.beginPath(),o(t,e,r,{start:s,end:s+n-1})&&t.closePath(),t.stroke()}const MS=typeof Path2D=="function";function TS(t,e,s,n){MS&&!e.options.segment?ES(t,e,s,n):$S(t,e,s,n)}class Xs extends an{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,s){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const a=n.spanGaps?this._loop:this._fullLoop;m4(this._points,n,e,a,s),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=R4(this,this.options.segment))}first(){const e=this.segments,s=this.points;return e.length&&s[e[0].start]}last(){const e=this.segments,s=this.points,n=e.length;return n&&s[e[n-1].end]}interpolate(e,s){const n=this.options,a=e[s],i=this.points,o=W0(this,{property:s,start:a,end:a});if(!o.length)return;const r=[],l=AS(n);let c,u;for(c=0,u=o.length;c<u;++c){const{start:f,end:h}=o[c],p=i[f],b=i[h];if(p===b){r.push(p);continue}const m=Math.abs((a-p[s])/(b[s]-p[s])),g=l(p,b,m,n.stepped);g[s]=e[s],r.push(g)}return r.length===1?r[0]:r}pathSegment(e,s,n){return xd(this)(e,this,s,n)}path(e,s,n){const a=this.segments,i=xd(this);let o=this._loop;s=s||0,n=n||this.points.length-s;for(const r of a)o&=i(e,this,r,{start:s,end:s+n-1});return!!o}draw(e,s,n,a){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),TS(e,this,n,a),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Ae(Xs,"id","line"),Ae(Xs,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Ae(Xs,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Ae(Xs,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function dh(t,e,s,n){const a=t.options,{[s]:i}=t.getProps([s],n);return Math.abs(e-i)<a.radius+a.hitRadius}class Si extends an{constructor(s){super();Ae(this,"parsed");Ae(this,"skip");Ae(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,s&&Object.assign(this,s)}inRange(s,n,a){const i=this.options,{x:o,y:r}=this.getProps(["x","y"],a);return Math.pow(s-o,2)+Math.pow(n-r,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(s,n){return dh(this,s,"x",n)}inYRange(s,n){return dh(this,s,"y",n)}getCenterPoint(s){const{x:n,y:a}=this.getProps(["x","y"],s);return{x:n,y:a}}size(s){s=s||this.options||{};let n=s.radius||0;n=Math.max(n,n&&s.hoverRadius||0);const a=n&&s.borderWidth||0;return(n+a)*2}draw(s,n){const a=this.options;this.skip||a.radius<.1||!Js(this,n,this.size(a)/2)||(s.strokeStyle=a.borderColor,s.lineWidth=a.borderWidth,s.fillStyle=a.backgroundColor,md(s,a,this.x,this.y))}getRange(){const s=this.options||{};return s.radius+s.hitRadius}}Ae(Si,"id","point"),Ae(Si,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Ae(Si,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function rm(t,e){const{x:s,y:n,base:a,width:i,height:o}=t.getProps(["x","y","base","width","height"],e);let r,l,c,u,f;return t.horizontal?(f=o/2,r=Math.min(s,a),l=Math.max(s,a),c=n-f,u=n+f):(f=i/2,r=s-f,l=s+f,c=Math.min(n,a),u=Math.max(n,a)),{left:r,top:c,right:l,bottom:u}}function kn(t,e,s,n){return t?0:kt(e,s,n)}function RS(t,e,s){const n=t.options.borderWidth,a=t.borderSkipped,i=O0(n);return{t:kn(a.top,i.top,0,s),r:kn(a.right,i.right,0,e),b:kn(a.bottom,i.bottom,0,s),l:kn(a.left,i.left,0,e)}}function DS(t,e,s){const{enableBorderRadius:n}=t.getProps(["enableBorderRadius"]),a=t.options.borderRadius,i=ea(a),o=Math.min(e,s),r=t.borderSkipped,l=n||We(a);return{topLeft:kn(!l||r.top||r.left,i.topLeft,0,o),topRight:kn(!l||r.top||r.right,i.topRight,0,o),bottomLeft:kn(!l||r.bottom||r.left,i.bottomLeft,0,o),bottomRight:kn(!l||r.bottom||r.right,i.bottomRight,0,o)}}function PS(t){const e=rm(t),s=e.right-e.left,n=e.bottom-e.top,a=RS(t,s/2,n/2),i=DS(t,s/2,n/2);return{outer:{x:e.left,y:e.top,w:s,h:n,radius:i},inner:{x:e.left+a.l,y:e.top+a.t,w:s-a.l-a.r,h:n-a.t-a.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,i.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(a.b,a.r))}}}}function Pl(t,e,s,n){const a=e===null,i=s===null,r=t&&!(a&&i)&&rm(t,n);return r&&(a||Ks(e,r.left,r.right))&&(i||Ks(s,r.top,r.bottom))}function OS(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function NS(t,e){t.rect(e.x,e.y,e.w,e.h)}function Ol(t,e,s={}){const n=t.x!==s.x?-e:0,a=t.y!==s.y?-e:0,i=(t.x+t.w!==s.x+s.w?e:0)-n,o=(t.y+t.h!==s.y+s.h?e:0)-a;return{x:t.x+n,y:t.y+a,w:t.w+i,h:t.h+o,radius:t.radius}}class Ai extends an{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:s,options:{borderColor:n,backgroundColor:a}}=this,{inner:i,outer:o}=PS(this),r=OS(o.radius)?Ui:NS;e.save(),(o.w!==i.w||o.h!==i.h)&&(e.beginPath(),r(e,Ol(o,s,i)),e.clip(),r(e,Ol(i,-s,o)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),r(e,Ol(i,s)),e.fillStyle=a,e.fill(),e.restore()}inRange(e,s,n){return Pl(this,e,s,n)}inXRange(e,s){return Pl(this,e,null,s)}inYRange(e,s){return Pl(this,null,e,s)}getCenterPoint(e){const{x:s,y:n,base:a,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(s+a)/2:s,y:i?n:(n+a)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}Ae(Ai,"id","bar"),Ae(Ai,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Ae(Ai,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var IS=Object.freeze({__proto__:null,ArcElement:ya,BarElement:Ai,LineElement:Xs,PointElement:Si});const _d=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],ch=_d.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function lm(t){return _d[t%_d.length]}function dm(t){return ch[t%ch.length]}function LS(t,e){return t.borderColor=lm(e),t.backgroundColor=dm(e),++e}function FS(t,e){return t.backgroundColor=t.data.map(()=>lm(e++)),e}function BS(t,e){return t.backgroundColor=t.data.map(()=>dm(e++)),e}function VS(t){let e=0;return(s,n)=>{const a=t.getDatasetMeta(n).controller;a instanceof _n?e=FS(s,e):a instanceof Ci?e=BS(s,e):a&&(e=LS(s,e))}}function uh(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function jS(t){return t&&(t.borderColor||t.backgroundColor)}function US(){return rt.borderColor!=="rgba(0,0,0,0.1)"||rt.backgroundColor!=="rgba(0,0,0,0.1)"}var zS={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,s){if(!s.enabled)return;const{data:{datasets:n},options:a}=t.config,{elements:i}=a,o=uh(n)||jS(a)||i&&uh(i)||US();if(!s.forceOverride&&o)return;const r=VS(t);n.forEach(r)}};function HS(t,e,s,n,a){const i=a.samples||n;if(i>=s)return t.slice(e,e+s);const o=[],r=(s-2)/(i-2);let l=0;const c=e+s-1;let u=e,f,h,p,b,m;for(o[l++]=t[u],f=0;f<i-2;f++){let g=0,y=0,C;const k=Math.floor((f+1)*r)+1+e,x=Math.min(Math.floor((f+2)*r)+1,s)+e,_=x-k;for(C=k;C<x;C++)g+=t[C].x,y+=t[C].y;g/=_,y/=_;const T=Math.floor(f*r)+1+e,E=Math.min(Math.floor((f+1)*r)+1,s)+e,{x:R,y:I}=t[u];for(p=b=-1,C=T;C<E;C++)b=.5*Math.abs((R-g)*(t[C].y-I)-(R-t[C].x)*(y-I)),b>p&&(p=b,h=t[C],m=C);o[l++]=h,u=m}return o[l++]=t[c],o}function WS(t,e,s,n){let a=0,i=0,o,r,l,c,u,f,h,p,b,m;const g=[],y=e+s-1,C=t[e].x,x=t[y].x-C;for(o=e;o<e+s;++o){r=t[o],l=(r.x-C)/x*n,c=r.y;const _=l|0;if(_===u)c<b?(b=c,f=o):c>m&&(m=c,h=o),a=(i*a+r.x)/++i;else{const T=o-1;if(!He(f)&&!He(h)){const E=Math.min(f,h),R=Math.max(f,h);E!==p&&E!==T&&g.push({...t[E],x:a}),R!==p&&R!==T&&g.push({...t[R],x:a})}o>0&&T!==p&&g.push(t[T]),g.push(r),u=_,i=0,b=m=c,f=h=p=o}}return g}function cm(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function fh(t){t.data.datasets.forEach(e=>{cm(e)})}function qS(t,e){const s=e.length;let n=0,a;const{iScale:i}=t,{min:o,max:r,minDefined:l,maxDefined:c}=i.getUserBounds();return l&&(n=kt(Ys(e,i.axis,o).lo,0,s-1)),c?a=kt(Ys(e,i.axis,r).hi+1,n,s)-n:a=s-n,{start:n,count:a}}var GS={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,s)=>{if(!s.enabled){fh(t);return}const n=t.width;t.data.datasets.forEach((a,i)=>{const{_data:o,indexAxis:r}=a,l=t.getDatasetMeta(i),c=o||a.data;if(ii([r,t.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const u=t.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||t.options.parsing)return;let{start:f,count:h}=qS(l,c);const p=s.threshold||4*n;if(h<=p){cm(a);return}He(o)&&(a._data=c,delete a.data,Object.defineProperty(a,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(m){this._data=m}}));let b;switch(s.algorithm){case"lttb":b=HS(c,f,h,n,s);break;case"min-max":b=WS(c,f,h,n);break;default:throw new Error(`Unsupported decimation algorithm '${s.algorithm}'`)}a._decimated=b})},destroy(t){fh(t)}};function KS(t,e,s){const n=t.segments,a=t.points,i=e.points,o=[];for(const r of n){let{start:l,end:c}=r;c=qr(l,c,a);const u=kd(s,a[l],a[c],r.loop);if(!e.segments){o.push({source:r,target:u,start:a[l],end:a[c]});continue}const f=W0(e,u);for(const h of f){const p=kd(s,i[h.start],i[h.end],h.loop),b=H0(r,a,p);for(const m of b)o.push({source:m,target:h,start:{[s]:hh(u,p,"start",Math.max)},end:{[s]:hh(u,p,"end",Math.min)}})}}return o}function kd(t,e,s,n){if(n)return;let a=e[t],i=s[t];return t==="angle"&&(a=At(a),i=At(i)),{property:t,start:a,end:i}}function YS(t,e){const{x:s=null,y:n=null}=t||{},a=e.points,i=[];return e.segments.forEach(({start:o,end:r})=>{r=qr(o,r,a);const l=a[o],c=a[r];n!==null?(i.push({x:l.x,y:n}),i.push({x:c.x,y:n})):s!==null&&(i.push({x:s,y:l.y}),i.push({x:s,y:c.y}))}),i}function qr(t,e,s){for(;e>t;e--){const n=s[e];if(!isNaN(n.x)&&!isNaN(n.y))break}return e}function hh(t,e,s,n){return t&&e?n(t[s],e[s]):t?t[s]:e?e[s]:0}function um(t,e){let s=[],n=!1;return ot(t)?(n=!0,s=t):s=YS(t,e),s.length?new Xs({points:s,options:{tension:0},_loop:n,_fullLoop:n}):null}function ph(t){return t&&t.fill!==!1}function JS(t,e,s){let a=t[e].fill;const i=[e];let o;if(!s)return a;for(;a!==!1&&i.indexOf(a)===-1;){if(!ut(a))return a;if(o=t[a],!o)return!1;if(o.visible)return a;i.push(a),a=o.fill}return!1}function XS(t,e,s){const n=t3(t);if(We(n))return isNaN(n.value)?!1:n;let a=parseFloat(n);return ut(a)&&Math.floor(a)===a?QS(n[0],e,a,s):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function QS(t,e,s,n){return(t==="-"||t==="+")&&(s=e+s),s===e||s<0||s>=n?!1:s}function ZS(t,e){let s=null;return t==="start"?s=e.bottom:t==="end"?s=e.top:We(t)?s=e.getPixelForValue(t.value):e.getBasePixel&&(s=e.getBasePixel()),s}function e3(t,e,s){let n;return t==="start"?n=s:t==="end"?n=e.options.reverse?e.min:e.max:We(t)?n=t.value:n=e.getBaseValue(),n}function t3(t){const e=t.options,s=e.fill;let n=Le(s&&s.target,s);return n===void 0&&(n=!!e.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function s3(t){const{scale:e,index:s,line:n}=t,a=[],i=n.segments,o=n.points,r=n3(e,s);r.push(um({x:null,y:e.bottom},n));for(let l=0;l<i.length;l++){const c=i[l];for(let u=c.start;u<=c.end;u++)a3(a,o[u],r)}return new Xs({points:a,options:{}})}function n3(t,e){const s=[],n=t.getMatchingVisibleMetas("line");for(let a=0;a<n.length;a++){const i=n[a];if(i.index===e)break;i.hidden||s.unshift(i.dataset)}return s}function a3(t,e,s){const n=[];for(let a=0;a<s.length;a++){const i=s[a],{first:o,last:r,point:l}=i3(i,e,"x");if(!(!l||o&&r)){if(o)n.unshift(l);else if(t.push(l),!r)break}}t.push(...n)}function i3(t,e,s){const n=t.interpolate(e,s);if(!n)return{};const a=n[s],i=t.segments,o=t.points;let r=!1,l=!1;for(let c=0;c<i.length;c++){const u=i[c],f=o[u.start][s],h=o[u.end][s];if(Ks(a,f,h)){r=a===f,l=a===h;break}}return{first:r,last:l,point:n}}class fm{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,s,n){const{x:a,y:i,radius:o}=this;return s=s||{start:0,end:it},e.arc(a,i,o,s.end,s.start,!0),!n.bounds}interpolate(e){const{x:s,y:n,radius:a}=this,i=e.angle;return{x:s+Math.cos(i)*a,y:n+Math.sin(i)*a,angle:i}}}function o3(t){const{chart:e,fill:s,line:n}=t;if(ut(s))return r3(e,s);if(s==="stack")return s3(t);if(s==="shape")return!0;const a=l3(t);return a instanceof fm?a:um(a,n)}function r3(t,e){const s=t.getDatasetMeta(e);return s&&t.isDatasetVisible(e)?s.dataset:null}function l3(t){return(t.scale||{}).getPointPositionForValue?c3(t):d3(t)}function d3(t){const{scale:e={},fill:s}=t,n=ZS(s,e);if(ut(n)){const a=e.isHorizontal();return{x:a?n:null,y:a?null:n}}return null}function c3(t){const{scale:e,fill:s}=t,n=e.options,a=e.getLabels().length,i=n.reverse?e.max:e.min,o=e3(s,e,i),r=[];if(n.grid.circular){const l=e.getPointPositionForValue(0,i);return new fm({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(o)})}for(let l=0;l<a;++l)r.push(e.getPointPositionForValue(l,o));return r}function Nl(t,e,s){const n=o3(e),{chart:a,index:i,line:o,scale:r,axis:l}=e,c=o.options,u=c.fill,f=c.backgroundColor,{above:h=f,below:p=f}=u||{},b=a.getDatasetMeta(i),m=q0(a,b);n&&o.points.length&&(Ur(t,s),u3(t,{line:o,target:n,above:h,below:p,area:s,scale:r,axis:l,clip:m}),zr(t))}function u3(t,e){const{line:s,target:n,above:a,below:i,area:o,scale:r,clip:l}=e,c=s._loop?"angle":e.axis;t.save();let u=i;i!==a&&(c==="x"?(gh(t,n,o.top),Il(t,{line:s,target:n,color:a,scale:r,property:c,clip:l}),t.restore(),t.save(),gh(t,n,o.bottom)):c==="y"&&(mh(t,n,o.left),Il(t,{line:s,target:n,color:i,scale:r,property:c,clip:l}),t.restore(),t.save(),mh(t,n,o.right),u=a)),Il(t,{line:s,target:n,color:u,scale:r,property:c,clip:l}),t.restore()}function gh(t,e,s){const{segments:n,points:a}=e;let i=!0,o=!1;t.beginPath();for(const r of n){const{start:l,end:c}=r,u=a[l],f=a[qr(l,c,a)];i?(t.moveTo(u.x,u.y),i=!1):(t.lineTo(u.x,s),t.lineTo(u.x,u.y)),o=!!e.pathSegment(t,r,{move:o}),o?t.closePath():t.lineTo(f.x,s)}t.lineTo(e.first().x,s),t.closePath(),t.clip()}function mh(t,e,s){const{segments:n,points:a}=e;let i=!0,o=!1;t.beginPath();for(const r of n){const{start:l,end:c}=r,u=a[l],f=a[qr(l,c,a)];i?(t.moveTo(u.x,u.y),i=!1):(t.lineTo(s,u.y),t.lineTo(u.x,u.y)),o=!!e.pathSegment(t,r,{move:o}),o?t.closePath():t.lineTo(s,f.y)}t.lineTo(s,e.first().y),t.closePath(),t.clip()}function Il(t,e){const{line:s,target:n,property:a,color:i,scale:o,clip:r}=e,l=KS(s,n,a);for(const{source:c,target:u,start:f,end:h}of l){const{style:{backgroundColor:p=i}={}}=c,b=n!==!0;t.save(),t.fillStyle=p,f3(t,o,r,b&&kd(a,f,h)),t.beginPath();const m=!!s.pathSegment(t,c);let g;if(b){m?t.closePath():bh(t,n,h,a);const y=!!n.pathSegment(t,u,{move:m,reverse:!0});g=m&&y,g||bh(t,n,f,a)}t.closePath(),t.fill(g?"evenodd":"nonzero"),t.restore()}}function f3(t,e,s,n){const a=e.chart.chartArea,{property:i,start:o,end:r}=n||{};if(i==="x"||i==="y"){let l,c,u,f;i==="x"?(l=o,c=a.top,u=r,f=a.bottom):(l=a.left,c=o,u=a.right,f=r),t.beginPath(),s&&(l=Math.max(l,s.left),u=Math.min(u,s.right),c=Math.max(c,s.top),f=Math.min(f,s.bottom)),t.rect(l,c,u-l,f-c),t.clip()}}function bh(t,e,s,n){const a=e.interpolate(s,n);a&&t.lineTo(a.x,a.y)}var h3={id:"filler",afterDatasetsUpdate(t,e,s){const n=(t.data.datasets||[]).length,a=[];let i,o,r,l;for(o=0;o<n;++o)i=t.getDatasetMeta(o),r=i.dataset,l=null,r&&r.options&&r instanceof Xs&&(l={visible:t.isDatasetVisible(o),index:o,fill:XS(r,o,n),chart:t,axis:i.controller.options.indexAxis,scale:i.vScale,line:r}),i.$filler=l,a.push(l);for(o=0;o<n;++o)l=a[o],!(!l||l.fill===!1)&&(l.fill=JS(a,o,s.propagate))},beforeDraw(t,e,s){const n=s.drawTime==="beforeDraw",a=t.getSortedVisibleDatasetMetas(),i=t.chartArea;for(let o=a.length-1;o>=0;--o){const r=a[o].$filler;r&&(r.line.updateControlPoints(i,r.axis),n&&r.fill&&Nl(t.ctx,r,i))}},beforeDatasetsDraw(t,e,s){if(s.drawTime!=="beforeDatasetsDraw")return;const n=t.getSortedVisibleDatasetMetas();for(let a=n.length-1;a>=0;--a){const i=n[a].$filler;ph(i)&&Nl(t.ctx,i,t.chartArea)}},beforeDatasetDraw(t,e,s){const n=e.meta.$filler;!ph(n)||s.drawTime!=="beforeDatasetDraw"||Nl(t.ctx,n,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const vh=(t,e)=>{let{boxHeight:s=e,boxWidth:n=e}=t;return t.usePointStyle&&(s=Math.min(s,e),n=t.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:s,itemHeight:Math.max(e,s)}},p3=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class yh extends an{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,s,n){this.maxWidth=e,this.maxHeight=s,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let s=nt(e.generateLabels,[this.chart],this)||[];e.filter&&(s=s.filter(n=>e.filter(n,this.chart.data))),e.sort&&(s=s.sort((n,a)=>e.sort(n,a,this.chart.data))),this.options.reverse&&s.reverse(),this.legendItems=s}fit(){const{options:e,ctx:s}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,a=xt(n.font),i=a.size,o=this._computeTitleHeight(),{boxWidth:r,itemHeight:l}=vh(n,i);let c,u;s.font=a.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,i,r,l)+10):(u=this.maxHeight,c=this._fitCols(o,a,r,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,s,n,a){const{ctx:i,maxWidth:o,options:{labels:{padding:r}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=a+r;let f=e;i.textAlign="left",i.textBaseline="middle";let h=-1,p=-u;return this.legendItems.forEach((b,m)=>{const g=n+s/2+i.measureText(b.text).width;(m===0||c[c.length-1]+g+2*r>o)&&(f+=u,c[c.length-(m>0?0:1)]=0,p+=u,h++),l[m]={left:0,top:p,row:h,width:g,height:a},c[c.length-1]+=g+r}),f}_fitCols(e,s,n,a){const{ctx:i,maxHeight:o,options:{labels:{padding:r}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let f=r,h=0,p=0,b=0,m=0;return this.legendItems.forEach((g,y)=>{const{itemWidth:C,itemHeight:k}=g3(n,s,i,g,a);y>0&&p+k+2*r>u&&(f+=h+r,c.push({width:h,height:p}),b+=h+r,m++,h=p=0),l[y]={left:b,top:p,col:m,width:C,height:k},h=Math.max(h,C),p+=k+r}),f+=h,c.push({width:h,height:p}),f}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:s,options:{align:n,labels:{padding:a},rtl:i}}=this,o=Aa(i,this.left,this.width);if(this.isHorizontal()){let r=0,l=St(n,this.left+a,this.right-this.lineWidths[r]);for(const c of s)r!==c.row&&(r=c.row,l=St(n,this.left+a,this.right-this.lineWidths[r])),c.top+=this.top+e+a,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+a}else{let r=0,l=St(n,this.top+e+a,this.bottom-this.columnSizes[r].height);for(const c of s)c.col!==r&&(r=c.col,l=St(n,this.top+e+a,this.bottom-this.columnSizes[r].height)),c.top=l,c.left+=this.left+a,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Ur(e,this),this._draw(),zr(e)}}_draw(){const{options:e,columnSizes:s,lineWidths:n,ctx:a}=this,{align:i,labels:o}=e,r=rt.color,l=Aa(e.rtl,this.left,this.width),c=xt(o.font),{padding:u}=o,f=c.size,h=f/2;let p;this.drawTitle(),a.textAlign=l.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=c.string;const{boxWidth:b,boxHeight:m,itemHeight:g}=vh(o,f),y=function(T,E,R){if(isNaN(b)||b<=0||isNaN(m)||m<0)return;a.save();const I=Le(R.lineWidth,1);if(a.fillStyle=Le(R.fillStyle,r),a.lineCap=Le(R.lineCap,"butt"),a.lineDashOffset=Le(R.lineDashOffset,0),a.lineJoin=Le(R.lineJoin,"miter"),a.lineWidth=I,a.strokeStyle=Le(R.strokeStyle,r),a.setLineDash(Le(R.lineDash,[])),o.usePointStyle){const P={radius:m*Math.SQRT2/2,pointStyle:R.pointStyle,rotation:R.rotation,borderWidth:I},q=l.xPlus(T,b/2),J=E+h;P0(a,P,q,J,o.pointStyleWidth&&b)}else{const P=E+Math.max((f-m)/2,0),q=l.leftForLtr(T,b),J=ea(R.borderRadius);a.beginPath(),Object.values(J).some(U=>U!==0)?Ui(a,{x:q,y:P,w:b,h:m,radius:J}):a.rect(q,P,b,m),a.fill(),I!==0&&a.stroke()}a.restore()},C=function(T,E,R){oa(a,R.text,T,E+g/2,c,{strikethrough:R.hidden,textAlign:l.textAlign(R.textAlign)})},k=this.isHorizontal(),x=this._computeTitleHeight();k?p={x:St(i,this.left+u,this.right-n[0]),y:this.top+u+x,line:0}:p={x:this.left+u,y:St(i,this.top+x+u,this.bottom-s[0].height),line:0},j0(this.ctx,e.textDirection);const _=g+u;this.legendItems.forEach((T,E)=>{a.strokeStyle=T.fontColor,a.fillStyle=T.fontColor;const R=a.measureText(T.text).width,I=l.textAlign(T.textAlign||(T.textAlign=o.textAlign)),P=b+h+R;let q=p.x,J=p.y;l.setWidth(this.width),k?E>0&&q+P+u>this.right&&(J=p.y+=_,p.line++,q=p.x=St(i,this.left+u,this.right-n[p.line])):E>0&&J+_>this.bottom&&(q=p.x=q+s[p.line].width+u,p.line++,J=p.y=St(i,this.top+x+u,this.bottom-s[p.line].height));const U=l.x(q);if(y(U,J,T),q=Ow(I,q+b+h,k?q+P:this.right,e.rtl),C(l.x(q),J,T),k)p.x+=P+u;else if(typeof T.text!="string"){const V=c.lineHeight;p.y+=hm(T,V)+u}else p.y+=_}),U0(this.ctx,e.textDirection)}drawTitle(){const e=this.options,s=e.title,n=xt(s.font),a=Nt(s.padding);if(!s.display)return;const i=Aa(e.rtl,this.left,this.width),o=this.ctx,r=s.position,l=n.size/2,c=a.top+l;let u,f=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),u=this.top+c,f=St(e.align,f,this.right-h);else{const b=this.columnSizes.reduce((m,g)=>Math.max(m,g.height),0);u=c+St(e.align,this.top,this.bottom-b-e.labels.padding-this._computeTitleHeight())}const p=St(r,f,f+h);o.textAlign=i.textAlign(mc(r)),o.textBaseline="middle",o.strokeStyle=s.color,o.fillStyle=s.color,o.font=n.string,oa(o,s.text,p,u,n)}_computeTitleHeight(){const e=this.options.title,s=xt(e.font),n=Nt(e.padding);return e.display?s.lineHeight+n.height:0}_getLegendItemAt(e,s){let n,a,i;if(Ks(e,this.left,this.right)&&Ks(s,this.top,this.bottom)){for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(a=i[n],Ks(e,a.left,a.left+a.width)&&Ks(s,a.top,a.top+a.height))return this.legendItems[n]}return null}handleEvent(e){const s=this.options;if(!v3(e.type,s))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const a=this._hoveredItem,i=p3(a,n);a&&!i&&nt(s.onLeave,[e,a,this],this),this._hoveredItem=n,n&&!i&&nt(s.onHover,[e,n,this],this)}else n&&nt(s.onClick,[e,n,this],this)}}function g3(t,e,s,n,a){const i=m3(n,t,e,s),o=b3(a,n,e.lineHeight);return{itemWidth:i,itemHeight:o}}function m3(t,e,s,n){let a=t.text;return a&&typeof a!="string"&&(a=a.reduce((i,o)=>i.length>o.length?i:o)),e+s.size/2+n.measureText(a).width}function b3(t,e,s){let n=t;return typeof e.text!="string"&&(n=hm(e,s)),n}function hm(t,e){const s=t.text?t.text.length:0;return e*s}function v3(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var Gr={id:"legend",_element:yh,start(t,e,s){const n=t.legend=new yh({ctx:t.ctx,options:s,chart:t});Dt.configure(t,n,s),Dt.addBox(t,n)},stop(t){Dt.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,s){const n=t.legend;Dt.configure(t,n,s),n.options=s},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,s){const n=e.datasetIndex,a=s.chart;a.isDatasetVisible(n)?(a.hide(n),e.hidden=!0):(a.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:s,pointStyle:n,textAlign:a,color:i,useBorderRadius:o,borderRadius:r}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(s?0:void 0),u=Nt(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:i,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:n||c.pointStyle,rotation:c.rotation,textAlign:a||c.textAlign,borderRadius:o&&(r||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class Sc extends an{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,s){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=s;const a=ot(n.text)?n.text.length:1;this._padding=Nt(n.padding);const i=a*xt(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:s,left:n,bottom:a,right:i,options:o}=this,r=o.align;let l=0,c,u,f;return this.isHorizontal()?(u=St(r,n,i),f=s+e,c=i-n):(o.position==="left"?(u=n+e,f=St(r,a,s),l=Ke*-.5):(u=i-e,f=St(r,s,a),l=Ke*.5),c=a-s),{titleX:u,titleY:f,maxWidth:c,rotation:l}}draw(){const e=this.ctx,s=this.options;if(!s.display)return;const n=xt(s.font),i=n.lineHeight/2+this._padding.top,{titleX:o,titleY:r,maxWidth:l,rotation:c}=this._drawArgs(i);oa(e,s.text,0,0,n,{color:s.color,maxWidth:l,rotation:c,textAlign:mc(s.align),textBaseline:"middle",translation:[o,r]})}}function y3(t,e){const s=new Sc({ctx:t.ctx,options:e,chart:t});Dt.configure(t,s,e),Dt.addBox(t,s),t.titleBlock=s}var x3={id:"title",_element:Sc,start(t,e,s){y3(t,s)},stop(t){const e=t.titleBlock;Dt.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,s){const n=t.titleBlock;Dt.configure(t,n,s),n.options=s},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Mo=new WeakMap;var _3={id:"subtitle",start(t,e,s){const n=new Sc({ctx:t.ctx,options:s,chart:t});Dt.configure(t,n,s),Dt.addBox(t,n),Mo.set(t,n)},stop(t){Dt.removeBox(t,Mo.get(t)),Mo.delete(t)},beforeUpdate(t,e,s){const n=Mo.get(t);Dt.configure(t,n,s),n.options=s},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ri={average(t){if(!t.length)return!1;let e,s,n=new Set,a=0,i=0;for(e=0,s=t.length;e<s;++e){const r=t[e].element;if(r&&r.hasValue()){const l=r.tooltipPosition();n.add(l.x),a+=l.y,++i}}return i===0||n.size===0?!1:{x:[...n].reduce((r,l)=>r+l)/n.size,y:a/i}},nearest(t,e){if(!t.length)return!1;let s=e.x,n=e.y,a=Number.POSITIVE_INFINITY,i,o,r;for(i=0,o=t.length;i<o;++i){const l=t[i].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=pd(e,c);u<a&&(a=u,r=l)}}if(r){const l=r.tooltipPosition();s=l.x,n=l.y}return{x:s,y:n}}};function Es(t,e){return e&&(ot(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Us(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function k3(t,e){const{element:s,datasetIndex:n,index:a}=e,i=t.getDatasetMeta(n).controller,{label:o,value:r}=i.getLabelAndValue(a);return{chart:t,label:o,parsed:i.getParsed(a),raw:t.data.datasets[n].data[a],formattedValue:r,dataset:i.getDataset(),dataIndex:a,datasetIndex:n,element:s}}function xh(t,e){const s=t.chart.ctx,{body:n,footer:a,title:i}=t,{boxWidth:o,boxHeight:r}=e,l=xt(e.bodyFont),c=xt(e.titleFont),u=xt(e.footerFont),f=i.length,h=a.length,p=n.length,b=Nt(e.padding);let m=b.height,g=0,y=n.reduce((x,_)=>x+_.before.length+_.lines.length+_.after.length,0);if(y+=t.beforeBody.length+t.afterBody.length,f&&(m+=f*c.lineHeight+(f-1)*e.titleSpacing+e.titleMarginBottom),y){const x=e.displayColors?Math.max(r,l.lineHeight):l.lineHeight;m+=p*x+(y-p)*l.lineHeight+(y-1)*e.bodySpacing}h&&(m+=e.footerMarginTop+h*u.lineHeight+(h-1)*e.footerSpacing);let C=0;const k=function(x){g=Math.max(g,s.measureText(x).width+C)};return s.save(),s.font=c.string,Qe(t.title,k),s.font=l.string,Qe(t.beforeBody.concat(t.afterBody),k),C=e.displayColors?o+2+e.boxPadding:0,Qe(n,x=>{Qe(x.before,k),Qe(x.lines,k),Qe(x.after,k)}),C=0,s.font=u.string,Qe(t.footer,k),s.restore(),g+=b.width,{width:g,height:m}}function w3(t,e){const{y:s,height:n}=e;return s<n/2?"top":s>t.height-n/2?"bottom":"center"}function C3(t,e,s,n){const{x:a,width:i}=n,o=s.caretSize+s.caretPadding;if(t==="left"&&a+i+o>e.width||t==="right"&&a-i-o<0)return!0}function S3(t,e,s,n){const{x:a,width:i}=s,{width:o,chartArea:{left:r,right:l}}=t;let c="center";return n==="center"?c=a<=(r+l)/2?"left":"right":a<=i/2?c="left":a>=o-i/2&&(c="right"),C3(c,t,e,s)&&(c="center"),c}function _h(t,e,s){const n=s.yAlign||e.yAlign||w3(t,s);return{xAlign:s.xAlign||e.xAlign||S3(t,e,s,n),yAlign:n}}function A3(t,e){let{x:s,width:n}=t;return e==="right"?s-=n:e==="center"&&(s-=n/2),s}function E3(t,e,s){let{y:n,height:a}=t;return e==="top"?n+=s:e==="bottom"?n-=a+s:n-=a/2,n}function kh(t,e,s,n){const{caretSize:a,caretPadding:i,cornerRadius:o}=t,{xAlign:r,yAlign:l}=s,c=a+i,{topLeft:u,topRight:f,bottomLeft:h,bottomRight:p}=ea(o);let b=A3(e,r);const m=E3(e,l,c);return l==="center"?r==="left"?b+=c:r==="right"&&(b-=c):r==="left"?b-=Math.max(u,h)+a:r==="right"&&(b+=Math.max(f,p)+a),{x:kt(b,0,n.width-e.width),y:kt(m,0,n.height-e.height)}}function To(t,e,s){const n=Nt(s.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-n.right:t.x+n.left}function wh(t){return Es([],Us(t))}function $3(t,e,s){return Pn(t,{tooltip:e,tooltipItems:s,type:"tooltip"})}function Ch(t,e){const s=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return s?t.override(s):t}const pm={beforeTitle:Vs,title(t){if(t.length>0){const e=t[0],s=e.chart.data.labels,n=s?s.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return s[e.dataIndex]}return""},afterTitle:Vs,beforeBody:Vs,beforeLabel:Vs,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const s=t.formattedValue;return He(s)||(e+=s),e},labelColor(t){const s=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:s.borderColor,backgroundColor:s.backgroundColor,borderWidth:s.borderWidth,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const s=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:s.pointStyle,rotation:s.rotation}},afterLabel:Vs,afterBody:Vs,beforeFooter:Vs,footer:Vs,afterFooter:Vs};function Wt(t,e,s,n){const a=t[e].call(s,n);return typeof a>"u"?pm[e].call(s,n):a}class wd extends an{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const s=this.chart,n=this.options.setContext(this.getContext()),a=n.enabled&&s.options.animation&&n.animations,i=new G0(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=$3(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,s){const{callbacks:n}=s,a=Wt(n,"beforeTitle",this,e),i=Wt(n,"title",this,e),o=Wt(n,"afterTitle",this,e);let r=[];return r=Es(r,Us(a)),r=Es(r,Us(i)),r=Es(r,Us(o)),r}getBeforeBody(e,s){return wh(Wt(s.callbacks,"beforeBody",this,e))}getBody(e,s){const{callbacks:n}=s,a=[];return Qe(e,i=>{const o={before:[],lines:[],after:[]},r=Ch(n,i);Es(o.before,Us(Wt(r,"beforeLabel",this,i))),Es(o.lines,Wt(r,"label",this,i)),Es(o.after,Us(Wt(r,"afterLabel",this,i))),a.push(o)}),a}getAfterBody(e,s){return wh(Wt(s.callbacks,"afterBody",this,e))}getFooter(e,s){const{callbacks:n}=s,a=Wt(n,"beforeFooter",this,e),i=Wt(n,"footer",this,e),o=Wt(n,"afterFooter",this,e);let r=[];return r=Es(r,Us(a)),r=Es(r,Us(i)),r=Es(r,Us(o)),r}_createItems(e){const s=this._active,n=this.chart.data,a=[],i=[],o=[];let r=[],l,c;for(l=0,c=s.length;l<c;++l)r.push(k3(this.chart,s[l]));return e.filter&&(r=r.filter((u,f,h)=>e.filter(u,f,h,n))),e.itemSort&&(r=r.sort((u,f)=>e.itemSort(u,f,n))),Qe(r,u=>{const f=Ch(e.callbacks,u);a.push(Wt(f,"labelColor",this,u)),i.push(Wt(f,"labelPointStyle",this,u)),o.push(Wt(f,"labelTextColor",this,u))}),this.labelColors=a,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=r,r}update(e,s){const n=this.options.setContext(this.getContext()),a=this._active;let i,o=[];if(!a.length)this.opacity!==0&&(i={opacity:0});else{const r=ri[n.position].call(this,a,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);const l=this._size=xh(this,n),c=Object.assign({},r,l),u=_h(this.chart,n,c),f=kh(n,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,i={opacity:1,x:f.x,y:f.y,width:l.width,height:l.height,caretX:r.x,caretY:r.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:s})}drawCaret(e,s,n,a){const i=this.getCaretPosition(e,n,a);s.lineTo(i.x1,i.y1),s.lineTo(i.x2,i.y2),s.lineTo(i.x3,i.y3)}getCaretPosition(e,s,n){const{xAlign:a,yAlign:i}=this,{caretSize:o,cornerRadius:r}=n,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:f}=ea(r),{x:h,y:p}=e,{width:b,height:m}=s;let g,y,C,k,x,_;return i==="center"?(x=p+m/2,a==="left"?(g=h,y=g-o,k=x+o,_=x-o):(g=h+b,y=g+o,k=x-o,_=x+o),C=g):(a==="left"?y=h+Math.max(l,u)+o:a==="right"?y=h+b-Math.max(c,f)-o:y=this.caretX,i==="top"?(k=p,x=k-o,g=y-o,C=y+o):(k=p+m,x=k+o,g=y+o,C=y-o),_=k),{x1:g,x2:y,x3:C,y1:k,y2:x,y3:_}}drawTitle(e,s,n){const a=this.title,i=a.length;let o,r,l;if(i){const c=Aa(n.rtl,this.x,this.width);for(e.x=To(this,n.titleAlign,n),s.textAlign=c.textAlign(n.titleAlign),s.textBaseline="middle",o=xt(n.titleFont),r=n.titleSpacing,s.fillStyle=n.titleColor,s.font=o.string,l=0;l<i;++l)s.fillText(a[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+r,l+1===i&&(e.y+=n.titleMarginBottom-r)}}_drawColorBox(e,s,n,a,i){const o=this.labelColors[n],r=this.labelPointStyles[n],{boxHeight:l,boxWidth:c}=i,u=xt(i.bodyFont),f=To(this,"left",i),h=a.x(f),p=l<u.lineHeight?(u.lineHeight-l)/2:0,b=s.y+p;if(i.usePointStyle){const m={radius:Math.min(c,l)/2,pointStyle:r.pointStyle,rotation:r.rotation,borderWidth:1},g=a.leftForLtr(h,c)+c/2,y=b+l/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,md(e,m,g,y),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,md(e,m,g,y)}else{e.lineWidth=We(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const m=a.leftForLtr(h,c),g=a.leftForLtr(a.xPlus(h,1),c-2),y=ea(o.borderRadius);Object.values(y).some(C=>C!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,Ui(e,{x:m,y:b,w:c,h:l,radius:y}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Ui(e,{x:g,y:b+1,w:c-2,h:l-2,radius:y}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(m,b,c,l),e.strokeRect(m,b,c,l),e.fillStyle=o.backgroundColor,e.fillRect(g,b+1,c-2,l-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,s,n){const{body:a}=this,{bodySpacing:i,bodyAlign:o,displayColors:r,boxHeight:l,boxWidth:c,boxPadding:u}=n,f=xt(n.bodyFont);let h=f.lineHeight,p=0;const b=Aa(n.rtl,this.x,this.width),m=function(R){s.fillText(R,b.x(e.x+p),e.y+h/2),e.y+=h+i},g=b.textAlign(o);let y,C,k,x,_,T,E;for(s.textAlign=o,s.textBaseline="middle",s.font=f.string,e.x=To(this,g,n),s.fillStyle=n.bodyColor,Qe(this.beforeBody,m),p=r&&g!=="right"?o==="center"?c/2+u:c+2+u:0,x=0,T=a.length;x<T;++x){for(y=a[x],C=this.labelTextColors[x],s.fillStyle=C,Qe(y.before,m),k=y.lines,r&&k.length&&(this._drawColorBox(s,e,x,b,n),h=Math.max(f.lineHeight,l)),_=0,E=k.length;_<E;++_)m(k[_]),h=f.lineHeight;Qe(y.after,m)}p=0,h=f.lineHeight,Qe(this.afterBody,m),e.y-=i}drawFooter(e,s,n){const a=this.footer,i=a.length;let o,r;if(i){const l=Aa(n.rtl,this.x,this.width);for(e.x=To(this,n.footerAlign,n),e.y+=n.footerMarginTop,s.textAlign=l.textAlign(n.footerAlign),s.textBaseline="middle",o=xt(n.footerFont),s.fillStyle=n.footerColor,s.font=o.string,r=0;r<i;++r)s.fillText(a[r],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+n.footerSpacing}}drawBackground(e,s,n,a){const{xAlign:i,yAlign:o}=this,{x:r,y:l}=e,{width:c,height:u}=n,{topLeft:f,topRight:h,bottomLeft:p,bottomRight:b}=ea(a.cornerRadius);s.fillStyle=a.backgroundColor,s.strokeStyle=a.borderColor,s.lineWidth=a.borderWidth,s.beginPath(),s.moveTo(r+f,l),o==="top"&&this.drawCaret(e,s,n,a),s.lineTo(r+c-h,l),s.quadraticCurveTo(r+c,l,r+c,l+h),o==="center"&&i==="right"&&this.drawCaret(e,s,n,a),s.lineTo(r+c,l+u-b),s.quadraticCurveTo(r+c,l+u,r+c-b,l+u),o==="bottom"&&this.drawCaret(e,s,n,a),s.lineTo(r+p,l+u),s.quadraticCurveTo(r,l+u,r,l+u-p),o==="center"&&i==="left"&&this.drawCaret(e,s,n,a),s.lineTo(r,l+f),s.quadraticCurveTo(r,l,r+f,l),s.closePath(),s.fill(),a.borderWidth>0&&s.stroke()}_updateAnimationTarget(e){const s=this.chart,n=this.$animations,a=n&&n.x,i=n&&n.y;if(a||i){const o=ri[e.position].call(this,this._active,this._eventPosition);if(!o)return;const r=this._size=xh(this,e),l=Object.assign({},o,this._size),c=_h(s,e,l),u=kh(e,l,c,s);(a._to!==u.x||i._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=r.width,this.height=r.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const s=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(s);const a={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const o=Nt(s.padding),r=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;s.enabled&&r&&(e.save(),e.globalAlpha=n,this.drawBackground(i,e,a,s),j0(e,s.textDirection),i.y+=o.top,this.drawTitle(i,e,s),this.drawBody(i,e,s),this.drawFooter(i,e,s),U0(e,s.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,s){const n=this._active,a=e.map(({datasetIndex:r,index:l})=>{const c=this.chart.getDatasetMeta(r);if(!c)throw new Error("Cannot find a dataset at index "+r);return{datasetIndex:r,element:c.data[l],index:l}}),i=!lr(n,a),o=this._positionChanged(a,s);(i||o)&&(this._active=a,this._eventPosition=s,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,s,n=!0){if(s&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,i=this._active||[],o=this._getActiveElements(e,i,s,n),r=this._positionChanged(o,e),l=s||!lr(o,i)||r;return l&&(this._active=o,(a.enabled||a.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,s))),l}_getActiveElements(e,s,n,a){const i=this.options;if(e.type==="mouseout")return[];if(!a)return s.filter(r=>this.chart.data.datasets[r.datasetIndex]&&this.chart.getDatasetMeta(r.datasetIndex).controller.getParsed(r.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,i.mode,i,n);return i.reverse&&o.reverse(),o}_positionChanged(e,s){const{caretX:n,caretY:a,options:i}=this,o=ri[i.position].call(this,e,s);return o!==!1&&(n!==o.x||a!==o.y)}}Ae(wd,"positioners",ri);var Kr={id:"tooltip",_element:wd,positioners:ri,afterInit(t,e,s){s&&(t.tooltip=new wd({chart:t,options:s}))},beforeUpdate(t,e,s){t.tooltip&&t.tooltip.initialize(s)},reset(t,e,s){t.tooltip&&t.tooltip.initialize(s)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const s={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...s,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",s)}},afterEvent(t,e){if(t.tooltip){const s=e.replay;t.tooltip.handleEvent(e.event,s,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:pm},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},M3=Object.freeze({__proto__:null,Colors:zS,Decimation:GS,Filler:h3,Legend:Gr,SubTitle:_3,Title:x3,Tooltip:Kr});const T3=(t,e,s,n)=>(typeof e=="string"?(s=t.push(e)-1,n.unshift({index:s,label:e})):isNaN(e)&&(s=null),s);function R3(t,e,s,n){const a=t.indexOf(e);if(a===-1)return T3(t,e,s,n);const i=t.lastIndexOf(e);return a!==i?s:a}const D3=(t,e)=>t===null?null:kt(Math.round(t),0,e);function Sh(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Hi extends ua{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const s=this._addedLabels;if(s.length){const n=this.getLabels();for(const{index:a,label:i}of s)n[a]===i&&n.splice(a,1);this._addedLabels=[]}super.init(e)}parse(e,s){if(He(e))return null;const n=this.getLabels();return s=isFinite(s)&&n[s]===e?s:R3(n,e,Le(s,e),this._addedLabels),D3(s,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:s}=this.getUserBounds();let{min:n,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),s||(a=this.getLabels().length-1)),this.min=n,this.max=a}buildTicks(){const e=this.min,s=this.max,n=this.options.offset,a=[];let i=this.getLabels();i=e===0&&s===i.length-1?i:i.slice(e,s+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let o=e;o<=s;o++)a.push({value:o});return a}getLabelForValue(e){return Sh.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const s=this.ticks;return e<0||e>s.length-1?null:this.getPixelForValue(s[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}Ae(Hi,"id","category"),Ae(Hi,"defaults",{ticks:{callback:Sh}});function P3(t,e){const s=[],{bounds:a,step:i,min:o,max:r,precision:l,count:c,maxTicks:u,maxDigits:f,includeBounds:h}=t,p=i||1,b=u-1,{min:m,max:g}=e,y=!He(o),C=!He(r),k=!He(c),x=(g-m)/(f+1);let _=xf((g-m)/b/p)*p,T,E,R,I;if(_<1e-14&&!y&&!C)return[{value:m},{value:g}];I=Math.ceil(g/_)-Math.floor(m/_),I>b&&(_=xf(I*_/b/p)*p),He(l)||(T=Math.pow(10,l),_=Math.ceil(_*T)/T),a==="ticks"?(E=Math.floor(m/_)*_,R=Math.ceil(g/_)*_):(E=m,R=g),y&&C&&i&&Ew((r-o)/i,_/1e3)?(I=Math.round(Math.min((r-o)/_,u)),_=(r-o)/I,E=o,R=r):k?(E=y?o:E,R=C?r:R,I=c-1,_=(R-E)/I):(I=(R-E)/_,yi(I,Math.round(I),_/1e3)?I=Math.round(I):I=Math.ceil(I));const P=Math.max(_f(_),_f(E));T=Math.pow(10,He(l)?P:l),E=Math.round(E*T)/T,R=Math.round(R*T)/T;let q=0;for(y&&(h&&E!==o?(s.push({value:o}),E<o&&q++,yi(Math.round((E+q*_)*T)/T,o,Ah(o,x,t))&&q++):E<o&&q++);q<I;++q){const J=Math.round((E+q*_)*T)/T;if(C&&J>r)break;s.push({value:J})}return C&&h&&R!==r?s.length&&yi(s[s.length-1].value,r,Ah(r,x,t))?s[s.length-1].value=r:s.push({value:r}):(!C||R===r)&&s.push({value:R}),s}function Ah(t,e,{horizontal:s,minRotation:n}){const a=fs(n),i=(s?Math.sin(a):Math.cos(a))||.001,o=.75*e*(""+t).length;return Math.min(e/i,o)}class gr extends ua{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,s){return He(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:s,maxDefined:n}=this.getUserBounds();let{min:a,max:i}=this;const o=l=>a=s?a:l,r=l=>i=n?i:l;if(e){const l=Ds(a),c=Ds(i);l<0&&c<0?r(0):l>0&&c>0&&o(0)}if(a===i){let l=i===0?1:Math.abs(i*.05);r(i+l),e||o(a-l)}this.min=a,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:s,stepSize:n}=e,a;return n?(a=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),s=s||11),s&&(a=Math.min(s,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,s=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const a={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:s.precision,step:s.stepSize,count:s.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:s.minRotation||0,includeBounds:s.includeBounds!==!1},i=this._range||this,o=P3(a,i);return e.bounds==="ticks"&&C0(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let s=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const a=(n-s)/Math.max(e.length-1,1)/2;s-=a,n+=a}this._startValue=s,this._endValue=n,this._valueRange=n-s}getLabelForValue(e){return lo(e,this.chart.options.locale,this.options.ticks.format)}}class Wi extends gr{determineDataLimits(){const{min:e,max:s}=this.getMinMax(!0);this.min=ut(e)?e:0,this.max=ut(s)?s:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),s=e?this.width:this.height,n=fs(this.options.ticks.minRotation),a=(e?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(s/Math.min(40,i.lineHeight/a))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Ae(Wi,"id","linear"),Ae(Wi,"defaults",{ticks:{callback:jr.formatters.numeric}});const qi=t=>Math.floor(yn(t)),zn=(t,e)=>Math.pow(10,qi(t)+e);function Eh(t){return t/Math.pow(10,qi(t))===1}function $h(t,e,s){const n=Math.pow(10,s),a=Math.floor(t/n);return Math.ceil(e/n)-a}function O3(t,e){const s=e-t;let n=qi(s);for(;$h(t,e,n)>10;)n++;for(;$h(t,e,n)<10;)n--;return Math.min(n,qi(t))}function N3(t,{min:e,max:s}){e=Qt(t.min,e);const n=[],a=qi(e);let i=O3(e,s),o=i<0?Math.pow(10,Math.abs(i)):1;const r=Math.pow(10,i),l=a>i?Math.pow(10,a):0,c=Math.round((e-l)*o)/o,u=Math.floor((e-l)/r/10)*r*10;let f=Math.floor((c-u)/Math.pow(10,i)),h=Qt(t.min,Math.round((l+u+f*Math.pow(10,i))*o)/o);for(;h<s;)n.push({value:h,major:Eh(h),significand:f}),f>=10?f=f<15?15:20:f++,f>=20&&(i++,f=2,o=i>=0?1:o),h=Math.round((l+u+f*Math.pow(10,i))*o)/o;const p=Qt(t.max,h);return n.push({value:p,major:Eh(p),significand:f}),n}class Cd extends ua{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,s){const n=gr.prototype.parse.apply(this,[e,s]);if(n===0){this._zero=!0;return}return ut(n)&&n>0?n:null}determineDataLimits(){const{min:e,max:s}=this.getMinMax(!0);this.min=ut(e)?Math.max(0,e):null,this.max=ut(s)?Math.max(0,s):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!ut(this._userMin)&&(this.min=e===zn(this.min,0)?zn(this.min,-1):zn(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:s}=this.getUserBounds();let n=this.min,a=this.max;const i=r=>n=e?n:r,o=r=>a=s?a:r;n===a&&(n<=0?(i(1),o(10)):(i(zn(n,-1)),o(zn(a,1)))),n<=0&&i(zn(a,-1)),a<=0&&o(zn(n,1)),this.min=n,this.max=a}buildTicks(){const e=this.options,s={min:this._userMin,max:this._userMax},n=N3(s,this);return e.bounds==="ticks"&&C0(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(e){return e===void 0?"0":lo(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=yn(e),this._valueRange=yn(this.max)-yn(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(yn(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const s=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+s*this._valueRange)}}Ae(Cd,"id","logarithmic"),Ae(Cd,"defaults",{ticks:{callback:jr.formatters.logarithmic,major:{enabled:!0}}});function Sd(t){const e=t.ticks;if(e.display&&t.display){const s=Nt(e.backdropPadding);return Le(e.font&&e.font.size,rt.font.size)+s.height}return 0}function I3(t,e,s){return s=ot(s)?s:[s],{w:Hw(t,e.string,s),h:s.length*e.lineHeight}}function Mh(t,e,s,n,a){return t===n||t===a?{start:e-s/2,end:e+s/2}:t<n||t>a?{start:e-s,end:e}:{start:e,end:e+s}}function L3(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},s=Object.assign({},e),n=[],a=[],i=t._pointLabels.length,o=t.options.pointLabels,r=o.centerPointLabels?Ke/i:0;for(let l=0;l<i;l++){const c=o.setContext(t.getPointLabelContext(l));a[l]=c.padding;const u=t.getPointPosition(l,t.drawingArea+a[l],r),f=xt(c.font),h=I3(t.ctx,f,t._pointLabels[l]);n[l]=h;const p=At(t.getIndexAngle(l)+r),b=Math.round(pc(p)),m=Mh(b,u.x,h.w,0,180),g=Mh(b,u.y,h.h,90,270);F3(s,e,p,m,g)}t.setCenterPoint(e.l-s.l,s.r-e.r,e.t-s.t,s.b-e.b),t._pointLabelItems=j3(t,n,a)}function F3(t,e,s,n,a){const i=Math.abs(Math.sin(s)),o=Math.abs(Math.cos(s));let r=0,l=0;n.start<e.l?(r=(e.l-n.start)/i,t.l=Math.min(t.l,e.l-r)):n.end>e.r&&(r=(n.end-e.r)/i,t.r=Math.max(t.r,e.r+r)),a.start<e.t?(l=(e.t-a.start)/o,t.t=Math.min(t.t,e.t-l)):a.end>e.b&&(l=(a.end-e.b)/o,t.b=Math.max(t.b,e.b+l))}function B3(t,e,s){const n=t.drawingArea,{extra:a,additionalAngle:i,padding:o,size:r}=s,l=t.getPointPosition(e,n+a+o,i),c=Math.round(pc(At(l.angle+pt))),u=H3(l.y,r.h,c),f=U3(c),h=z3(l.x,r.w,f);return{visible:!0,x:l.x,y:u,textAlign:f,left:h,top:u,right:h+r.w,bottom:u+r.h}}function V3(t,e){if(!e)return!0;const{left:s,top:n,right:a,bottom:i}=t;return!(Js({x:s,y:n},e)||Js({x:s,y:i},e)||Js({x:a,y:n},e)||Js({x:a,y:i},e))}function j3(t,e,s){const n=[],a=t._pointLabels.length,i=t.options,{centerPointLabels:o,display:r}=i.pointLabels,l={extra:Sd(i)/2,additionalAngle:o?Ke/a:0};let c;for(let u=0;u<a;u++){l.padding=s[u],l.size=e[u];const f=B3(t,u,l);n.push(f),r==="auto"&&(f.visible=V3(f,c),f.visible&&(c=f))}return n}function U3(t){return t===0||t===180?"center":t<180?"left":"right"}function z3(t,e,s){return s==="right"?t-=e:s==="center"&&(t-=e/2),t}function H3(t,e,s){return s===90||s===270?t-=e/2:(s>270||s<90)&&(t-=e),t}function W3(t,e,s){const{left:n,top:a,right:i,bottom:o}=s,{backdropColor:r}=e;if(!He(r)){const l=ea(e.borderRadius),c=Nt(e.backdropPadding);t.fillStyle=r;const u=n-c.left,f=a-c.top,h=i-n+c.width,p=o-a+c.height;Object.values(l).some(b=>b!==0)?(t.beginPath(),Ui(t,{x:u,y:f,w:h,h:p,radius:l}),t.fill()):t.fillRect(u,f,h,p)}}function q3(t,e){const{ctx:s,options:{pointLabels:n}}=t;for(let a=e-1;a>=0;a--){const i=t._pointLabelItems[a];if(!i.visible)continue;const o=n.setContext(t.getPointLabelContext(a));W3(s,o,i);const r=xt(o.font),{x:l,y:c,textAlign:u}=i;oa(s,t._pointLabels[a],l,c+r.lineHeight/2,r,{color:o.color,textAlign:u,textBaseline:"middle"})}}function gm(t,e,s,n){const{ctx:a}=t;if(s)a.arc(t.xCenter,t.yCenter,e,0,it);else{let i=t.getPointPosition(0,e);a.moveTo(i.x,i.y);for(let o=1;o<n;o++)i=t.getPointPosition(o,e),a.lineTo(i.x,i.y)}}function G3(t,e,s,n,a){const i=t.ctx,o=e.circular,{color:r,lineWidth:l}=e;!o&&!n||!r||!l||s<0||(i.save(),i.strokeStyle=r,i.lineWidth=l,i.setLineDash(a.dash||[]),i.lineDashOffset=a.dashOffset,i.beginPath(),gm(t,s,o,n),i.closePath(),i.stroke(),i.restore())}function K3(t,e,s){return Pn(t,{label:s,index:e,type:"pointLabel"})}class li extends gr{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Nt(Sd(this.options)/2),s=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+s/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(s,n)/2)}determineDataLimits(){const{min:e,max:s}=this.getMinMax(!1);this.min=ut(e)&&!isNaN(e)?e:0,this.max=ut(s)&&!isNaN(s)?s:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Sd(this.options))}generateTickLabels(e){gr.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((s,n)=>{const a=nt(this.options.pointLabels.callback,[s,n],this);return a||a===0?a:""}).filter((s,n)=>this.chart.getDataVisibility(n))}fit(){const e=this.options;e.display&&e.pointLabels.display?L3(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,s,n,a){this.xCenter+=Math.floor((e-s)/2),this.yCenter+=Math.floor((n-a)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,s,n,a))}getIndexAngle(e){const s=it/(this._pointLabels.length||1),n=this.options.startAngle||0;return At(e*s+fs(n))}getDistanceFromCenterForValue(e){if(He(e))return NaN;const s=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*s:(e-this.min)*s}getValueForDistanceFromCenter(e){if(He(e))return NaN;const s=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-s:this.min+s}getPointLabelContext(e){const s=this._pointLabels||[];if(e>=0&&e<s.length){const n=s[e];return K3(this.getContext(),e,n)}}getPointPosition(e,s,n=0){const a=this.getIndexAngle(e)-pt+n;return{x:Math.cos(a)*s+this.xCenter,y:Math.sin(a)*s+this.yCenter,angle:a}}getPointPositionForValue(e,s){return this.getPointPosition(e,this.getDistanceFromCenterForValue(s))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:s,top:n,right:a,bottom:i}=this._pointLabelItems[e];return{left:s,top:n,right:a,bottom:i}}drawBackground(){const{backgroundColor:e,grid:{circular:s}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),gm(this,this.getDistanceFromCenterForValue(this._endValue),s,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,s=this.options,{angleLines:n,grid:a,border:i}=s,o=this._pointLabels.length;let r,l,c;if(s.pointLabels.display&&q3(this,o),a.display&&this.ticks.forEach((u,f)=>{if(f!==0||f===0&&this.min<0){l=this.getDistanceFromCenterForValue(u.value);const h=this.getContext(f),p=a.setContext(h),b=i.setContext(h);G3(this,p,l,o,b)}}),n.display){for(e.save(),r=o-1;r>=0;r--){const u=n.setContext(this.getPointLabelContext(r)),{color:f,lineWidth:h}=u;!h||!f||(e.lineWidth=h,e.strokeStyle=f,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(s.reverse?this.min:this.max),c=this.getPointPosition(r,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,s=this.options,n=s.ticks;if(!n.display)return;const a=this.getIndexAngle(0);let i,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(a),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((r,l)=>{if(l===0&&this.min>=0&&!s.reverse)return;const c=n.setContext(this.getContext(l)),u=xt(c.font);if(i=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=u.string,o=e.measureText(r.label).width,e.fillStyle=c.backdropColor;const f=Nt(c.backdropPadding);e.fillRect(-o/2-f.left,-i-u.size/2-f.top,o+f.width,u.size+f.height)}oa(e,r.label,0,-i,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),e.restore()}drawTitle(){}}Ae(li,"id","radialLinear"),Ae(li,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:jr.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),Ae(li,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Ae(li,"descriptors",{angleLines:{_fallback:"grid"}});const Yr={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Kt=Object.keys(Yr);function Th(t,e){return t-e}function Rh(t,e){if(He(e))return null;const s=t._adapter,{parser:n,round:a,isoWeekday:i}=t._parseOpts;let o=e;return typeof n=="function"&&(o=n(o)),ut(o)||(o=typeof n=="string"?s.parse(o,n):s.parse(o)),o===null?null:(a&&(o=a==="week"&&(Ba(i)||i===!0)?s.startOf(o,"isoWeek",i):s.startOf(o,a)),+o)}function Dh(t,e,s,n){const a=Kt.length;for(let i=Kt.indexOf(t);i<a-1;++i){const o=Yr[Kt[i]],r=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((s-e)/(r*o.size))<=n)return Kt[i]}return Kt[a-1]}function Y3(t,e,s,n,a){for(let i=Kt.length-1;i>=Kt.indexOf(s);i--){const o=Kt[i];if(Yr[o].common&&t._adapter.diff(a,n,o)>=e-1)return o}return Kt[s?Kt.indexOf(s):0]}function J3(t){for(let e=Kt.indexOf(t)+1,s=Kt.length;e<s;++e)if(Yr[Kt[e]].common)return Kt[e]}function Ph(t,e,s){if(!s)t[e]=!0;else if(s.length){const{lo:n,hi:a}=gc(s,e),i=s[n]>=e?s[n]:s[a];t[i]=!0}}function X3(t,e,s,n){const a=t._adapter,i=+a.startOf(e[0].value,n),o=e[e.length-1].value;let r,l;for(r=i;r<=o;r=+a.add(r,1,n))l=s[r],l>=0&&(e[l].major=!0);return e}function Oh(t,e,s){const n=[],a={},i=e.length;let o,r;for(o=0;o<i;++o)r=e[o],a[r]=o,n.push({value:r,major:!1});return i===0||!s?n:X3(t,n,a,s)}class Gi extends ua{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,s={}){const n=e.time||(e.time={}),a=this._adapter=new rC._date(e.adapters.date);a.init(s),vi(n.displayFormats,a.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=s.normalized}parse(e,s){return e===void 0?null:Rh(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,s=this._adapter,n=e.time.unit||"day";let{min:a,max:i,minDefined:o,maxDefined:r}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(a=Math.min(a,c.min)),!r&&!isNaN(c.max)&&(i=Math.max(i,c.max))}(!o||!r)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),a=ut(a)&&!isNaN(a)?a:+s.startOf(Date.now(),n),i=ut(i)&&!isNaN(i)?i:+s.endOf(Date.now(),n)+1,this.min=Math.min(a,i-1),this.max=Math.max(a+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let s=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(s=e[0],n=e[e.length-1]),{min:s,max:n}}buildTicks(){const e=this.options,s=e.time,n=e.ticks,a=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const i=this.min,o=this.max,r=Rw(a,i,o);return this._unit=s.unit||(n.autoSkip?Dh(s.minUnit,this.min,this.max,this._getLabelCapacity(i)):Y3(this,r.length,s.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:J3(this._unit),this.initOffsets(a),e.reverse&&r.reverse(),Oh(this,r,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let s=0,n=0,a,i;this.options.offset&&e.length&&(a=this.getDecimalForValue(e[0]),e.length===1?s=1-a:s=(this.getDecimalForValue(e[1])-a)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?n=i:n=(i-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;s=kt(s,0,o),n=kt(n,0,o),this._offsets={start:s,end:n,factor:1/(s+1+n)}}_generate(){const e=this._adapter,s=this.min,n=this.max,a=this.options,i=a.time,o=i.unit||Dh(i.minUnit,s,n,this._getLabelCapacity(s)),r=Le(a.ticks.stepSize,1),l=o==="week"?i.isoWeekday:!1,c=Ba(l)||l===!0,u={};let f=s,h,p;if(c&&(f=+e.startOf(f,"isoWeek",l)),f=+e.startOf(f,c?"day":o),e.diff(n,s,o)>1e5*r)throw new Error(s+" and "+n+" are too far apart with stepSize of "+r+" "+o);const b=a.ticks.source==="data"&&this.getDataTimestamps();for(h=f,p=0;h<n;h=+e.add(h,r,o),p++)Ph(u,h,b);return(h===n||a.bounds==="ticks"||p===1)&&Ph(u,h,b),Object.keys(u).sort(Th).map(m=>+m)}getLabelForValue(e){const s=this._adapter,n=this.options.time;return n.tooltipFormat?s.format(e,n.tooltipFormat):s.format(e,n.displayFormats.datetime)}format(e,s){const a=this.options.time.displayFormats,i=this._unit,o=s||a[i];return this._adapter.format(e,o)}_tickFormatFunction(e,s,n,a){const i=this.options,o=i.ticks.callback;if(o)return nt(o,[e,s,n],this);const r=i.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&r[l],f=c&&r[c],h=n[s],p=c&&f&&h&&h.major;return this._adapter.format(e,a||(p?f:u))}generateTickLabels(e){let s,n,a;for(s=0,n=e.length;s<n;++s)a=e[s],a.label=this._tickFormatFunction(a.value,s,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const s=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((s.start+n)*s.factor)}getValueForPixel(e){const s=this._offsets,n=this.getDecimalForPixel(e)/s.factor-s.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const s=this.options.ticks,n=this.ctx.measureText(e).width,a=fs(this.isHorizontal()?s.maxRotation:s.minRotation),i=Math.cos(a),o=Math.sin(a),r=this._resolveTickFontOptions(0).size;return{w:n*i+r*o,h:n*o+r*i}}_getLabelCapacity(e){const s=this.options.time,n=s.displayFormats,a=n[s.unit]||n.millisecond,i=this._tickFormatFunction(e,0,Oh(this,[e],this._majorUnit),a),o=this._getLabelSize(i),r=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return r>0?r:1}getDataTimestamps(){let e=this._cache.data||[],s,n;if(e.length)return e;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(s=0,n=a.length;s<n;++s)e=e.concat(a[s].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let s,n;if(e.length)return e;const a=this.getLabels();for(s=0,n=a.length;s<n;++s)e.push(Rh(this,a[s]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return E0(e.sort(Th))}}Ae(Gi,"id","time"),Ae(Gi,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Ro(t,e,s){let n=0,a=t.length-1,i,o,r,l;s?(e>=t[n].pos&&e<=t[a].pos&&({lo:n,hi:a}=Ys(t,"pos",e)),{pos:i,time:r}=t[n],{pos:o,time:l}=t[a]):(e>=t[n].time&&e<=t[a].time&&({lo:n,hi:a}=Ys(t,"time",e)),{time:i,pos:r}=t[n],{time:o,pos:l}=t[a]);const c=o-i;return c?r+(l-r)*(e-i)/c:r}class Ad extends Gi{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),s=this._table=this.buildLookupTable(e);this._minPos=Ro(s,this.min),this._tableRange=Ro(s,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:s,max:n}=this,a=[],i=[];let o,r,l,c,u;for(o=0,r=e.length;o<r;++o)c=e[o],c>=s&&c<=n&&a.push(c);if(a.length<2)return[{time:s,pos:0},{time:n,pos:1}];for(o=0,r=a.length;o<r;++o)u=a[o+1],l=a[o-1],c=a[o],Math.round((u+l)/2)!==c&&i.push({time:c,pos:o/(r-1)});return i}_generate(){const e=this.min,s=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(s)||n.length===1)&&n.push(s),n.sort((a,i)=>a-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const s=this.getDataTimestamps(),n=this.getLabelTimestamps();return s.length&&n.length?e=this.normalize(s.concat(n)):e=s.length?s:n,e=this._cache.all=e,e}getDecimalForValue(e){return(Ro(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const s=this._offsets,n=this.getDecimalForPixel(e)/s.factor-s.end;return Ro(this._table,n*this._tableRange+this._minPos,!0)}}Ae(Ad,"id","timeseries"),Ae(Ad,"defaults",Gi.defaults);var Q3=Object.freeze({__proto__:null,CategoryScale:Hi,LinearScale:Wi,LogarithmicScale:Cd,RadialLinearScale:li,TimeScale:Gi,TimeSeriesScale:Ad});const Z3=[oC,IS,M3,Q3];let Nh=!1;function eA(){Nh||(Ut.register(...Z3),Nh=!0)}const si={__name:"ChartCanvas",props:{type:{type:String,required:!0},data:{type:Object,required:!0},options:{type:Object,default:()=>({})},height:{type:Number,default:260}},setup(t){const e=t,s=D(null);let n=null;function a(){if(!s.value)return;eA(),n&&(n.destroy(),n=null);const i=document.documentElement.classList.contains("dark");n=new Ut(s.value.getContext("2d"),{type:e.type,data:e.data,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"bottom",labels:{color:i?"#e5e7eb":"#0f172a"}},tooltip:{enabled:!0}},scales:{x:{grid:{color:i?"rgba(148,163,184,0.15)":"rgba(148,163,184,0.3)"},ticks:{color:i?"#e5e7eb":"#0f172a"}},y:{grid:{color:i?"rgba(148,163,184,0.15)":"rgba(148,163,184,0.3)"},ticks:{color:i?"#e5e7eb":"#0f172a"}}},...e.options}})}return je(a),sn(()=>{n&&n.destroy()}),qe(()=>[e.type,e.data,e.options],()=>a(),{deep:!0}),(i,o)=>(v(),w("div",{style:vs({height:`${t.height}px`}),class:"relative"},[d("canvas",{ref_key:"canvasRef",ref:s},null,512)],4))}},tA={class:"space-y-4 mb-6"},sA={class:"flex flex-wrap items-start justify-between gap-4"},nA={class:"flex-1 min-w-0"},aA={class:"flex items-center gap-3"},iA={class:"min-w-0"},oA={class:"text-2xl md:text-3xl font-bold text-slate-900 dark:text-slate-100 truncate"},rA={key:0,class:"mt-1 text-sm text-slate-600 dark:text-slate-400"},lA={key:0,class:"flex items-center gap-2 flex-shrink-0"},cs={__name:"PageHeader",props:{title:{type:String,required:!0},subtitle:{type:String,default:""},icon:{type:Object,default:null},showBreadcrumbs:{type:Boolean,default:!0},breadcrumbItems:{type:Array,default:null}},setup(t){return(e,s)=>{const n=Ps("Breadcrumbs");return v(),w("div",tA,[t.showBreadcrumbs?(v(),$e(n,{key:0,items:t.breadcrumbItems},null,8,["items"])):de("",!0),d("div",sA,[d("div",nA,[d("div",aA,[t.icon?(v(),$e($t(t.icon),{key:0,class:"w-8 h-8 text-brand-600 dark:text-brand-400 flex-shrink-0"})):de("",!0),d("div",iA,[d("h1",oA,$(t.title),1),t.subtitle||e.$slots.subtitle?(v(),w("p",rA,[Cn(e.$slots,"subtitle",{},()=>[Q($(t.subtitle),1)])])):de("",!0)])])]),e.$slots.actions?(v(),w("div",lA,[Cn(e.$slots,"actions")])):de("",!0)]),s[0]||(s[0]=d("div",{class:"divider"},null,-1))])}}},dA=["disabled"],cA={key:0,class:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},uA={key:2},me={__name:"BaseButton",props:{variant:{type:String,default:"primary",validator:t=>["primary","success","danger","warning","outline","ghost"].includes(t)},size:{type:String,default:"md",validator:t=>["sm","md","lg"].includes(t)},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},block:{type:Boolean,default:!1},icon:{type:Object,default:null},iconRight:{type:Object,default:null}},emits:["click"],setup(t,{emit:e}){const s=t,n=e,a=he(()=>{const r=["btn"];return r.push(`btn-${s.variant}`),s.size==="sm"&&r.push("btn-sm"),s.size==="lg"&&r.push("btn-lg"),s.block&&r.push("w-full"),r.join(" ")}),i=he(()=>s.disabled||s.loading);function o(r){i.value||n("click",r)}return(r,l)=>(v(),w("button",{class:Ee(a.value),disabled:i.value,onClick:o,type:"button"},[t.loading?(v(),w("svg",cA,[...l[0]||(l[0]=[d("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),d("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):de("",!0),t.icon&&!t.loading?(v(),$e($t(t.icon),{key:1,class:"w-4 h-4"})):de("",!0),r.$slots.default?(v(),w("span",uA,[Cn(r.$slots,"default")])):de("",!0),t.iconRight?(v(),$e($t(t.iconRight),{key:3,class:"w-4 h-4"})):de("",!0)],10,dA))}},fA={class:"space-y-1"},hA={class:"relative"},pA=["value","disabled"],gA={value:"",disabled:""},mA=["value"],bA={key:1,class:"text-xs text-danger-600 dark:text-danger-400 flex items-center gap-1"},vA={key:2,class:"text-xs text-slate-500 dark:text-slate-400"},mt={__name:"BaseSelect",props:{modelValue:{type:[String,Number,Boolean],default:""},options:{type:Array,required:!0,default:()=>[]},label:{type:String,default:""},placeholder:{type:String,default:"..."},error:{type:String,default:""},hint:{type:String,default:""},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},valueKey:{type:String,default:"value"},labelKey:{type:String,default:"label"}},emits:["update:modelValue","change"],setup(t,{emit:e}){const s=t,n=e,a=he(()=>!!s.error);function i(o){const r=o.target.value;n("update:modelValue",r),n("change",r)}return(o,r)=>(v(),w("div",fA,[t.label?(v(),w("label",{key:0,class:Ee(["label",{"label-required":t.required}])},$(t.label),3)):de("",!0),d("div",hA,[d("select",{value:t.modelValue,disabled:t.disabled,class:Ee(["select appearance-none pr-10",{"input-error":a.value}]),onChange:i},[d("option",gA,$(t.placeholder),1),(v(!0),w(be,null,ke(t.options,(l,c)=>(v(),w("option",{key:c,value:typeof l=="object"?l[t.valueKey]:l},$(typeof l=="object"?l[t.labelKey]:l),9,mA))),128))],42,pA),d("div",{class:Ee(["absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none",a.value?"text-danger-500":"text-slate-400 dark:text-slate-500"])},[S(B(ld),{class:"w-4 h-4"})],2)]),t.error?(v(),w("p",bA,[S(B(Oa),{class:"w-3 h-3"}),Q(" "+$(t.error),1)])):t.hint?(v(),w("p",vA,$(t.hint),1)):de("",!0)]))}},yA={class:"flex items-center justify-center"},Os={__name:"LoadingSpinner",props:{size:{type:String,default:"md",validator:t=>["sm","md","lg"].includes(t)}},setup(t){const e={sm:"w-5 h-5",md:"w-8 h-8",lg:"w-12 h-12"};return(s,n)=>(v(),w("div",yA,[(v(),w("svg",{class:Ee(["animate-spin",e[t.size]]),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[...n[0]||(n[0]=[d("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),d("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])],2))]))}},xA={class:"flex flex-col items-center justify-center py-12 px-4 text-center"},_A={class:"w-16 h-16 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center mb-4"},kA={key:1,class:"w-8 h-8 text-slate-400 dark:text-slate-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},wA={class:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-2"},CA={key:0,class:"text-sm text-slate-600 dark:text-slate-400 max-w-md mb-6"},fa={__name:"EmptyState",props:{icon:{type:Object,default:null},title:{type:String,default:"  "},message:{type:String,default:""},actionText:{type:String,default:""}},emits:["action"],setup(t,{emit:e}){const s=e;function n(){s("action")}return(a,i)=>(v(),w("div",xA,[d("div",_A,[t.icon?(v(),$e($t(t.icon),{key:0,class:"w-8 h-8 text-slate-400 dark:text-slate-600"})):(v(),w("svg",kA,[...i[0]||(i[0]=[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"},null,-1)])]))]),d("h3",wA,$(t.title),1),t.message||a.$slots.default?(v(),w("p",CA,[Cn(a.$slots,"default",{},()=>[Q($(t.message),1)])])):de("",!0),t.actionText?(v(),w("button",{key:1,type:"button",class:"btn btn-primary",onClick:n},$(t.actionText),1)):de("",!0)]))}},SA={class:"p-6 space-y-4"},AA={key:0,class:"rounded-xl border border-red-200 bg-red-50 p-3 text-red-700"},EA={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4"},$A={class:"flex items-center justify-between"},MA={class:"text-sm text-slate-600 dark:text-slate-400 font-medium"},TA={class:"mt-2 text-3xl font-extrabold tabular-nums text-slate-900 dark:text-slate-100"},RA={class:"grid grid-cols-1 lg:grid-cols-2 gap-4"},DA={class:"card p-6 bg-gradient-to-br from-white to-slate-50 dark:from-slate-900 dark:to-slate-800 border-2 border-slate-100 dark:border-slate-700 shadow-xl"},PA={class:"flex items-center justify-between mb-4"},OA={class:"flex items-center gap-2"},NA={class:"px-3 py-1 bg-brand-100 dark:bg-brand-900/30 text-brand-700 dark:text-brand-300 rounded-full text-xs font-bold"},IA={class:"mt-4"},LA={class:"card p-6 bg-gradient-to-br from-white to-slate-50 dark:from-slate-900 dark:to-slate-800 border-2 border-slate-100 dark:border-slate-700 shadow-xl"},FA={class:"flex items-center justify-between mb-4"},BA={class:"flex items-center gap-2"},VA={class:"mt-4"},jA={class:"grid grid-cols-1 lg:grid-cols-2 gap-4"},UA={class:"card p-6 bg-gradient-to-br from-white to-slate-50 dark:from-slate-900 dark:to-slate-800 border-2 border-slate-100 dark:border-slate-700 shadow-xl"},zA={class:"flex items-center justify-between"},HA={class:"flex items-center gap-2"},WA={class:"flex items-center gap-2"},qA={class:"text-xs text-slate-500"},GA={key:0,class:"mt-3 rounded-lg border border-red-200 bg-red-50 p-2 text-xs text-red-700"},KA={class:"mt-5"},YA={key:1,class:"h-44 flex items-end gap-3"},JA=["title"],XA={class:"mt-2 text-center text-xs text-slate-700"},QA={class:"text-center text-xs font-semibold tabular-nums"},ZA={class:"card p-6 bg-gradient-to-br from-white to-slate-50 dark:from-slate-900 dark:to-slate-800 border-2 border-slate-100 dark:border-slate-700 shadow-xl"},e5={class:"flex items-center gap-2 mb-4"},t5={class:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4"},s5={class:"card p-6 bg-gradient-to-br from-white to-slate-50 dark:from-slate-900 dark:to-slate-800 border-2 border-slate-100 dark:border-slate-700 shadow-xl"},n5={class:"flex flex-col md:flex-row md:items-center md:justify-between gap-3"},a5={class:"flex items-center gap-2"},i5={class:"flex flex-wrap items-center gap-2"},o5={key:0,class:"mt-3 rounded-lg border border-red-200 bg-red-50 p-2 text-xs text-red-700"},r5={class:"mt-4"},l5={class:"card p-6 bg-gradient-to-br from-white to-slate-50 dark:from-slate-900 dark:to-slate-800 border-2 border-slate-100 dark:border-slate-700 shadow-xl"},d5={class:"flex items-center justify-between mb-4"},c5={class:"flex items-center gap-2"},u5={class:"px-3 py-1 bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-300 rounded-full text-xs font-bold"},f5={class:"mt-4 grid grid-cols-1 md:grid-cols-4 gap-3"},h5={class:"rounded-2xl border-2 border-emerald-200 dark:border-emerald-800 bg-gradient-to-br from-emerald-50 to-emerald-100 dark:from-emerald-950/30 dark:to-emerald-900/30 p-4 shadow-md hover:shadow-lg transition"},p5={class:"text-2xl font-extrabold tabular-nums text-emerald-900 dark:text-emerald-100"},g5={class:"rounded-2xl border-2 border-blue-200 dark:border-blue-800 bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950/30 dark:to-blue-900/30 p-4 shadow-md hover:shadow-lg transition"},m5={class:"text-2xl font-extrabold tabular-nums text-blue-900 dark:text-blue-100"},b5={class:"rounded-2xl border-2 border-amber-200 dark:border-amber-800 bg-gradient-to-br from-amber-50 to-amber-100 dark:from-amber-950/30 dark:to-amber-900/30 p-4 shadow-md hover:shadow-lg transition"},v5={class:"text-2xl font-extrabold tabular-nums text-amber-900 dark:text-amber-100"},y5={class:"rounded-2xl border-2 border-rose-200 dark:border-rose-800 bg-gradient-to-br from-rose-50 to-rose-100 dark:from-rose-950/30 dark:to-rose-900/30 p-4 shadow-md hover:shadow-lg transition"},x5={class:"text-2xl font-extrabold tabular-nums text-rose-900 dark:text-rose-100"},_5={__name:"Dashboard",setup(t){const e=D(!1),s=D(""),n=D(null),a=D(!1),i=D([]),o=D([]),r=D(!1),l=D(""),c=D(""),u=D(""),f=D([]),h=D(!1),p=D(""),b=D(""),m=D([]),g=D(null),y=he(()=>{var H,se,xe,ge;const M=n.value;return M?[{title:"",value:((H=M.students)==null?void 0:H.total)??0,icon:zt,color:"text-brand-700 bg-brand-50"},{title:"",value:((se=M.teachers)==null?void 0:se.total)??0,icon:ir,color:"text-emerald-700 bg-emerald-50"},{title:"",value:((xe=M.campaigns)==null?void 0:xe.total)??0,icon:Xt,color:"text-indigo-700 bg-indigo-50"},{title:"",value:((ge=M.messages)==null?void 0:ge.total)??0,icon:lf,color:"text-amber-700 bg-amber-50"}]:[]}),C=he(()=>{var z,ae;const M=((ae=(z=n.value)==null?void 0:z.messages)==null?void 0:ae.by_status)||{},H=Number(M.SENT||0),se=Number(M.FAILED||0),xe=Number(M.PENDING||0),ge=Number(M.SKIPPED||0);return{total:H+se+xe+ge,sent:H,failed:se,pending:xe,skipped:ge}}),k=he(()=>{var z,ae;const M=((ae=(z=n.value)==null?void 0:z.campaigns)==null?void 0:ae.by_status)||{},H=Number(M.DONE||0),se=Number(M.SENDING||0),xe=Number(M.QUEUED||0),ge=Number(M.FAILED||0);return{total:H+se+xe+ge,done:H,sending:se,queued:xe,failed:ge}}),x=he(()=>{var G,z,ae,te,j;const M=((G=g.value)==null?void 0:G.by_status)||((z=g.value)==null?void 0:z.inactive_by_status)||((te=(ae=n.value)==null?void 0:ae.students)==null?void 0:te.by_status)||{},se=[{key:"INCOMING",name:"",cls:"bg-sky-500"},{key:"REFERRED",name:"",cls:"bg-violet-500"},{key:"ADDED",name:" ()",cls:"bg-emerald-500"},{key:"DELETED",name:" ()",cls:"bg-fuchsia-500"},{key:"NOT_ENROLLED",name:" ",cls:"bg-slate-500"},{key:"LEFT",name:"",cls:"bg-amber-500"},{key:"DROPPED",name:"",cls:"bg-red-500"}].map(A=>({...A,value:Number(M[A.key]||0)})).filter(A=>A.value>0),xe=Math.max(1,...se.map(A=>A.value)),ge=Number(((j=g.value)==null?void 0:j.total)??se.reduce((A,O)=>A+O.value,0));return{items:se,max:xe,total:ge}}),_=he(()=>{var xe,ge,G,z;const M=((ge=(xe=n.value)==null?void 0:xe.students)==null?void 0:ge.by_gender)||{},H=((z=(G=n.value)==null?void 0:G.teachers)==null?void 0:z.by_gender)||{},se=ae=>{const te=Number(ae.MALE||0),j=Number(ae.FEMALE||0),A=Number(ae.UNKNOWN||0),O=te+j+A,X=[{key:"MALE",label:"",value:te},{key:"FEMALE",label:"",value:j},{key:"UNKNOWN",label:" ",value:A}].filter(re=>re.value>0);return{total:O,items:X}};return{students:se(M),teachers:se(H)}}),T=he(()=>{var M;return((M=n.value)==null?void 0:M.last7Days)||[]}),E=he(()=>{const M=C.value;return{labels:[" ",""," "," "],datasets:[{data:[M.sent,M.failed,M.pending,M.skipped],backgroundColor:["#22c55e","#ef4444","#94a3b8","#f59e0b"],borderWidth:0}]}}),R=he(()=>{const M=T.value||[];return{labels:M.map(H=>J(H.date)),datasets:[{label:" ",data:M.map(H=>Number(H.sent||0)),backgroundColor:"#22c55e",stack:"s"},{label:"",data:M.map(H=>Number(H.failed||0)),backgroundColor:"#ef4444",stack:"s"},{label:" ",data:M.map(H=>Number(H.skipped||0)),backgroundColor:"#f59e0b",stack:"s"}]}}),I=he(()=>{const M=f.value||[];return{labels:M.map(H=>J(H.date)),datasets:[{label:"  %",data:M.map(H=>Number(H.rate||0)),borderColor:"#ef4444",backgroundColor:"rgba(239,68,68,.15)",fill:!0,tension:.35}]}}),P=he(()=>{const M=_.value.students;return{labels:M.items.map(H=>H.label),datasets:[{data:M.items.map(H=>H.value),backgroundColor:["#3b82f6","#ec4899","#94a3b8"],borderWidth:0}]}}),q=he(()=>{const M=_.value.teachers;return{labels:M.items.map(H=>H.label),datasets:[{data:M.items.map(H=>H.value),backgroundColor:["#3b82f6","#ec4899","#94a3b8"],borderWidth:0}]}});function J(M){try{return new Date(M).toLocaleDateString("ar",{weekday:"short",day:"2-digit",month:"2-digit"})}catch{return M}}async function U(){var M,H;e.value=!0,s.value="";try{const se=await le.get("/dashboard/overview");n.value=se.data}catch(se){const xe=((H=(M=se==null?void 0:se.response)==null?void 0:M.data)==null?void 0:H.message)||se.message||"  .";s.value=xe,oe.showAlert("error","",xe)}finally{e.value=!1}}async function V(){var M;a.value=!0;try{const se=((M=(await le.get("/students",{params:{}})).data)==null?void 0:M.options)||{};i.value=Array.isArray(se.levels)?se.levels:[],o.value=Array.isArray(se.classes)?se.classes:[]}catch{i.value=[],o.value=[]}finally{a.value=!1}}async function ee(){var M,H,se;r.value=!0,l.value="";try{const xe=await le.get("/dashboard/absence-rate-last7",{params:{level:c.value||void 0,class_name:u.value||void 0}});f.value=Array.isArray((M=xe.data)==null?void 0:M.days)?xe.data.days:[]}catch(xe){l.value=((se=(H=xe==null?void 0:xe.response)==null?void 0:H.data)==null?void 0:se.message)||xe.message||"   ",f.value=[]}finally{r.value=!1}}async function K(){var M,H,se,xe,ge,G;h.value=!0,p.value="";try{const z=await le.get("/dashboard/student-mobility",{params:{level:b.value||void 0}});m.value=Array.isArray((M=z.data)==null?void 0:M.levels)?z.data.levels:[],g.value={by_status:((H=z.data)==null?void 0:H.by_status)||((se=z.data)==null?void 0:se.inactive_by_status)||{},total:Number(((xe=z.data)==null?void 0:xe.total)||0)}}catch(z){p.value=((G=(ge=z==null?void 0:z.response)==null?void 0:ge.data)==null?void 0:G.message)||z.message||"   "}finally{h.value=!1}}return je(U),je(K),je(V),je(ee),(M,H)=>(v(),w("div",SA,[S(cs,{title:" ",subtitle:"    ",icon:B(Qg)},{actions:ne(()=>[S(me,{variant:"primary",onClick:U,disabled:e.value,loading:e.value},{default:ne(()=>[S(B(ds),{class:"w-4 h-4"}),H[3]||(H[3]=Q("  ",-1))]),_:1},8,["disabled","loading"])]),_:1},8,["icon"]),s.value?(v(),w("div",AA,$(s.value),1)):de("",!0),d("div",EA,[(v(!0),w(be,null,ke(y.value,se=>(v(),w("div",{key:se.title,class:"card p-5 hover:shadow-xl transition-all transform hover:-translate-y-1 bg-gradient-to-br from-white to-slate-50 dark:from-slate-900 dark:to-slate-800 border-2 border-slate-100 dark:border-slate-700"},[d("div",$A,[d("div",null,[d("div",MA,$(se.title),1),d("div",TA,$(se.value),1)]),d("div",{class:Ee(["h-14 w-14 rounded-2xl flex items-center justify-center shadow-lg",se.color])},[(v(),$e($t(se.icon),{class:"h-6 w-6"}))],2)])]))),128))]),d("div",RA,[d("div",DA,[d("div",PA,[d("div",OA,[S(B(lf),{class:"w-5 h-5 text-brand-600 dark:text-brand-400"}),H[4]||(H[4]=d("span",{class:"font-bold text-lg text-slate-900 dark:text-slate-100"}," ",-1))]),d("div",NA,": "+$(C.value.total),1)]),d("div",IA,[S(si,{type:"doughnut",data:E.value,options:{cutout:"65%",plugins:{legend:{position:"bottom"}}},height:260},null,8,["data"])])]),d("div",LA,[d("div",FA,[d("div",BA,[S(B(Xt),{class:"w-5 h-5 text-indigo-600 dark:text-indigo-400"}),H[5]||(H[5]=d("span",{class:"font-bold text-lg text-slate-900 dark:text-slate-100"}," 7 ",-1))]),H[6]||(H[6]=d("div",{class:"text-xs text-slate-600 dark:text-slate-400"},"  /  /  ",-1))]),d("div",VA,[S(si,{type:"bar",data:R.value,options:{scales:{x:{stacked:!0},y:{stacked:!0,ticks:{precision:0}}},plugins:{legend:{position:"bottom"}}},height:280},null,8,["data"])])])]),d("div",jA,[d("div",UA,[d("div",zA,[d("div",HA,[S(B(zt),{class:"w-5 h-5 text-emerald-600 dark:text-emerald-400"}),H[7]||(H[7]=d("span",{class:"font-bold text-lg text-slate-900 dark:text-slate-100"}," ",-1))]),d("div",WA,[d("div",qA,": "+$(x.value.total),1),m.value.length?(v(),$e(mt,{key:0,modelValue:b.value,"onUpdate:modelValue":H[0]||(H[0]=se=>b.value=se),options:[{value:"",label:" "},...m.value.map(se=>({value:se,label:se}))],onChange:K,size:"sm"},null,8,["modelValue","options"])):de("",!0)])]),p.value?(v(),w("div",GA,$(p.value),1)):de("",!0),d("div",KA,[h.value?(v(),$e(Os,{key:0,size:"sm",message:" ..."})):(v(),w("div",YA,[(v(!0),w(be,null,ke(x.value.items,se=>(v(),w("div",{key:se.key,class:"flex-1 h-full flex flex-col justify-end"},[d("div",{class:Ee(["w-full rounded-xl",se.cls]),style:vs({height:`${se.value/x.value.max*100}%`}),title:`${se.name}: ${se.value}`},null,14,JA),d("div",XA,$(se.name),1),d("div",QA,$(se.value),1)]))),128))]))])]),d("div",ZA,[d("div",e5,[S(B(ir),{class:"w-5 h-5 text-purple-600 dark:text-purple-400"}),H[8]||(H[8]=d("span",{class:"font-bold text-lg text-slate-900 dark:text-slate-100"},"  ",-1))]),d("div",t5,[d("div",null,[H[9]||(H[9]=d("div",{class:"text-sm font-semibold text-center mb-2"},"",-1)),S(si,{type:"doughnut",data:P.value,options:{cutout:"62%",plugins:{legend:{position:"bottom"}}},height:200},null,8,["data"])]),d("div",null,[H[10]||(H[10]=d("div",{class:"text-sm font-semibold text-center mb-2"},"",-1)),S(si,{type:"doughnut",data:q.value,options:{cutout:"62%",plugins:{legend:{position:"bottom"}}},height:200},null,8,["data"])])])])]),d("div",s5,[d("div",n5,[d("div",a5,[S(B(zt),{class:"w-5 h-5 text-red-600 dark:text-red-400"}),H[11]||(H[11]=d("div",null,[d("div",{class:"font-bold text-lg text-slate-900 dark:text-slate-100"},"  ( 7 )"),d("div",{class:"text-xs text-slate-600 dark:text-slate-400"},"     ")],-1))]),d("div",i5,[S(mt,{modelValue:c.value,"onUpdate:modelValue":H[1]||(H[1]=se=>c.value=se),options:[{value:"",label:" "},...i.value.map(se=>({value:se,label:se}))],onChange:ee,disabled:a.value,size:"sm"},null,8,["modelValue","options","disabled"]),S(mt,{modelValue:u.value,"onUpdate:modelValue":H[2]||(H[2]=se=>u.value=se),options:[{value:"",label:" "},...o.value.map(se=>({value:se,label:se}))],onChange:ee,disabled:a.value,size:"sm"},null,8,["modelValue","options","disabled"]),S(me,{variant:"secondary",onClick:ee,disabled:r.value,loading:r.value,size:"sm"},{default:ne(()=>[...H[12]||(H[12]=[Q("  ",-1)])]),_:1},8,["disabled","loading"])])]),l.value?(v(),w("div",o5,$(l.value),1)):de("",!0),d("div",r5,[r.value?(v(),$e(Os,{key:0,size:"sm",message:" ..."})):f.value.length?(v(),$e(si,{key:2,type:"line",data:I.value,options:{plugins:{legend:{position:"bottom"}},scales:{y:{suggestedMin:0,suggestedMax:100}}},height:280},null,8,["data"])):(v(),$e(fa,{key:1,message:"  ",size:"sm"}))])]),d("div",l5,[d("div",d5,[d("div",c5,[S(B(Xt),{class:"w-5 h-5 text-amber-600 dark:text-amber-400"}),H[13]||(H[13]=d("span",{class:"font-bold text-lg text-slate-900 dark:text-slate-100"}," ",-1))]),d("div",u5,": "+$(k.value.total),1)]),d("div",f5,[d("div",h5,[H[14]||(H[14]=d("div",{class:"text-xs text-emerald-700 dark:text-emerald-300 font-medium"},"",-1)),d("div",p5,$(k.value.done),1)]),d("div",g5,[H[15]||(H[15]=d("div",{class:"text-xs text-blue-700 dark:text-blue-300 font-medium"}," ",-1)),d("div",m5,$(k.value.sending),1)]),d("div",b5,[H[16]||(H[16]=d("div",{class:"text-xs text-amber-700 dark:text-amber-300 font-medium"}," ",-1)),d("div",v5,$(k.value.queued),1)]),d("div",y5,[H[17]||(H[17]=d("div",{class:"text-xs text-rose-700 dark:text-rose-300 font-medium"},"",-1)),d("div",x5,$(k.value.failed),1)])])])]))}},k5={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 p-4"},w5={class:"w-full max-w-2xl rounded-2xl bg-white shadow-xl overflow-hidden"},C5={class:"flex items-center justify-between border-b p-4"},S5={class:"p-4 space-y-4"},A5={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},E5=["value"],$5=["disabled"],M5={key:0,value:"ABSENCE"},T5={key:1,value:"ABSENCE"},R5={class:"mt-2 text-xs text-gray-500"},D5={key:0},P5={key:1},O5={class:"flex items-center gap-3"},N5={key:0,class:"text-sm text-gray-600"},I5={key:1,class:"text-sm text-green-700"},L5={key:0},F5={class:"flex gap-4 mt-1"},B5={class:"flex items-center gap-1"},V5={class:"flex items-center gap-1"},j5={class:"flex items-center gap-1"},U5={key:0,class:"text-sm text-red-600 mt-2"},z5={key:1,class:"text-sm text-blue-600 bg-blue-50 p-3 rounded-lg"},H5={class:"flex justify-end gap-2 border-t p-4"},W5=["disabled"],q5={key:0},G5={key:1},mm={__name:"MessageModal",props:{open:Boolean,templates:Array,defaultMode:{type:String,default:"GENERAL"},lockedMode:{type:String,default:""},sending:{type:Boolean,default:!1},audience:{type:String,default:"students"}},emits:["close","send"],setup(t,{emit:e}){const s=t,n=e,a=D(""),i=D(s.defaultMode),o=D(""),r=D(null),l=D(!1),c=D([]),u=D("");qe(()=>s.open,b=>{b&&(a.value="",o.value="",r.value=null,i.value=s.lockedMode||s.defaultMode,c.value=[],u.value="")});function f(){const b=(s.templates||[]).find(m=>String(m.id)===String(o.value));b&&(a.value=b.body)}async function h(b){var g;const m=(g=b.target.files)==null?void 0:g[0];if(m){l.value=!0;try{const y=new FormData;y.append("file",m);const C=await le.post("/media/upload",y);r.value=C.data.path}finally{l.value=!1}}}function p(){if(!s.sending){if(s.audience==="students"&&(!c.value||c.value.length===0)){u.value="     .";return}n("send",{message_body:a.value,mode:s.lockedMode||i.value,media_path:r.value,recipients:s.audience==="teachers"?[]:c.value})}}return(b,m)=>t.open?(v(),w("div",k5,[d("div",w5,[d("div",C5,[m[8]||(m[8]=d("div",{class:"font-bold"}," ",-1)),d("button",{class:"btn btn-outline px-3 py-2",onClick:m[0]||(m[0]=g=>n("close")),"aria-label":""},[S(B(Ot),{class:"h-4 w-4"})])]),d("div",S5,[d("div",A5,[d("div",null,[m[10]||(m[10]=d("label",{class:"text-sm text-gray-600"},"",-1)),Ce(d("select",{"onUpdate:modelValue":m[1]||(m[1]=g=>o.value=g),class:"select mt-1",onChange:f},[m[9]||(m[9]=d("option",{value:""}," ",-1)),(v(!0),w(be,null,ke(t.templates,g=>(v(),w("option",{key:g.id,value:g.id},$(g.title),9,E5))),128))],544),[[Ye,o.value]])]),d("div",null,[m[12]||(m[12]=d("label",{class:"text-sm text-gray-600"}," ",-1)),Ce(d("select",{"onUpdate:modelValue":m[2]||(m[2]=g=>i.value=g),class:"select mt-1",disabled:!!t.lockedMode},[m[11]||(m[11]=d("option",{value:"GENERAL"},"",-1)),t.lockedMode?t.lockedMode==="ABSENCE"?(v(),w("option",T5,"")):de("",!0):(v(),w("option",M5,""))],8,$5),[[Ye,i.value]]),m[13]||(m[13]=d("div",{class:"mt-1 text-xs text-gray-500"},"     .",-1))])]),d("div",null,[m[14]||(m[14]=d("label",{class:"text-sm text-gray-600"}," ",-1)),Ce(d("textarea",{"onUpdate:modelValue":m[3]||(m[3]=g=>a.value=g),rows:"7",class:"textarea mt-1",placeholder:":  {name} ..."},null,512),[[Ue,a.value]]),d("div",R5,[t.audience==="students"?(v(),w("span",D5," : {name} {level} {class} {massar} {classNumber} {passMassar}")):(v(),w("span",P5," : {name} {subject} {cycle}"))])]),d("div",O5,[d("input",{type:"file",accept:"image/*",onChange:h},null,32),l.value?(v(),w("span",N5,"  ...")):r.value?(v(),w("span",I5,[S(B(da),{class:"inline h-4 w-4 ml-1"}),m[15]||(m[15]=Q("   ",-1))])):de("",!0)]),t.audience==="students"?(v(),w("div",L5,[m[19]||(m[19]=d("label",{class:"text-sm text-gray-600"},"  (    ):",-1)),d("div",F5,[d("label",B5,[Ce(d("input",{type:"checkbox",value:"parent","onUpdate:modelValue":m[4]||(m[4]=g=>c.value=g)},null,512),[[vt,c.value]]),m[16]||(m[16]=Q("  ",-1))]),d("label",V5,[Ce(d("input",{type:"checkbox",value:"mother","onUpdate:modelValue":m[5]||(m[5]=g=>c.value=g)},null,512),[[vt,c.value]]),m[17]||(m[17]=Q("  ",-1))]),d("label",j5,[Ce(d("input",{type:"checkbox",value:"guardian","onUpdate:modelValue":m[6]||(m[6]=g=>c.value=g)},null,512),[[vt,c.value]]),m[18]||(m[18]=Q("  ",-1))])]),u.value?(v(),w("div",U5,$(u.value),1)):de("",!0)])):(v(),w("div",z5,"           . "))]),d("div",H5,[d("button",{class:"btn btn-outline",onClick:m[7]||(m[7]=g=>n("close"))},""),d("button",{class:"btn btn-primary",onClick:p,disabled:l.value||s.sending},[s.sending?(v(),w("span",q5," ...")):(v(),w("span",G5,""))],8,W5)])])])):de("",!0)}},at=Ns({isOpen:!1,title:"",message:"",variant:"danger",confirmText:"",cancelText:"",loading:!1,resolvePromise:null,rejectPromise:null});function Ac(t={}){return at.title=t.title||" ",at.message=t.message||"  ",at.variant=t.variant||"danger",at.confirmText=t.confirmText||"",at.cancelText=t.cancelText||"",at.isOpen=!0,new Promise((e,s)=>{at.resolvePromise=e,at.rejectPromise=s})}function K5(t=" "){return Ac({title:" ",message:`     ${t}      .`,variant:"danger",confirmText:"",cancelText:""})}function Y5(t,e=""){return Ac({title:e,message:t,variant:"warning",confirmText:"",cancelText:""})}function J5(){at.resolvePromise&&(at.resolvePromise(!0),Ec())}function X5(){at.resolvePromise&&(at.resolvePromise(!1),Ec())}function Ec(){at.isOpen=!1,at.loading=!1,at.resolvePromise=null,at.rejectPromise=null}function Q5(t){at.loading=t}function Jr(){return{get isOpen(){return at.isOpen},set isOpen(t){at.isOpen=t},get title(){return at.title},get message(){return at.message},get variant(){return at.variant},get confirmText(){return at.confirmText},get cancelText(){return at.cancelText},get loading(){return at.loading},confirm:Ac,confirmDelete:K5,confirmWarning:Y5,handleConfirm:J5,handleCancel:X5,setLoading:Q5,close:Ec}}const Z5={class:"space-y-1"},eE={class:"relative"},tE={key:0,class:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 dark:text-slate-500"},sE=["type","value","placeholder","disabled"],nE={key:2,class:"absolute right-3 top-1/2 -translate-y-1/2 text-danger-500"},aE={key:1,class:"text-xs text-danger-600 dark:text-danger-400 flex items-center gap-1"},iE={key:2,class:"text-xs text-slate-500 dark:text-slate-400"},ze={__name:"BaseInput",props:{modelValue:{type:[String,Number],default:""},type:{type:String,default:"text"},label:{type:String,default:""},placeholder:{type:String,default:""},error:{type:String,default:""},hint:{type:String,default:""},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},icon:{type:Object,default:null}},emits:["update:modelValue","blur","focus"],setup(t,{emit:e}){const s=t,n=e,a=D(!1),i=D(!1),o=he(()=>s.type==="password"?a.value?"text":"password":s.type),r=he(()=>!!s.error);function l(h){n("update:modelValue",h.target.value)}function c(h){i.value=!0,n("focus",h)}function u(h){i.value=!1,n("blur",h)}function f(){a.value=!a.value}return(h,p)=>(v(),w("div",Z5,[t.label?(v(),w("label",{key:0,class:Ee(["label",{"label-required":t.required}])},$(t.label),3)):de("",!0),d("div",eE,[t.icon?(v(),w("div",tE,[(v(),$e($t(t.icon),{class:"w-4 h-4"}))])):de("",!0),d("input",{type:o.value,value:t.modelValue,placeholder:t.placeholder,disabled:t.disabled,class:Ee(["input",{"input-error":r.value},{"pl-10":t.icon},{"pr-10":t.type==="password"||r.value}]),onInput:l,onFocus:c,onBlur:u},null,42,sE),t.type==="password"?(v(),w("button",{key:1,type:"button",class:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600 dark:text-slate-500 dark:hover:text-slate-300",onClick:f},[a.value?(v(),$e(B(__),{key:1,class:"w-4 h-4"})):(v(),$e(B(Yg),{key:0,class:"w-4 h-4"}))])):r.value?(v(),w("div",nE,[S(B(Oa),{class:"w-4 h-4"})])):de("",!0)]),t.error?(v(),w("p",aE,[S(B(Oa),{class:"w-3 h-3"}),Q(" "+$(t.error),1)])):t.hint?(v(),w("p",iE,$(t.hint),1)):de("",!0)]))}},oE={class:"card shadow-xl animate-scale-in"},rE={key:0,class:"flex items-center justify-between p-6 pb-4"},lE={class:"text-xl font-bold text-slate-900 dark:text-slate-100"},dE={class:"p-6 pt-2"},cE={key:1,class:"flex items-center justify-end gap-3 p-6 pt-4 border-t border-slate-200 dark:border-slate-800"},uE={__name:"BaseModal",props:{modelValue:{type:Boolean,default:!1},title:{type:String,default:""},size:{type:String,default:"md",validator:t=>["sm","md","lg","xl","full"].includes(t)},closeOnClickOutside:{type:Boolean,default:!0},closeButton:{type:Boolean,default:!0}},emits:["update:modelValue","close"],setup(t,{emit:e}){const s=t,n=e,a=he(()=>({sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-full mx-4"})[s.size]);function i(){n("update:modelValue",!1),n("close")}function o(){s.closeOnClickOutside&&i()}function r(l){l.stopPropagation()}return(l,c)=>(v(),$e(Xi,{to:"body"},[S(Mr,{name:"modal"},{default:ne(()=>[t.modelValue?(v(),w("div",{key:0,class:"fixed inset-0 z-[var(--z-modal)] flex items-center justify-center p-4",onClick:o},[c[0]||(c[0]=d("div",{class:"backdrop absolute inset-0"},null,-1)),d("div",{class:Ee(["relative w-full",a.value]),onClick:r},[d("div",oE,[t.title||t.closeButton||l.$slots.header?(v(),w("div",rE,[Cn(l.$slots,"header",{},()=>[d("h3",lE,$(t.title),1)],!0),t.closeButton?(v(),w("button",{key:0,type:"button",class:"p-2 rounded-lg text-slate-400 hover:text-slate-600 hover:bg-slate-100 dark:hover:text-slate-200 dark:hover:bg-slate-800 transition-colors",onClick:i},[S(B(Ot),{class:"w-5 h-5"})])):de("",!0)])):de("",!0),d("div",dE,[Cn(l.$slots,"default",{},void 0,!0)]),l.$slots.footer?(v(),w("div",cE,[Cn(l.$slots,"footer",{},void 0,!0)])):de("",!0)])],2)])):de("",!0)]),_:3})]))}},$c=ca(uE,[["__scopeId","data-v-830cf445"]]),fE={class:"text-center py-4"},hE={class:"text-xl font-bold text-slate-900 dark:text-slate-100 mb-3"},pE={class:"text-slate-600 dark:text-slate-400 mb-6 leading-relaxed"},gE={class:"flex gap-3 justify-center"},Xr={__name:"ConfirmModal",props:{modelValue:{type:Boolean,default:!1},title:{type:String,default:" "},message:{type:String,default:"      "},variant:{type:String,default:"danger",validator:t=>["danger","warning","info"].includes(t)},confirmText:{type:String,default:""},cancelText:{type:String,default:""},loading:{type:Boolean,default:!1}},emits:["update:modelValue","confirm","cancel"],setup(t,{emit:e}){const s=t,n=e;function a(){return s.variant==="danger"?Oa:s.variant==="warning"?ac:nc}function i(){return s.variant==="danger"?"text-danger-600 bg-danger-100 dark:bg-danger-900/30":s.variant==="warning"?"text-warning-600 bg-warning-100 dark:bg-warning-900/30":"text-blue-600 bg-blue-100 dark:bg-blue-900/30"}function o(){return s.variant==="danger"?"danger":s.variant==="warning"?"warning":"primary"}function r(){n("confirm")}function l(){n("update:modelValue",!1),n("cancel")}function c(){s.loading||l()}return(u,f)=>(v(),$e($c,{"model-value":t.modelValue,"close-on-click-outside":!t.loading,"close-button":!t.loading,size:"sm","onUpdate:modelValue":c},{default:ne(()=>[d("div",fE,[d("div",{class:Ee(["mx-auto w-16 h-16 rounded-full flex items-center justify-center mb-4",i()])},[(v(),$e($t(a()),{class:"w-8 h-8"}))],2),d("h3",hE,$(t.title),1),d("p",pE,[Cn(u.$slots,"default",{},()=>[Q($(t.message),1)])]),d("div",gE,[S(me,{variant:"outline",disabled:t.loading,onClick:l},{default:ne(()=>[Q($(t.cancelText),1)]),_:1},8,["disabled"]),S(me,{variant:o(),loading:t.loading,onClick:r},{default:ne(()=>[Q($(t.confirmText),1)]),_:1},8,["variant","loading"])])])]),_:3},8,["model-value","close-on-click-outside","close-button"]))}},mE={class:"p-6 space-y-6"},bE={class:"card p-4"},vE={class:"grid grid-cols-1 md:grid-cols-7 gap-3"},yE={class:"md:col-span-2"},xE={key:0,class:"alert alert-danger"},_E={key:1,class:"card p-12"},kE={key:2,class:"card overflow-hidden bg-white dark:bg-slate-900"},wE={key:0,class:"min-w-full text-sm table-auto border-2 border-slate-200 dark:border-slate-700 rounded-xl overflow-hidden bg-white dark:bg-slate-900 shadow-lg"},CE={class:"bg-gradient-to-r from-slate-100 to-slate-50 dark:from-slate-800 dark:to-slate-700 text-slate-900 dark:text-slate-100"},SE={class:"p-4 w-12 text-center border-r border-slate-200 dark:border-slate-600"},AE={class:"flex flex-col items-center gap-0.5"},EE={key:0,class:"text-[10px] text-green-600 dark:text-green-400"},$E={key:1,class:"p-4 font-bold"},ME={class:"p-4 text-center border-r border-slate-200 dark:border-slate-700"},TE=["checked","onChange"],RE={class:"p-4 text-center border-r border-slate-200 dark:border-slate-700 text-slate-900 dark:text-slate-100"},DE={class:"p-4 text-center border-r border-slate-200 dark:border-slate-700 text-slate-900 dark:text-slate-100"},PE={class:"p-4 text-center border-r border-slate-200 dark:border-slate-700 font-semibold text-slate-900 dark:text-slate-100"},OE={class:"p-4 text-center border-r border-slate-200 dark:border-slate-700 text-slate-900 dark:text-slate-100"},NE={key:1,class:"p-4 text-center"},IE={class:"flex flex-wrap gap-2 justify-center"},LE={class:"flex flex-col md:flex-row md:items-center md:justify-between gap-3"},FE={class:"text-sm text-slate-600 dark:text-slate-400"},BE={class:"font-semibold"},VE={class:"font-semibold"},jE={class:"font-semibold"},UE={class:"flex items-center gap-2"},zE={key:1,class:"text-slate-400"},HE={key:2,class:"text-slate-400"},WE={class:"space-y-4"},qE={class:"flex justify-end gap-2"},GE={__name:"Students",setup(t){const e=D([]),s=D([]),n=D(!1),a=D(""),i=D([]),o=D([]),r=D([]),l=D(new Set),c=D({}),u=D([]),f=D(""),h=D(""),p=D("ACTIVE"),b=D(""),m=D(""),g=D({FATHER:!0,MOTHER:!1,GUARDIAN:!0}),y=D(new Set),C=D(!1),k=D(!1),x=Jr(),_=he(()=>["DIRECTOR","ADMIN"].includes(ht.role())),T=D(1),E=D(20),R=D({page:1,limit:20,total:0,totalPages:1}),I=D(!1),P=D(null),q=D("LEFT");function J(te){P.value=te,q.value="LEFT",I.value=!0}async function U(){var j,A;const te=P.value;if(te)try{await le.delete(`/students/${te}`,{params:{status:q.value}}),I.value=!1,await ge(),oe.showAlert("success","","   .")}catch(O){oe.showAlert("error","",((A=(j=O==null?void 0:O.response)==null?void 0:j.data)==null?void 0:A.message)||O.message||"  .")}}const V=he(()=>s.value.length>0&&s.value.every(te=>y.value.has(te.id)));function ee(){V.value?s.value.forEach(te=>y.value.delete(te.id)):s.value.forEach(te=>y.value.add(te.id))}async function K(){const te=await le.get("/templates");e.value=te.data||[]}async function M(){var te;try{const j=await le.get("/settings/public");c.value=j.data,u.value=Array.isArray((te=j.data)==null?void 0:te.timetable_periods)?j.data.timetable_periods:[]}catch(j){console.error(j)}}async function H(){var te,j;if(!h.value){r.value=[],l.value=new Set;return}try{if(!o.value.find(ce=>ce===h.value)){r.value=[],l.value=new Set;return}const O=await le.get("/settings/timetable/classes/active",{__silent:!0}),re=(Array.isArray((te=O.data)==null?void 0:te.data)?O.data.data:[]).find(ce=>ce.classe===h.value);if(!re||!re.id){r.value=[],l.value=new Set;return}const N=new Date().toISOString().split("T")[0],F=await le.get(`/timetable-admin/class/${re.id}/schedule`,{params:{date:N},__silent:!0});r.value=Array.isArray((j=F.data)==null?void 0:j.data)?F.data.data:[];const Y=new Set;r.value.forEach(ce=>{ce.teacher_id&&ce.period_number&&Y.add(Number(ce.period_number))}),l.value=Y}catch(A){console.error("Failed to load class schedule:",A),r.value=[],l.value=new Set}}function se(te){return l.value.has(Number(te))}const xe=he(()=>{var X;const te=Number(((X=c.value)==null?void 0:X.periods_count)||8),A=(u.value.length?[...u.value]:[]).filter(re=>!!((re==null?void 0:re.Is_active)??(re==null?void 0:re.is_active)??1)).sort((re,ie)=>(re.order??0)-(ie.order??0));return A.slice(0,Math.min(Math.max(1,te),A.length)).map((re,ie)=>({index:Number.isFinite(Number(re.order))?Number(re.order):ie+1,code:re.code||`${ie+1}`,time:re.time||(re.start_time&&re.end_time?`${re.start_time}-${re.end_time}`:"")}))});async function ge(){var te,j,A,O;n.value=!0,a.value="";try{const X=await le.get("/students",{params:{page:T.value,limit:E.value,level:f.value||void 0,class:h.value||void 0,status:p.value||void 0,gender:b.value||void 0,q:m.value||void 0}});s.value=X.data.data||[],R.value=X.data.meta||R.value,i.value=((te=X.data.options)==null?void 0:te.levels)||[],o.value=((j=X.data.options)==null?void 0:j.classes)||[],h.value&&await H()}catch(X){a.value=((O=(A=X==null?void 0:X.response)==null?void 0:A.data)==null?void 0:O.message)||X.message||" "}finally{n.value=!1}}function G(te){const j=R.value.totalPages||1,A=Math.max(1,Math.min(j,te));T.value=A}const z=he(()=>{const te=R.value.totalPages||1,j=R.value.page||1,A=[],O=Math.max(1,j-2),X=Math.min(te,j+2);for(let re=O;re<=X;re++)A.push(re);return A});async function ae(te){var A,O;if(k.value)return;k.value=!0;const j=Array.from(y.value);if(j.length===0){oe.showAlert("warning","","     ."),k.value=!1;return}try{const X=F=>({parent:"FATHER",mother:"MOTHER",guardian:"GUARDIAN"})[F];let re=[];if(te!=null&&te.recipients&&Array.isArray(te.recipients)&&te.recipients.length>0?re=Array.from(new Set(te.recipients.map(X).filter(Boolean))):re=Object.keys(g.value).filter(F=>g.value[F]),re.length===0){oe.showAlert("warning","","      (//).");return}const N=(await le.post("/campaigns",{audience:"STUDENTS",mode:te.mode,message_body:te.message_body,media_path:te.media_path||null,ids:j,student_targets:re,filter_json:{level:f.value||null,class:h.value||null,status:p.value||null,gender:b.value||null,q:m.value||null,page:R.value.page,limit:R.value.limit}})).data.campaignId;await le.post(`/campaigns/${N}/send`),C.value=!1,oe.showAlert("success","","  .")}catch(X){oe.showAlert("error","",((O=(A=X==null?void 0:X.response)==null?void 0:A.data)==null?void 0:O.message)||X.message||"  .")}finally{k.value=!1}}return qe([f,h,p,b,m,E],()=>{T.value=1,ge()}),qe(T,()=>ge()),je(async()=>{await M(),await K(),await ge()}),(te,j)=>{const A=Ps("FileText");return v(),w("div",mE,[S(cs,{title:"",icon:B(zt),"show-breadcrumbs":!0},{subtitle:ne(()=>[...j[18]||(j[18]=[Q("       ",-1)])]),actions:ne(()=>[S(me,{variant:"outline",size:"md",onClick:j[0]||(j[0]=O=>te.$router.push("/students/stats"))},{default:ne(()=>[...j[19]||(j[19]=[Q("  ",-1)])]),_:1}),_.value?(v(),$e(me,{key:0,variant:"outline",size:"md",onClick:j[1]||(j[1]=O=>te.$router.push("/students/add"))},{default:ne(()=>[...j[20]||(j[20]=[Q("   ",-1)])]),_:1})):de("",!0),S(me,{variant:"primary",size:"md",onClick:j[2]||(j[2]=O=>C.value=!0)},{default:ne(()=>[Q("   ("+$(y.value.size)+") ",1)]),_:1}),S(me,{variant:"secondary",size:"md",disabled:!y.value.size||te.generatingPdf,loading:te.generatingPdf,onClick:te.openSimpleNoticePdf},{default:ne(()=>[S(A,{class:"w-4 h-4 inline-block"}),j[21]||(j[21]=Q(" PDF   ",-1))]),_:1},8,["disabled","loading","onClick"])]),_:1},8,["icon"]),d("div",bE,[d("div",vE,[d("div",null,[j[22]||(j[22]=d("label",{class:"text-sm text-slate-600 dark:text-slate-400"},"",-1)),S(mt,{modelValue:f.value,"onUpdate:modelValue":j[3]||(j[3]=O=>f.value=O),options:[{value:"",label:""},...i.value.map(O=>({value:O,label:O}))],"value-key":"value","label-key":"label",class:"mt-1"},null,8,["modelValue","options"])]),d("div",null,[j[23]||(j[23]=d("label",{class:"text-sm text-slate-600 dark:text-slate-400"},"",-1)),S(mt,{modelValue:h.value,"onUpdate:modelValue":j[4]||(j[4]=O=>h.value=O),options:[{value:"",label:""},...o.value.map(O=>({value:O,label:O}))],"value-key":"value","label-key":"label",class:"mt-1"},null,8,["modelValue","options"])]),d("div",null,[j[24]||(j[24]=d("label",{class:"text-sm text-slate-600 dark:text-slate-400"},"",-1)),S(mt,{modelValue:p.value,"onUpdate:modelValue":j[5]||(j[5]=O=>p.value=O),options:[{value:"",label:""},{value:"ACTIVE",label:" "},{value:"INACTIVE",label:"  "},{value:"STUDYING",label:" ()"},{value:"INCOMING",label:" ()"},{value:"REFERRED",label:" ()"},{value:"ADDED",label:" ()"},{value:"DELETED",label:" ()"},{value:"NOT_ENROLLED",label:" "},{value:"LEFT",label:""},{value:"DROPPED",label:""}],"value-key":"value","label-key":"label",class:"mt-1"},null,8,["modelValue"])]),d("div",null,[j[25]||(j[25]=d("label",{class:"text-sm text-slate-600 dark:text-slate-400"},"",-1)),S(mt,{modelValue:b.value,"onUpdate:modelValue":j[6]||(j[6]=O=>b.value=O),options:[{value:"",label:""},{value:"MALE",label:""},{value:"FEMALE",label:""}],"value-key":"value","label-key":"label",class:"mt-1"},null,8,["modelValue"])]),d("div",yE,[j[26]||(j[26]=d("label",{class:"text-sm text-slate-600 dark:text-slate-400"},"",-1)),S(ze,{modelValue:m.value,"onUpdate:modelValue":j[7]||(j[7]=O=>m.value=O),placeholder:"   ...",class:"mt-1"},null,8,["modelValue"])]),d("div",null,[j[27]||(j[27]=d("label",{class:"text-sm text-slate-600 dark:text-slate-400"}," ",-1)),S(mt,{modelValue:E.value,"onUpdate:modelValue":j[8]||(j[8]=O=>E.value=O),modelModifiers:{number:!0},options:[{value:10,label:"10"},{value:20,label:"20"},{value:50,label:"50"},{value:100,label:"100"}],"value-key":"value","label-key":"label",class:"mt-1"},null,8,["modelValue"])])])]),a.value?(v(),w("div",xE,[j[28]||(j[28]=d("div",{class:"font-semibold"}," ",-1)),d("div",null,$(a.value),1)])):de("",!0),n.value?(v(),w("div",_E,[S(Os,{size:"lg",class:"mx-auto"}),j[29]||(j[29]=d("p",{class:"text-center text-slate-600 dark:text-slate-400 mt-4"},"  ...",-1))])):(v(),w("div",kE,[s.value.length>0?(v(),w("table",wE,[d("thead",CE,[d("tr",null,[d("th",SE,[d("button",{class:"rounded-lg bg-slate-200 dark:bg-slate-600 hover:bg-slate-300 dark:hover:bg-slate-500 px-3 py-1.5 transition font-bold",onClick:ee},[V.value?(v(),$e(B(Ot),{key:0,class:"w-4 h-4"})):(v(),$e(B(tc),{key:1,class:"w-4 h-4"}))])]),j[30]||(j[30]=d("th",{class:"p-4 w-20 text-center border-r border-slate-200 dark:border-slate-600 font-bold"},"",-1)),j[31]||(j[31]=d("th",{class:"p-4 text-center border-r border-slate-200 dark:border-slate-600 font-bold"},"",-1)),j[32]||(j[32]=d("th",{class:"p-4 text-center border-r border-slate-200 dark:border-slate-600 font-bold"},"",-1)),j[33]||(j[33]=d("th",{class:"p-4 text-center border-r border-slate-200 dark:border-slate-600 font-bold"},"",-1)),h.value&&xe.value.length>0?(v(!0),w(be,{key:0},ke(xe.value,O=>(v(),w("th",{key:O.index,class:Ee(["p-2 text-center border-r font-bold text-xs",se(O.index)?"bg-green-100 dark:bg-green-900 border-green-300 dark:border-green-700":"border-slate-200 dark:border-slate-600"])},[d("div",AE,[d("span",null,$(O.code),1),se(O.index)?(v(),w("span",EE,"")):de("",!0)])],2))),128)):de("",!0),_.value?(v(),w("th",$E,"")):de("",!0)])]),d("tbody",null,[(v(!0),w(be,null,ke(s.value,O=>(v(),w("tr",{key:O.id,class:"border-t-2 border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors"},[d("td",ME,[d("input",{type:"checkbox",class:"w-4 h-4 rounded border-slate-300 dark:border-slate-600",checked:y.value.has(O.id),onChange:X=>X.target.checked?y.value.add(O.id):y.value.delete(O.id)},null,40,TE)]),d("td",RE,$(O.class_number??""),1),d("td",DE,$(O.massar_code),1),d("td",PE,$(O.full_name),1),d("td",OE,$(O.class_name),1),h.value&&xe.value.length>0?(v(!0),w(be,{key:0},ke(xe.value,X=>(v(),w("td",{key:X.index,class:Ee(["p-2 text-center border-r text-xs",se(X.index)?"bg-green-50 dark:bg-green-950 border-green-200 dark:border-green-800":"border-slate-200 dark:border-slate-700"])},"  ",2))),128)):de("",!0),_.value?(v(),w("td",NE,[d("div",IE,[S(me,{variant:"outline",size:"sm",onClick:X=>te.$router.push(`/absences/student/${O.id}`)},{default:ne(()=>[S(B($n),{class:"w-3.5 h-3.5 ml-1"}),j[34]||(j[34]=Q("   ",-1))]),_:1},8,["onClick"]),S(me,{variant:"outline",size:"sm",onClick:X=>te.$router.push(`/students/${O.id}/edit`)},{default:ne(()=>[S(B(gn),{class:"w-3.5 h-3.5 ml-1"}),j[35]||(j[35]=Q("  ",-1))]),_:1},8,["onClick"]),S(me,{variant:"warning",size:"sm",onClick:X=>J(O.id)},{default:ne(()=>[S(B(ds),{class:"w-3.5 h-3.5 ml-1"}),j[36]||(j[36]=Q("   ",-1))]),_:1},8,["onClick"])])])):de("",!0)]))),128))])])):(v(),$e(fa,{key:1,icon:"Users",title:"  ",message:"      "}))])),d("div",LE,[d("div",FE,[j[37]||(j[37]=Q(" : ",-1)),d("span",BE,$(R.value.total),1),j[38]||(j[38]=Q("   ",-1)),d("span",VE,$(R.value.page),1),j[39]||(j[39]=Q(" / ",-1)),d("span",jE,$(R.value.totalPages),1)]),d("div",UE,[S(me,{variant:"outline",size:"sm",disabled:R.value.page<=1,onClick:j[9]||(j[9]=O=>G(R.value.page-1))},{default:ne(()=>[...j[40]||(j[40]=[Q("  ",-1)])]),_:1},8,["disabled"]),R.value.page>3?(v(),$e(me,{key:0,variant:"outline",size:"sm",onClick:j[10]||(j[10]=O=>G(1))},{default:ne(()=>[...j[41]||(j[41]=[Q(" 1 ",-1)])]),_:1})):de("",!0),R.value.page>4?(v(),w("span",zE,"")):de("",!0),(v(!0),w(be,null,ke(z.value,O=>(v(),$e(me,{key:O,variant:O===R.value.page?"primary":"outline",size:"sm",onClick:X=>G(O)},{default:ne(()=>[Q($(O),1)]),_:2},1032,["variant","onClick"]))),128)),R.value.page<R.value.totalPages-3?(v(),w("span",HE,"")):de("",!0),R.value.page<R.value.totalPages-2?(v(),$e(me,{key:3,variant:"outline",size:"sm",onClick:j[11]||(j[11]=O=>G(R.value.totalPages))},{default:ne(()=>[Q($(R.value.totalPages),1)]),_:1})):de("",!0),S(me,{variant:"outline",size:"sm",disabled:R.value.page>=R.value.totalPages,onClick:j[12]||(j[12]=O=>G(R.value.page+1))},{default:ne(()=>[...j[42]||(j[42]=[Q("  ",-1)])]),_:1},8,["disabled"])])]),S(mm,{open:C.value,templates:e.value,sending:k.value,defaultMode:"GENERAL",audience:"students",onClose:j[13]||(j[13]=O=>C.value=!1),onSend:ae},null,8,["open","templates","sending"]),S($c,{modelValue:I.value,"onUpdate:modelValue":j[16]||(j[16]=O=>I.value=O),title:"  ",size:"md"},{footer:ne(()=>[d("div",qE,[S(me,{variant:"outline",onClick:j[15]||(j[15]=O=>I.value=!1)},{default:ne(()=>[...j[44]||(j[44]=[Q("  ",-1)])]),_:1}),S(me,{variant:"danger",onClick:U},{default:ne(()=>[...j[45]||(j[45]=[Q("  ",-1)])]),_:1})])]),default:ne(()=>[d("div",WE,[j[43]||(j[43]=d("div",{class:"text-sm text-slate-600 dark:text-slate-400"},"              . ",-1)),S(mt,{modelValue:q.value,"onUpdate:modelValue":j[14]||(j[14]=O=>q.value=O),label:" ",options:[{value:"NOT_ENROLLED",label:" "},{value:"LEFT",label:""},{value:"DROPPED",label:""}],"value-key":"value","label-key":"label"},null,8,["modelValue"])])]),_:1},8,["modelValue"]),S(Xr,{modelValue:B(x).isOpen,"onUpdate:modelValue":j[17]||(j[17]=O=>B(x).isOpen=O),title:B(x).title,message:B(x).message,variant:B(x).variant,"confirm-text":B(x).confirmText,"cancel-text":B(x).cancelText,loading:B(x).loading,onConfirm:B(x).handleConfirm,onCancel:B(x).handleCancel},null,8,["modelValue","title","message","variant","confirm-text","cancel-text","loading","onConfirm","onCancel"])])}}},KE={class:"p-6 space-y-4"},YE={class:"flex items-center justify-between"},JE={key:0,class:"rounded-xl border border-red-200 bg-red-50 p-3 text-red-700"},XE={class:"card p-6 space-y-4"},QE={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ZE={class:"md:col-span-2"},e$=["disabled"],t$=["value"],s$={key:0,class:"mt-1 text-xs text-slate-500"},n$={class:"md:col-span-2"},a$={class:"flex justify-end gap-3"},i$={__name:"StudentAdd",setup(t){const e=ra(),s=D(!1),n=D(""),a=D(!1),i=D([]),o=D({class_number:"",massar_code:"",full_name:"",gender:"",status:"STUDYING",level:"",class_name:"",father_phone:"",mother_phone:"",guardian_phone:""});async function r(){var u;a.value=!0;try{const f=await le.get("/settings/timetable/classes/active",{__silent:!0});i.value=Array.isArray(f.data)?f.data:Array.isArray((u=f.data)==null?void 0:u.data)?f.data.data:[]}catch{i.value=[]}finally{a.value=!1}}function l(u){const f=i.value.find(h=>String(h.id)===String(u));f&&(o.value.class_name=f.classe,o.value.level=f.level)}je(r);async function c(){var u,f;if(!o.value.massar_code||!o.value.full_name||!o.value.level||!o.value.class_name){oe.showAlert("warning","","     .");return}s.value=!0,n.value="";try{await le.post("/students",{...o.value,gender:o.value.gender||null,class_number:o.value.class_number?Number(o.value.class_number):null}),oe.showAlert("success","","   ."),e.push("/students")}catch(h){oe.showAlert("error","",((f=(u=h==null?void 0:h.response)==null?void 0:u.data)==null?void 0:f.message)||h.message||" ")}finally{s.value=!1}}return(u,f)=>(v(),w("div",KE,[d("div",YE,[f[12]||(f[12]=d("h1",{class:"text-xl font-bold"}," ",-1)),d("button",{class:"btn btn-outline",onClick:f[0]||(f[0]=h=>B(e).push("/students"))},"")]),n.value?(v(),w("div",JE,$(n.value),1)):de("",!0),d("div",XE,[d("div",QE,[d("div",null,[f[13]||(f[13]=d("label",{class:"text-sm text-gray-600"},"   ()",-1)),Ce(d("input",{"onUpdate:modelValue":f[1]||(f[1]=h=>o.value.class_number=h),type:"number",class:"input mt-1"},null,512),[[Ue,o.value.class_number]])]),d("div",null,[f[14]||(f[14]=d("label",{class:"text-sm text-gray-600"}," ",-1)),Ce(d("input",{"onUpdate:modelValue":f[2]||(f[2]=h=>o.value.massar_code=h),class:"input mt-1"},null,512),[[Ue,o.value.massar_code]])]),d("div",ZE,[f[15]||(f[15]=d("label",{class:"text-sm text-gray-600"}," ",-1)),Ce(d("input",{"onUpdate:modelValue":f[3]||(f[3]=h=>o.value.full_name=h),class:"input mt-1"},null,512),[[Ue,o.value.full_name]])]),d("div",null,[f[17]||(f[17]=d("label",{class:"text-sm text-gray-600"},"",-1)),Ce(d("select",{"onUpdate:modelValue":f[4]||(f[4]=h=>o.value.gender=h),class:"select mt-1"},[...f[16]||(f[16]=[d("option",{value:""}," ",-1),d("option",{value:"MALE"},"",-1),d("option",{value:"FEMALE"},"",-1)])],512),[[Ye,o.value.gender]])]),d("div",null,[f[19]||(f[19]=d("label",{class:"text-sm text-gray-600"},"",-1)),Ce(d("select",{"onUpdate:modelValue":f[5]||(f[5]=h=>o.value.status=h),class:"select mt-1"},[...f[18]||(f[18]=[Qi('<option value="STUDYING"> ()</option><option value="INCOMING"> ()</option><option value="REFERRED"> ()</option><option value="NOT_ENROLLED">  ( )</option><option value="LEFT"> ( )</option><option value="DROPPED"> ( )</option>',6)])],512),[[Ye,o.value.status]])]),d("div",null,[f[21]||(f[21]=d("label",{class:"text-sm text-gray-600"}," (  )",-1)),d("select",{class:"select mt-1",disabled:a.value||!i.value.length,onChange:f[6]||(f[6]=h=>l(h.target.value))},[f[20]||(f[20]=d("option",{value:""}," ",-1)),(v(!0),w(be,null,ke(i.value,h=>(v(),w("option",{key:h.id,value:h.id},$(h.classe),9,t$))),128))],40,e$),a.value?(v(),w("div",s$,"  ...")):de("",!0)]),d("div",null,[f[22]||(f[22]=d("label",{class:"text-sm text-gray-600"}," ( )",-1)),Ce(d("input",{"onUpdate:modelValue":f[7]||(f[7]=h=>o.value.level=h),class:"input mt-1",readonly:""},null,512),[[Ue,o.value.level]])]),d("div",null,[f[23]||(f[23]=d("label",{class:"text-sm text-gray-600"}," ",-1)),Ce(d("input",{"onUpdate:modelValue":f[8]||(f[8]=h=>o.value.father_phone=h),class:"input mt-1"},null,512),[[Ue,o.value.father_phone]])]),d("div",null,[f[24]||(f[24]=d("label",{class:"text-sm text-gray-600"}," ",-1)),Ce(d("input",{"onUpdate:modelValue":f[9]||(f[9]=h=>o.value.mother_phone=h),class:"input mt-1"},null,512),[[Ue,o.value.mother_phone]])]),d("div",n$,[f[25]||(f[25]=d("label",{class:"text-sm text-gray-600"}," ",-1)),Ce(d("input",{"onUpdate:modelValue":f[10]||(f[10]=h=>o.value.guardian_phone=h),class:"input mt-1"},null,512),[[Ue,o.value.guardian_phone]])])]),d("div",a$,[d("button",{class:"btn btn-outline",onClick:f[11]||(f[11]=h=>B(e).push("/students"))},""),S(me,{onClick:c,disabled:s.value,loading:s.value,variant:"primary"},{default:ne(()=>[S(B(is),{class:"w-4 h-4 inline-block"}),Q(" "+$(s.value?"...":""),1)]),_:1},8,["disabled","loading"])])])]))}},o$={class:"p-6 space-y-4"},r$={class:"flex items-center justify-between"},l$={key:0,class:"rounded-xl border border-red-200 bg-red-50 p-3 text-red-700"},d$={class:"card p-6 space-y-4"},c$={key:0,class:"text-center text-gray-600"},u$={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},f$={class:"md:col-span-2"},h$=["disabled"],p$=["value"],g$={key:0,class:"mt-1 text-xs text-slate-500"},m$={class:"md:col-span-2"},b$={class:"flex justify-end gap-3"},v$={__name:"StudentEdit",setup(t){const e=ra(),s=la(),n=D(!1),a=D(!1),i=D(""),o=D(!1),r=D([]),l=D(""),c=D({class_number:"",massar_code:"",full_name:"",gender:"",status:"STUDYING",level:"",class_name:"",father_phone:"",mother_phone:"",guardian_phone:""});async function u(){var m,g;n.value=!0,i.value="";try{const y=await le.get(`/students/${s.params.id}`);c.value={class_number:y.data.class_number??"",massar_code:y.data.massar_code??"",full_name:y.data.full_name??"",gender:y.data.gender??"",status:y.data.status??"STUDYING",level:y.data.level??"",class_name:y.data.class_name??"",father_phone:y.data.father_phone??"",mother_phone:y.data.mother_phone??"",guardian_phone:y.data.guardian_phone??""}}catch(y){i.value=((g=(m=y==null?void 0:y.response)==null?void 0:m.data)==null?void 0:g.message)||y.message||"   ."}finally{n.value=!1}}async function f(){var m;o.value=!0;try{const g=await le.get("/settings/timetable/classes/active",{__silent:!0});r.value=Array.isArray(g.data)?g.data:Array.isArray((m=g.data)==null?void 0:m.data)?g.data.data:[]}catch{r.value=[]}finally{o.value=!1}}function h(){const m=r.value.find(g=>g.classe===c.value.class_name);l.value=m?String(m.id):""}function p(m){const g=r.value.find(y=>String(y.id)===String(m));g&&(l.value=String(g.id),c.value.class_name=g.classe,c.value.level=g.level)}async function b(){var m,g;if(!c.value.massar_code||!c.value.full_name||!c.value.level||!c.value.class_name){oe.showAlert("warning","","     .");return}a.value=!0,i.value="";try{await le.put(`/students/${s.params.id}`,{...c.value,gender:c.value.gender||null,class_number:c.value.class_number?Number(c.value.class_number):null}),oe.showAlert("success","","   ."),e.push("/students")}catch(y){oe.showAlert("error","",((g=(m=y==null?void 0:y.response)==null?void 0:m.data)==null?void 0:g.message)||y.message||" ")}finally{a.value=!1}}return je(async()=>{await f(),await u(),h()}),(m,g)=>(v(),w("div",o$,[d("div",r$,[g[13]||(g[13]=d("h1",{class:"text-xl font-bold"}," ",-1)),d("button",{class:"btn btn-outline",onClick:g[0]||(g[0]=y=>B(e).push("/students"))},"")]),i.value?(v(),w("div",l$,$(i.value),1)):de("",!0),d("div",d$,[n.value?(v(),w("div",c$," ...")):(v(),w(be,{key:1},[d("div",u$,[d("div",null,[g[14]||(g[14]=d("label",{class:"text-sm text-gray-600"},"   ()",-1)),Ce(d("input",{"onUpdate:modelValue":g[1]||(g[1]=y=>c.value.class_number=y),type:"number",class:"input mt-1"},null,512),[[Ue,c.value.class_number]])]),d("div",null,[g[15]||(g[15]=d("label",{class:"text-sm text-gray-600"}," ",-1)),Ce(d("input",{"onUpdate:modelValue":g[2]||(g[2]=y=>c.value.massar_code=y),class:"input mt-1"},null,512),[[Ue,c.value.massar_code]])]),d("div",f$,[g[16]||(g[16]=d("label",{class:"text-sm text-gray-600"}," ",-1)),Ce(d("input",{"onUpdate:modelValue":g[3]||(g[3]=y=>c.value.full_name=y),class:"input mt-1"},null,512),[[Ue,c.value.full_name]])]),d("div",null,[g[18]||(g[18]=d("label",{class:"text-sm text-gray-600"},"",-1)),Ce(d("select",{"onUpdate:modelValue":g[4]||(g[4]=y=>c.value.gender=y),class:"select mt-1"},[...g[17]||(g[17]=[d("option",{value:""}," ",-1),d("option",{value:"MALE"},"",-1),d("option",{value:"FEMALE"},"",-1)])],512),[[Ye,c.value.gender]])]),d("div",null,[g[20]||(g[20]=d("label",{class:"text-sm text-gray-600"},"",-1)),Ce(d("select",{"onUpdate:modelValue":g[5]||(g[5]=y=>c.value.status=y),class:"select mt-1"},[...g[19]||(g[19]=[Qi('<option value="STUDYING"> ()</option><option value="INCOMING"> ()</option><option value="REFERRED"> ()</option><option value="NOT_ENROLLED">  ( )</option><option value="LEFT"> ( )</option><option value="DROPPED"> ( )</option>',6)])],512),[[Ye,c.value.status]])]),d("div",null,[g[22]||(g[22]=d("label",{class:"text-sm text-gray-600"}," (  )",-1)),Ce(d("select",{class:"select mt-1","onUpdate:modelValue":g[6]||(g[6]=y=>l.value=y),disabled:o.value||!r.value.length,onChange:g[7]||(g[7]=y=>p(l.value))},[g[21]||(g[21]=d("option",{value:""}," ",-1)),(v(!0),w(be,null,ke(r.value,y=>(v(),w("option",{key:y.id,value:String(y.id)},$(y.classe),9,p$))),128))],40,h$),[[Ye,l.value]]),o.value?(v(),w("div",g$,"  ...")):de("",!0)]),d("div",null,[g[23]||(g[23]=d("label",{class:"text-sm text-gray-600"}," ( )",-1)),Ce(d("input",{"onUpdate:modelValue":g[8]||(g[8]=y=>c.value.level=y),class:"input mt-1",readonly:""},null,512),[[Ue,c.value.level]])]),d("div",null,[g[24]||(g[24]=d("label",{class:"text-sm text-gray-600"}," ",-1)),Ce(d("input",{"onUpdate:modelValue":g[9]||(g[9]=y=>c.value.father_phone=y),class:"input mt-1"},null,512),[[Ue,c.value.father_phone]])]),d("div",null,[g[25]||(g[25]=d("label",{class:"text-sm text-gray-600"}," ",-1)),Ce(d("input",{"onUpdate:modelValue":g[10]||(g[10]=y=>c.value.mother_phone=y),class:"input mt-1"},null,512),[[Ue,c.value.mother_phone]])]),d("div",m$,[g[26]||(g[26]=d("label",{class:"text-sm text-gray-600"}," ",-1)),Ce(d("input",{"onUpdate:modelValue":g[11]||(g[11]=y=>c.value.guardian_phone=y),class:"input mt-1"},null,512),[[Ue,c.value.guardian_phone]])])]),d("div",b$,[d("button",{class:"btn btn-outline",onClick:g[12]||(g[12]=y=>B(e).push("/students"))},""),S(me,{disabled:a.value,loading:a.value,onClick:b,variant:"primary"},{default:ne(()=>[S(B(is),{class:"w-4 h-4 inline-block"}),Q(" "+$(a.value?"...":""),1)]),_:1},8,["disabled","loading"])])],64))])]))}},y$={class:"p-6 space-y-4"},x$={class:"flex flex-col md:flex-row md:items-center md:justify-between gap-3"},_$={class:"flex flex-wrap items-center gap-2"},k$={class:"card p-4"},w$={class:"grid grid-cols-1 md:grid-cols-3 gap-3"},C$=["value"],S$={key:0,class:"rounded-xl border border-red-200 bg-red-50 p-3 text-red-700"},A$={class:"card overflow-hidden"},E$={key:0,class:"p-6 text-center text-slate-600"},$$={key:1,class:"min-w-full text-sm table-auto border border-slate-200 rounded-xl overflow-hidden bg-white shadow"},M$={class:"bg-slate-100 text-slate-700"},T$={class:"p-3 w-12 text-center"},R$={class:"p-3 text-center"},D$=["checked","onChange"],P$={class:"p-3 text-center"},O$={class:"p-3 text-right font-medium"},N$={class:"p-3 text-center"},I$={class:"p-3 text-center font-semibold"},L$={class:"p-3"},F$={key:0,class:"flex items-center justify-center gap-2"},B$={key:0},V$={key:1,class:"flex items-center justify-between text-sm text-slate-700"},j$={class:"tabular-nums"},U$={class:"tabular-nums"},z$={class:"tabular-nums"},H$={class:"flex items-center gap-2"},W$={key:2,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 p-4"},q$={class:"w-full max-w-lg rounded-2xl bg-white shadow-xl overflow-hidden"},G$={class:"flex items-center justify-between border-b p-4"},K$={class:"p-4 space-y-4"},Y$={class:"text-sm text-slate-600"},J$=["value"],X$={class:"grid grid-cols-1 sm:grid-cols-3 gap-2 text-sm"},Q$={class:"flex items-center gap-2"},Z$={class:"flex items-center gap-2"},eM={class:"flex items-center gap-2"},tM={class:"mt-3"},sM={class:"flex justify-end gap-2 border-t p-4"},nM={__name:"StudentPassMassar",setup(t){const e=D(!1),s=D(""),n=D([]),a=D([]),i=D(new Set),o=D(""),r=D(""),l=D(1),c=D(30),u=D({page:1,limit:30,total:0,totalPages:0}),f=D([]),h=he(()=>(f.value||[]).filter(U=>(U==null?void 0:U.is_active)&&(U==null?void 0:U.category)==="CODEMASSAR")),p=D(!1),b=D(null),m=D({FATHER:!0,MOTHER:!1,GUARDIAN:!0}),g=D(""),y=D(""),C=D(!1),k=he(()=>["DIRECTOR","ADMIN"].includes(ht.role()));function x(U){return U?`${U}@taalim.ma`:""}async function _(){try{const U=await le.get("/templates");f.value=Array.isArray(U.data)?U.data:[],h.value.length?y.value=String(h.value[0].id):y.value=""}catch{f.value=[]}}async function T(U,V){var te;const ee=await le.get(U,{params:V,responseType:"blob"}),K=String(((te=ee.headers)==null?void 0:te["content-type"])||"").toLowerCase(),H=await new Blob([ee.data],{type:K||"application/pdf"}).arrayBuffer(),se=new Uint8Array(H);if(!(String.fromCharCode(...se.slice(0,5))==="%PDF-")){const j=new TextDecoder("utf-8").decode(se.slice(0,400));throw new Error(j||"     PDF ")}const G=new Blob([H],{type:"application/pdf"}),z=URL.createObjectURL(G);if(!window.open(z,"_blank")){const j=document.createElement("a");j.href=z,j.download="document.pdf",document.body.appendChild(j),j.click(),j.remove()}setTimeout(()=>URL.revokeObjectURL(z),6e4)}async function E(){var U,V,ee,K,M,H;e.value=!0,s.value="";try{const se=await le.get("/students/pass-massar",{params:{class:o.value||void 0,class_number:r.value||void 0,page:l.value,limit:c.value}});if(a.value=((U=se.data)==null?void 0:U.data)||[],n.value=((ee=(V=se.data)==null?void 0:V.options)==null?void 0:ee.classes)||[],u.value=((K=se.data)==null?void 0:K.meta)||u.value,!o.value&&n.value.length){o.value=n.value[0];return}}catch(se){s.value=((H=(M=se==null?void 0:se.response)==null?void 0:M.data)==null?void 0:H.message)||se.message||"  "}finally{e.value=!1}}function R(U){b.value=U,p.value=!0,m.value={FATHER:!0,MOTHER:!1,GUARDIAN:!0},g.value="",!y.value&&h.value.length&&(y.value=String(h.value[0].id))}const I=he(()=>a.value.length>0&&a.value.every(U=>i.value.has(U.id)));function P(){I.value?a.value.forEach(U=>i.value.delete(U.id)):a.value.forEach(U=>i.value.add(U.id))}async function q(){var V,ee;const U=Array.from(i.value);if(U.length===0){oe.showAlert("warning","","    .");return}try{await T("/students/pass-massar/pdf",{ids:U.join(",")})}catch(K){oe.showAlert("error","",((ee=(V=K==null?void 0:K.response)==null?void 0:V.data)==null?void 0:ee.message)||K.message||"  PDF")}}async function J(){var ee,K,M;if(!((ee=b.value)!=null&&ee.id))return;if(!y.value){oe.showAlert("warning","","   PassMassar   .");return}const U=h.value.find(H=>String(H.id)===String(y.value));if(!(U!=null&&U.body)){oe.showAlert("warning","","   .");return}const V=Object.keys(m.value).filter(H=>m.value[H]);if(!V.length&&!String(g.value||"").trim()){oe.showAlert("warning","","     .");return}C.value=!0;try{const se=(await le.post("/campaigns",{audience:"STUDENTS",mode:"GENERAL",message_body:U.body,ids:[b.value.id],student_targets:V,extra_phones:String(g.value||"").trim()?[String(g.value||"").trim()]:[],filter_json:{class:o.value||null,class_number:r.value||null}})).data.campaignId;await le.post(`/campaigns/${se}/send`),p.value=!1,oe.showAlert("success","","    .")}catch(H){oe.showAlert("error","",((M=(K=H==null?void 0:H.response)==null?void 0:K.data)==null?void 0:M.message)||H.message||" ")}finally{C.value=!1}}return qe([o,r],()=>{l.value=1,E()}),qe(l,()=>E()),je(async()=>{await _(),await E()}),(U,V)=>{var K;const ee=Ps("Check");return v(),w("div",y$,[d("div",x$,[V[12]||(V[12]=d("div",null,[d("h1",{class:"text-xl font-bold"},"  "),d("div",{class:"text-sm text-slate-500"},"      /  .")],-1)),d("div",_$,[S(me,{onClick:q,variant:"secondary"},{default:ne(()=>[S(B(as),{class:"w-4 h-4 inline-block"}),V[11]||(V[11]=Q("  (PDF) ",-1))]),_:1})])]),d("div",k$,[d("div",w$,[d("div",null,[V[13]||(V[13]=d("label",{class:"text-sm text-slate-600"},"",-1)),Ce(d("select",{"onUpdate:modelValue":V[0]||(V[0]=M=>o.value=M),class:"select mt-1"},[(v(!0),w(be,null,ke(n.value,M=>(v(),w("option",{key:M,value:M},$(M),9,C$))),128))],512),[[Ye,o.value]]),V[14]||(V[14]=d("div",{class:"mt-1 text-xs text-slate-500"},"    .",-1))]),d("div",null,[V[15]||(V[15]=d("label",{class:"text-sm text-slate-600"},"   ",-1)),Ce(d("input",{"onUpdate:modelValue":V[1]||(V[1]=M=>r.value=M),type:"number",class:"input mt-1",placeholder:": 12"},null,512),[[Ue,r.value]])])])]),s.value?(v(),w("div",S$,$(s.value),1)):de("",!0),d("div",A$,[e.value?(v(),w("div",E$," ...")):(v(),w("table",$$,[d("thead",M$,[d("tr",null,[d("th",T$,[d("button",{class:"rounded bg-slate-100 hover:bg-slate-200 px-2 py-1 inline-flex items-center justify-center",onClick:P},[I.value?(v(),$e(B(Ot),{key:0,class:"w-4 h-4"})):(v(),$e(ee,{key:1,class:"w-4 h-4"}))])]),V[16]||(V[16]=d("th",{class:"p-3 w-20 text-center"},"",-1)),V[17]||(V[17]=d("th",{class:"p-3 text-right"},"",-1)),V[18]||(V[18]=d("th",{class:"p-3 w-56 text-center"},"",-1)),V[19]||(V[19]=d("th",{class:"p-3 w-40 text-center"}," ",-1)),V[20]||(V[20]=d("th",{class:"p-3 w-56 text-center"},"",-1))])]),d("tbody",null,[(v(!0),w(be,null,ke(a.value,M=>(v(),w("tr",{key:M.id,class:"border-t hover:bg-slate-50/60"},[d("td",R$,[d("input",{type:"checkbox",checked:i.value.has(M.id),onChange:H=>H.target.checked?i.value.add(M.id):i.value.delete(M.id)},null,40,D$)]),d("td",P$,$(M.class_number??""),1),d("td",O$,$(M.full_name),1),d("td",N$,$(x(M.massar_code)),1),d("td",I$,$(M.massar_password||""),1),d("td",L$,[k.value?(v(),w("div",F$,[S(me,{variant:"primary",size:"sm",onClick:H=>R(M)},{default:ne(()=>[S(B(Xt),{class:"w-4 h-4 inline-block"}),V[21]||(V[21]=Q("  ",-1))]),_:1},8,["onClick"])])):de("",!0)])]))),128)),a.value.length===0?(v(),w("tr",B$,[...V[22]||(V[22]=[d("td",{colspan:"6",class:"p-6 text-center text-gray-500"},"  .",-1)])])):de("",!0)])]))]),u.value.totalPages>1?(v(),w("div",V$,[d("div",null,[V[23]||(V[23]=Q(" : ",-1)),d("b",j$,$(u.value.total),1),V[24]||(V[24]=Q("   ",-1)),d("b",U$,$(u.value.page),1),V[25]||(V[25]=Q(" / ",-1)),d("b",z$,$(u.value.totalPages),1)]),d("div",H$,[S(me,{variant:"secondary",size:"sm",disabled:l.value<=1,onClick:V[2]||(V[2]=M=>l.value=l.value-1)},{default:ne(()=>[S(B(y_),{class:"w-4 h-4 inline-block"}),V[26]||(V[26]=Q("  ",-1))]),_:1},8,["disabled"]),S(me,{variant:"secondary",size:"sm",disabled:l.value>=u.value.totalPages,onClick:V[3]||(V[3]=M=>l.value=l.value+1)},{default:ne(()=>[V[27]||(V[27]=Q("  ",-1)),S(B(v_),{class:"w-4 h-4 inline-block"})]),_:1},8,["disabled"])])])):de("",!0),p.value?(v(),w("div",W$,[d("div",q$,[d("div",G$,[V[28]||(V[28]=d("div",{class:"font-bold"},"  ",-1)),S(me,{variant:"secondary",size:"sm",onClick:V[4]||(V[4]=M=>p.value=!1),"aria-label":""},{default:ne(()=>[S(B(Ot),{class:"w-4 h-4 inline-block"})]),_:1})]),d("div",K$,[d("div",Y$,[V[29]||(V[29]=Q(" : ",-1)),d("b",null,$((K=b.value)==null?void 0:K.full_name),1)]),d("div",null,[V[31]||(V[31]=d("label",{class:"text-sm text-slate-600"},"/ ",-1)),Ce(d("select",{"onUpdate:modelValue":V[5]||(V[5]=M=>y.value=M),class:"select mt-1 w-full"},[V[30]||(V[30]=d("option",{value:""}," ",-1)),(v(!0),w(be,null,ke(h.value,M=>(v(),w("option",{key:M.id,value:String(M.id)},$(M.title),9,J$))),128))],512),[[Ye,y.value]]),V[32]||(V[32]=d("div",{class:"mt-1 text-xs text-slate-500"},[Q("      "),d("b",null,"CODEMASSAR"),Q(". ")],-1))]),d("div",null,[V[37]||(V[37]=d("div",{class:"text-sm text-slate-600 mb-2"}," ",-1)),d("div",X$,[d("label",Q$,[Ce(d("input",{type:"checkbox","onUpdate:modelValue":V[6]||(V[6]=M=>m.value.FATHER=M)},null,512),[[vt,m.value.FATHER]]),V[33]||(V[33]=d("span",null,"",-1))]),d("label",Z$,[Ce(d("input",{type:"checkbox","onUpdate:modelValue":V[7]||(V[7]=M=>m.value.MOTHER=M)},null,512),[[vt,m.value.MOTHER]]),V[34]||(V[34]=d("span",null,"",-1))]),d("label",eM,[Ce(d("input",{type:"checkbox","onUpdate:modelValue":V[8]||(V[8]=M=>m.value.GUARDIAN=M)},null,512),[[vt,m.value.GUARDIAN]]),V[35]||(V[35]=d("span",null,"",-1))])]),d("div",tM,[V[36]||(V[36]=d("label",{class:"text-sm text-slate-600"},"  ()",-1)),Ce(d("input",{"onUpdate:modelValue":V[9]||(V[9]=M=>g.value=M),class:"input mt-1 w-full",placeholder:"06..."},null,512),[[Ue,g.value]])])])]),d("div",sM,[S(me,{variant:"secondary",onClick:V[10]||(V[10]=M=>p.value=!1)},{default:ne(()=>[...V[38]||(V[38]=[Q("",-1)])]),_:1}),S(me,{variant:"primary",disabled:C.value,loading:C.value,onClick:J},{default:ne(()=>[S(B(Xt),{class:"w-4 h-4 inline-block"}),Q(" "+$(C.value?"...":""),1)]),_:1},8,["disabled","loading"])])])])):de("",!0)])}}},Ei={__name:"BarChart",props:{labels:{type:Array,default:()=>[]},datasets:{type:Array,default:()=>[]},height:{type:Number,default:260},options:{type:Object,default:()=>({})}},setup(t){Ut.register(ki,Ai,Hi,Wi,Kr,Gr);const e=t,s=D(null);let n=null;function a(c,u="148 163 184"){return typeof window>"u"?`rgb(${u})`:`rgb(${getComputedStyle(document.documentElement).getPropertyValue(c).trim()||u})`}function i(){return typeof window>"u"?!1:document.documentElement.classList.contains("dark")}function o(){const c=a("--chart-muted","148 163 184"),u=i()?"rgba(148,163,184,0.18)":"rgba(2,6,23,0.08)";return{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{enabled:!0}},scales:{x:{grid:{display:!1},ticks:{color:c}},y:{beginAtZero:!0,ticks:{precision:0,color:c},grid:{color:u}}},...e.options}}function r(){s.value&&(n==null||n.destroy(),n=new Ut(s.value,{type:"bar",data:{labels:e.labels,datasets:e.datasets},options:o()}))}je(r),qe(()=>[e.labels,e.datasets,e.options],r,{deep:!0});let l;return je(()=>{typeof MutationObserver>"u"||(l=new MutationObserver(()=>r()),l.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}))}),sn(()=>l==null?void 0:l.disconnect()),sn(()=>n==null?void 0:n.destroy()),(c,u)=>(v(),w("div",{class:"relative w-full",style:vs({height:`${t.height}px`})},[d("canvas",{ref_key:"canvasRef",ref:s},null,512)],4))}},aM={__name:"LineChart",props:{labels:{type:Array,default:()=>[]},datasets:{type:Array,default:()=>[]},height:{type:Number,default:260},options:{type:Object,default:()=>({})}},setup(t){Ut.register(wi,Xs,Si,Hi,Wi,Kr,Gr);const e=t,s=D(null);let n=null;function a(c,u="148 163 184"){return typeof window>"u"?`rgb(${u})`:`rgb(${getComputedStyle(document.documentElement).getPropertyValue(c).trim()||u})`}function i(){return typeof window>"u"?!1:document.documentElement.classList.contains("dark")}function o(){const c=a("--chart-muted","148 163 184"),u=i()?"rgba(148,163,184,0.18)":"rgba(2,6,23,0.08)";return{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{enabled:!0}},scales:{x:{grid:{display:!1},ticks:{color:c}},y:{beginAtZero:!0,ticks:{precision:0,color:c},grid:{color:u}}},...e.options}}function r(){s.value&&(n==null||n.destroy(),n=new Ut(s.value,{type:"line",data:{labels:e.labels,datasets:e.datasets},options:o()}))}je(r),qe(()=>[e.labels,e.datasets,e.options],r,{deep:!0});let l;return je(()=>{typeof MutationObserver>"u"||(l=new MutationObserver(()=>r()),l.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}))}),sn(()=>l==null?void 0:l.disconnect()),sn(()=>n==null?void 0:n.destroy()),(c,u)=>(v(),w("div",{class:"relative w-full",style:vs({height:`${t.height}px`})},[d("canvas",{ref_key:"canvasRef",ref:s},null,512)],4))}},mr={__name:"DonutChart",props:{labels:{type:Array,default:()=>[]},data:{type:Array,default:()=>[]},colors:{type:Array,default:()=>[]},height:{type:Number,default:260},cutout:{type:String,default:"70%"},options:{type:Object,default:()=>({})}},setup(t){Ut.register(_n,ya,Kr,Gr);const e=t,s=D(null);let n=null;function a(c,u="148 163 184"){return typeof window>"u"?`rgb(${u})`:`rgb(${getComputedStyle(document.documentElement).getPropertyValue(c).trim()||u})`}function i(){return[a("--chart-1","59 130 246"),a("--chart-2","34 197 94"),a("--chart-3","249 115 22"),a("--chart-4","168 85 247"),a("--chart-5","239 68 68"),a("--chart-muted","148 163 184")]}function o(){return{responsive:!0,maintainAspectRatio:!1,cutout:e.cutout,plugins:{legend:{position:"bottom"},tooltip:{enabled:!0}},...e.options}}function r(){if(!s.value)return;n==null||n.destroy();const c=Array.isArray(e.colors)&&e.colors.length?e.colors:i();n=new Ut(s.value,{type:"doughnut",data:{labels:e.labels,datasets:[{data:e.data,backgroundColor:c,borderWidth:0}]},options:o()})}je(r),qe(()=>[e.labels,e.data,e.colors,e.options],r,{deep:!0});let l;return je(()=>{typeof MutationObserver>"u"||(l=new MutationObserver(()=>r()),l.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}))}),sn(()=>l==null?void 0:l.disconnect()),sn(()=>n==null?void 0:n.destroy()),(c,u)=>(v(),w("div",{class:"relative w-full",style:vs({height:`${t.height}px`})},[d("canvas",{ref_key:"canvasRef",ref:s},null,512)],4))}},iM={class:"p-6 space-y-6"},oM={class:"flex flex-col md:flex-row md:items-center md:justify-between gap-4"},rM={class:"flex flex-wrap gap-2"},lM={class:"rounded-2xl border bg-white p-5 space-y-4"},dM={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},cM=["value"],uM=["value"],fM=["value"],hM={class:"text-xs text-gray-500"},pM={key:0,class:"rounded-xl border border-red-200 bg-red-50 p-3 text-sm text-red-700"},gM={key:1,class:"text-center py-6 text-gray-500"},mM={key:2,class:"space-y-6"},bM={class:"grid gap-4 lg:grid-cols-3"},vM={class:"rounded-xl border border-gray-200 bg-white p-4 space-y-3 lg:col-span-1"},yM={class:"flex items-center justify-between"},xM={class:"text-3xl font-semibold"},_M={class:"text-xs text-gray-500"},kM={class:"w-40 h-40 relative"},wM={class:"flex items-center justify-center gap-6 pt-2"},CM={class:"flex items-center gap-2"},SM={class:"text-sm"},AM={class:"font-semibold"},EM={class:"text-xs text-gray-500"},$M={class:"flex items-center gap-2"},MM={class:"text-sm"},TM={class:"font-semibold"},RM={class:"text-xs text-gray-500"},DM={class:"rounded-xl border border-gray-200 bg-white p-4 lg:col-span-2"},PM={key:0},OM={class:"mb-3"},NM={class:"grid grid-cols-1 sm:grid-cols-5 gap-3 text-xs mt-2"},IM={class:"text-center"},LM={class:"font-semibold"},FM={class:"text-xs text-gray-500"},BM={key:1,class:"text-center text-xs text-gray-400"},VM={class:"grid gap-4 lg:grid-cols-3"},jM={class:"rounded-xl border border-gray-200 bg-white p-4 lg:col-span-3"},UM={class:"flex items-center justify-between"},zM=["max","disabled"],HM={key:0},WM={key:1,class:"text-center text-xs text-gray-400"},qM={key:0,class:"grid gap-4 lg:grid-cols-3"},GM={class:"rounded-xl border border-gray-200 bg-white p-4 lg:col-span-2"},KM={key:0},YM={key:1,class:"text-center text-xs text-gray-400"},JM={key:0,class:"rounded-xl border border-gray-200 bg-white p-4 lg:col-span-1"},XM={key:0},QM={class:"flex flex-col items-center gap-4"},ZM={class:"w-40 h-40"},eT={class:"w-full"},tT={class:"grid grid-cols-1 gap-2"},sT={class:"flex items-center gap-2"},nT={class:"text-sm"},aT={class:"text-sm font-semibold"},iT={key:1,class:"text-center text-xs text-gray-400"},oT={__name:"StudentsStats",setup(t){const e=D([]),s=D([]),n=D([]),a=D(""),i=D(""),o=D(""),r=D({total:0,byStatus:[],byGender:[],byLevel:[],byClass:[]}),l=D({total:0,byGender:[]}),c=D(!1),u=D(!1),f=D(!1),h=D(""),p=D({}),b=["#2563eb","#22c55e","#f97316","#ec4899","#0ea5e9","#a855f7","#14b8a6","#f43f5e","#0f172a"],m=["#2563eb","#ec4899","#94a3b8"],g=["#2563eb","#22c55e","#f97316","#7c3aed","#f59e0b","#0ea5e9","#0f172a"],y=[{value:"",label:""},{value:"MALE",label:""},{value:"FEMALE",label:""}];function C(A){return A==="STUDYING"?"":A==="INCOMING"?"":A==="REFERRED"?"":A==="ADDED"?" ()":A==="DELETED"?" ()":A==="NOT_ENROLLED"?" ":A==="LEFT"?"":A==="DROPPED"?"":" "}function k(A){return A==="MALE"?"":A==="FEMALE"?"":" "}const x=he(()=>{var O;return[...((O=r.value)==null?void 0:O.byStatus)||[]].sort((X,re)=>(re.count||0)-(X.count||0))}),_=he(()=>{var O;return[...((O=r.value)==null?void 0:O.byGender)||[]].sort((X,re)=>(re.count||0)-(X.count||0))}),T=he(()=>{var O;return[...((O=r.value)==null?void 0:O.byLevel)||[]].sort((X,re)=>(re.count||0)-(X.count||0))}),E=he(()=>{var O;return[...((O=r.value)==null?void 0:O.byClass)||[]].sort((X,re)=>(re.count||0)-(X.count||0))}),R=he(()=>{const A=[];return a.value&&A.push(`: ${a.value}`),i.value&&A.push(`: ${i.value}`),o.value&&A.push(`: ${k(o.value)}`),A.length?A.join(" "):" "});he(()=>({labels:x.value.map(A=>C(A.status)),data:x.value.map(A=>A.count),colors:x.value.map((A,O)=>b[O%b.length])}));const I=he(()=>{const A=["INCOMING","REFERRED","LEFT","DROPPED","NOT_ENROLLED"],O=["#1e40af","#7c3aed","#be185d","#b91c1c","#374151"],X={INCOMING:F_,REFERRED:R_,LEFT:w_,DROPPED:B_,NOT_ENROLLED:L_},re=A.map((ie,N)=>{const F=(r.value.byStatus||[]).find(Y=>Y.status===ie);return{key:ie,label:C(ie),count:(F==null?void 0:F.count)||0,color:O[N%O.length],Icon:X[ie]}});return{labels:re.map(ie=>ie.label),data:re.map(ie=>ie.count),colors:re.map(ie=>ie.color),items:re}});he(()=>({labels:_.value.map(A=>k(A.gender)),data:_.value.map(A=>A.count),colors:_.value.map((A,O)=>m[O%m.length])}));const P=he(()=>{var ie,N,F;const A=((ie=l.value)==null?void 0:ie.byGender)||[],O=((N=A.find(Y=>Y.gender==="MALE"))==null?void 0:N.count)||0,X=((F=A.find(Y=>Y.gender==="FEMALE"))==null?void 0:F.count)||0,re=O+X||0;return{labels:["",""],data:[O,X],colors:["#1e40af","#be185d"],total:re,percents:re?[Math.round(O/re*100),Math.round(X/re*100)]:[0,0]}});he(()=>({labels:T.value.map(A=>A.level),datasets:[{label:" ",data:T.value.map(A=>A.count),backgroundColor:T.value.map((A,O)=>g[O%g.length])}]})),he(()=>({labels:E.value.map(A=>A.class_name),datasets:[{label:" ",data:E.value.map(A=>A.count),backgroundColor:E.value.map((A,O)=>g[(O+2)%g.length])}]})),he(()=>{var F;const A=((F=l.value)==null?void 0:F.byLevel)||[];if(!A.length)return{labels:[],data:[],colors:[],total:0,percents:[]};const O=A.map(Y=>Y.level),X=A.map(Y=>Y.count),re=X.reduce((Y,ce)=>Y+(ce||0),0),ie=A.map((Y,ce)=>g[ce%g.length]),N=re?X.map(Y=>Math.round(Y/re*100)):X.map(()=>0);return{labels:O,data:X,colors:ie,total:re,percents:N}});const q=he(()=>{var we,_e;const A=((we=l.value)==null?void 0:we.byLevel)||[];if(!A.length)return{labels:[],datasets:[]};const O={};(n.value||[]).forEach(ve=>{const ye=ve.level,Te=ve.cycle||(ve.level&&String(ve.level).toLowerCase().includes("")?"":ve.cycle||"");ye&&Te&&(O[String(ye)]=Te)});const X={},re={},ie=((_e=P.value)==null?void 0:_e.percents)||[0,0],N=ie[0]||0,F=ie[1]||0;A.forEach(ve=>{const ye=String(ve.level),Te=O[ye]||ve.level||" ";let Se=0,Re=0;if(typeof ve.male<"u"||typeof ve.female<"u")Se=Number(ve.male||0),Re=Number(ve.female||0);else if(Array.isArray(ve.byGender))Se=Number((ve.byGender.find(Pe=>Pe.gender==="MALE")||{}).count||0),Re=Number((ve.byGender.find(Pe=>Pe.gender==="FEMALE")||{}).count||0);else if(typeof ve.count<"u"){const Pe=Number(ve.count||0);N+F>0?(Se=Math.round(Pe*N/(N+F)),Re=Pe-Se):(Se=Math.round(Pe/2),Re=Pe-Se)}X[Te]=(X[Te]||0)+Se,re[Te]=(re[Te]||0)+Re});const Y=Array.from(new Set([...Object.keys(X),...Object.keys(re)])),ce=Y.map(ve=>U(ve)),pe=Y.map(ve=>X[ve]||0),fe=Y.map(ve=>re[ve]||0);return{labels:ce,datasets:[{label:"",data:pe,backgroundColor:"#1e40af"},{label:"",data:fe,backgroundColor:"#be185d"}]}}),J=he(()=>{var pe;const A=((pe=l.value)==null?void 0:pe.byLevel)||[];if(!A.length)return{labels:[],data:[],colors:[],total:0,percents:[]};const O={};(n.value||[]).forEach(fe=>{const we=fe.level,_e=fe.cycle||(fe.level&&String(fe.level).toLowerCase().includes("")?"":fe.cycle||"");we&&_e&&(O[String(we)]=_e)});const X={};A.forEach(fe=>{const we=String(fe.level),_e=O[we]||fe.level||" ";X[_e]=(X[_e]||0)+(fe.count||0)});const re=Object.keys(X),ie=re.map(fe=>U(fe)),N=re.map(fe=>X[fe]),F=N.reduce((fe,we)=>fe+we,0),Y=ie.map((fe,we)=>g[we%g.length]),ce=F?N.map(fe=>Math.round(fe/F*100)):N.map(()=>0);return{labels:ie,data:N,colors:Y,total:F,percents:ce}});he(()=>{const A=q.value||{labels:[],datasets:[]},O=A.labels||[],X=A.datasets&&A.datasets[0]&&A.datasets[0].data||[],re=A.datasets&&A.datasets[1]&&A.datasets[1].data||[],ie=O.map((F,Y)=>{const ce=Number(X[Y]||0),pe=Number(re[Y]||0);return{label:F,male:ce,female:pe,total:ce+pe}}),N=ie.reduce((F,Y)=>F+Y.total,0)||l.value.total||0;return ie.forEach(F=>F.percent=N?Math.round(F.total/N*100):0),ie});function U(A){if(!A)return" ";const O=String(A).trim().toLowerCase();return/^(primary|elementary|)/.test(O)?"":/^(middle|intermediate|junior|||)/.test(O)?"":/^(secondary|high|lycee|||)/.test(O)?"":/^(unknown|| )/.test(O)?" ":String(A)}const V=he(()=>{const A=new Set;return(n.value||[]).forEach(O=>{if(!(O.is_active===1||O.is_active===!0||String(O.is_active)==="1"))return;const re=O.cycle||O.level||" ";A.add(U(re))}),A.size}),ee=he(()=>{const A=new Date,O=A.getMonth()+1>=9?A.getFullYear():A.getFullYear()-1;return`${O}/${O+1}`}),K=new Date,M=D(`${K.getFullYear()}-${String(K.getMonth()+1).padStart(2,"0")}`),H=he(()=>{const A=new Date;return`${A.getFullYear()}-${String(A.getMonth()+1).padStart(2,"0")}`});he(()=>{const A=new Date,O=A.getMonth()+1>=9?A.getFullYear():A.getFullYear()-1,X=new Date(O,8,1),re=[];let ie=new Date(X);const N=new Date(A.getFullYear(),A.getMonth(),1);for(;ie<=N;)re.push(`${ie.getFullYear()}-${String(ie.getMonth()+1).padStart(2,"0")}`),ie=new Date(ie.getFullYear(),ie.getMonth()+1,1);return["ALL",...re]});function se(A){try{const[O,X]=A.split("-");return new Date(Number(O),Number(X)-1,1).toLocaleString("ar-MA",{month:"long",year:"numeric"})}catch{return A}}const xe=D({labels:[],data:[]});async function ge(){if(M.value){u.value=!0;try{const O=M.value==="ALL",X={group:O?"month":"day",status:"STUDYING"};O||(X.month=M.value);const ie=(await le.get("/students/stats",{params:X})).data||{};if(O){const N=ie.labels||ie.months||ie.byMonth&&Object.keys(ie.byMonth)||[],F=ie.data||ie.counts||ie.byMonth&&Object.values(ie.byMonth)||[],Y=Array.isArray(N)?N:[],ce=Array.isArray(F)?F.map(pe=>Number(pe||0)):[];xe.value.labels=Y.map(pe=>pe==="ALL"?"":se(pe)),xe.value.data=ce}else{let Te=function(Oe){if(Oe==null)return NaN;const Ie=String(Oe).trim(),Be=Ie.match(/(\d{4})[-\/](\d{1,2})[-\/](\d{1,2})/);if(Be)return Number(Be[3]);const dt=Date.parse(Ie);if(!Number.isNaN(dt))return new Date(dt).getDate();const tt=parseInt(Ie,10);if(!Number.isNaN(tt)){if(tt>=1&&tt<=31)return tt;const It=Ie.slice(-2),Ct=parseInt(It,10);return Number.isNaN(Ct)?NaN:Ct}return NaN};var A=Te;const[N,F]=(M.value||"").split("-"),Y=Number(N)||new Date().getFullYear(),ce=Number(F)||new Date().getMonth()+1,pe=new Date(Y,ce,0).getDate(),fe=new Date,_e=Y===fe.getFullYear()&&ce===fe.getMonth()+1?fe.getDate():pe,ve=Array.from({length:_e},(Oe,Ie)=>String(Ie+1)),ye={};if(ie.byDay&&typeof ie.byDay=="object")Object.keys(ie.byDay).forEach(Oe=>{const Ie=Te(Oe);!Number.isNaN(Ie)&&Ie>=1&&Ie<=pe&&(ye[Ie]=Number(ie.byDay[Oe]||0))});else{const Oe=ie.labels||ie.days||[],Ie=ie.data||ie.counts||ie.values||[];Array.isArray(Oe)&&Array.isArray(Ie)&&Oe.forEach((Be,dt)=>{const tt=Te(Be);!Number.isNaN(tt)&&tt>=1&&tt<=pe&&(ye[tt]=Number(Ie[dt]||0))})}const Se=Array.from({length:pe},()=>0),Re=ie.labels||ie.days||[],Pe=ie.data||ie.counts||ie.values||[];if(Array.isArray(Re)&&Array.isArray(Pe)&&Re.length===Pe.length&&Re.length)Re.forEach((Oe,Ie)=>{const Be=Te(Oe);!Number.isNaN(Be)&&Be>=1&&Be<=pe&&(Se[Be-1]=Number(Pe[Ie]||0))});else if(Object.keys(ye).length)for(let Oe=1;Oe<=pe;Oe++)Se[Oe-1]=ye[Oe]||0;xe.value.labels=ve,xe.value.data=Se.slice(0,ve.length)}}catch(O){console.error(O),xe.value={labels:[],data:[]}}finally{u.value=!1}}}qe(M,()=>ge(),{immediate:!0});async function G(){try{const O=(await le.get("/students",{params:{limit:1}})).data.options||{};e.value=O.classes||[],s.value=O.levels||[]}catch(A){console.error(A)}}async function z(){var A;try{const O=await le.get("/classes",{params:{limit:100}});n.value=Array.isArray(O.data)?O.data:((A=O.data)==null?void 0:A.data)||O.data||[]}catch(O){console.error(O),n.value=[]}}async function ae(){try{const A=await le.get("/settings/public");p.value=A.data||{}}catch(A){console.error(A)}}async function te(){var A,O;c.value=!0,h.value="";try{const X={};a.value&&(X.level=a.value),i.value&&(X.class=i.value),o.value&&(X.gender=o.value);const re=le.get("/students/stats",{params:X}),ie={...X,status:"STUDYING"},N=le.get("/students/stats",{params:ie}),[F,Y]=await Promise.all([re,N]);r.value=F.data||r.value;const ce=Y.data||{};l.value={total:Number(ce.total||0),byGender:Array.isArray(ce.byGender)?ce.byGender:[],byLevel:Array.isArray(ce.byLevel)?ce.byLevel:[]}}catch(X){h.value=((O=(A=X==null?void 0:X.response)==null?void 0:A.data)==null?void 0:O.message)||X.message||"  "}finally{c.value=!1}}async function j(){var A,O;if(!f.value){f.value=!0,h.value="";try{const X={};a.value&&(X.level=a.value),i.value&&(X.class=i.value),o.value&&(X.gender=o.value);const re=await le.get("/students/stats/pdf",{params:X,responseType:"blob"}),ie=new Blob([re.data],{type:"application/pdf"}),N=URL.createObjectURL(ie),F=document.createElement("a");F.href=N,F.download="student-stats.pdf",document.body.appendChild(F),F.click(),document.body.removeChild(F),URL.revokeObjectURL(N)}catch(X){h.value=((O=(A=X==null?void 0:X.response)==null?void 0:A.data)==null?void 0:O.message)||X.message||"   PDF"}finally{f.value=!1}}}return je(async()=>{await ae(),await G(),await z()}),qe(()=>[a.value,i.value,o.value],()=>{te()},{immediate:!0}),(A,O)=>{var X,re;return v(),w("div",iM,[d("div",oM,[O[6]||(O[6]=d("div",null,[d("h1",{class:"text-xl font-bold"}," "),d("p",{class:"text-sm text-slate-500"},"         . ")],-1)),d("div",rM,[S(me,{type:"button",disabled:c.value,onClick:te,variant:"secondary"},{default:ne(()=>[S(B(ds),{class:"w-4 h-4 inline-block"}),O[4]||(O[4]=Q("  ",-1))]),_:1},8,["disabled"]),S(me,{type:"button",disabled:c.value||f.value,loading:f.value,onClick:j,variant:"primary"},{default:ne(()=>[S(B(sc),{class:"w-4 h-4 inline-block"}),O[5]||(O[5]=Q("  PDF ",-1))]),_:1},8,["disabled","loading"])])]),d("div",lM,[d("div",dM,[d("div",null,[O[8]||(O[8]=d("label",{class:"label"},"",-1)),Ce(d("select",{"onUpdate:modelValue":O[0]||(O[0]=ie=>a.value=ie),class:"select mt-1"},[O[7]||(O[7]=d("option",{value:""}," ",-1)),(v(!0),w(be,null,ke(s.value,ie=>(v(),w("option",{key:ie,value:ie},$(ie),9,cM))),128))],512),[[Ye,a.value]])]),d("div",null,[O[10]||(O[10]=d("label",{class:"label"},"",-1)),Ce(d("select",{"onUpdate:modelValue":O[1]||(O[1]=ie=>i.value=ie),class:"select mt-1"},[O[9]||(O[9]=d("option",{value:""}," ",-1)),(v(!0),w(be,null,ke(e.value,ie=>(v(),w("option",{key:ie,value:ie},$(ie),9,uM))),128))],512),[[Ye,i.value]])]),d("div",null,[O[11]||(O[11]=d("label",{class:"label"},"",-1)),Ce(d("select",{"onUpdate:modelValue":O[2]||(O[2]=ie=>o.value=ie),class:"select mt-1"},[(v(),w(be,null,ke(y,ie=>d("option",{key:ie.value,value:ie.value},$(ie.label),9,fM)),64))],512),[[Ye,o.value]])])]),d("p",hM," : "+$(R.value),1),h.value?(v(),w("div",pM,$(h.value),1)):c.value?(v(),w("div",gM,"   ... ")):(v(),w("div",mM,[d("div",bM,[d("div",vM,[O[13]||(O[13]=d("div",{class:"font-semibold"}," ",-1)),d("div",yM,[d("div",null,[d("p",xM,$(l.value.total),1),d("p",_M,"  "+$(ee.value),1)]),d("div",kM,[O[12]||(O[12]=d("div",{class:"absolute inset-0 rounded-full pointer-events-none",style:{background:"radial-gradient(circle at 30% 25%, rgba(255,255,255,0.35), rgba(255,255,255,0) 30%)","mix-blend-mode":"overlay"}},null,-1)),S(mr,{labels:P.value.labels,data:P.value.data,colors:P.value.colors,height:140,cutout:"60%",options:{plugins:{legend:{display:!1,position:"bottom"}}}},null,8,["labels","data","colors"])])]),d("div",wM,[d("div",CM,[S(B(C_),{class:"h-5 w-5",style:{color:"#1e40af"}}),d("div",SM,[d("div",AM,$(P.value.data[0]||0),1),d("div",EM,"  "+$(P.value.percents[0]||0)+"%",1)])]),d("div",$M,[S(B(V_),{class:"h-5 w-5",style:{color:"#be185d"}}),d("div",MM,[d("div",TM,$(P.value.data[1]||0),1),d("div",RM,"  "+$(P.value.percents[1]||0)+"%",1)])])])]),d("div",DM,[O[14]||(O[14]=d("p",{class:"font-semibold mb-2"}," ",-1)),I.value.data.some(ie=>ie>0)?(v(),w("div",PM,[d("div",OM,[S(Ei,{labels:I.value.labels,datasets:[{label:" ",data:I.value.data,backgroundColor:I.value.colors}],height:220},null,8,["labels","datasets"])]),d("div",NM,[(v(!0),w(be,null,ke(I.value.items,ie=>(v(),w("div",{key:ie.key,class:"flex items-center justify-center gap-2"},[(v(),$e($t(ie.Icon),{class:"h-5 w-5",style:vs({color:ie.color})},null,8,["style"])),d("div",IM,[d("div",LM,$(ie.count),1),d("div",FM,$(ie.label),1)])]))),128))])])):(v(),w("div",BM,"    "))])]),d("div",VM,[d("div",jM,[d("div",UM,[O[15]||(O[15]=d("p",{class:"font-semibold mb-2"},"    ",-1)),Ce(d("input",{type:"month","onUpdate:modelValue":O[3]||(O[3]=ie=>M.value=ie),max:H.value,class:"input input-sm",disabled:M.value===B(K)},null,8,zM),[[Ue,M.value]])]),(X=xe.value.labels)!=null&&X.length?(v(),w("div",HM,[S(aM,{labels:xe.value.labels,datasets:[{label:" ",data:xe.value.data,borderColor:"#2563eb",backgroundColor:"rgba(37,99,235,0.08)",fill:!0}],height:240},null,8,["labels","datasets"])])):(v(),w("div",WM,"   "))])]),V.value>1?(v(),w("div",qM,[d("div",GM,[O[16]||(O[16]=d("p",{class:"font-semibold mb-2"},"   ",-1)),(re=q.value.labels)!=null&&re.length?(v(),w("div",KM,[S(Ei,{labels:q.value.labels,datasets:q.value.datasets,height:320},null,8,["labels","datasets"])])):(v(),w("div",YM,"    "))]),V.value>1?(v(),w("div",JM,[O[17]||(O[17]=d("p",{class:"font-semibold mb-2"},"   ",-1)),J.value.data.length?(v(),w("div",XM,[d("div",QM,[d("div",ZM,[S(mr,{labels:J.value.labels,data:J.value.data,colors:J.value.colors,height:160,cutout:"40%",options:{plugins:{legend:{display:!1,position:"bottom"}}}},null,8,["labels","data","colors"])]),d("div",eT,[d("div",tT,[(v(!0),w(be,null,ke(J.value.labels,(ie,N)=>(v(),w("div",{key:ie,class:"flex items-center justify-between py-1"},[d("div",sT,[d("span",{style:vs({background:J.value.colors[N],width:"12px",height:"12px",display:"inline-block",borderRadius:"3px"})},null,4),d("span",nT,$(ie),1)]),d("div",aT,$(J.value.data[N]||0)+"  "+$(J.value.percents[N]||0)+"%",1)]))),128))])])])])):de("",!0)])):(v(),w("div",iT,"  "))])):de("",!0)]))])])}}};function bm(){return{showToast:(e,s="success")=>{window.showToast&&window.showToast(e,s)}}}const rT={class:"p-6 space-y-6"},lT={class:"card p-4"},dT={class:"grid grid-cols-1 md:grid-cols-3 gap-3"},cT={class:"md:col-span-1"},uT={key:0,class:"alert alert-danger"},fT={key:1,class:"card p-12"},hT={key:2,class:"card overflow-hidden bg-white dark:bg-slate-900"},pT={key:0,class:"min-w-full text-sm table-auto border-2 border-slate-200 dark:border-slate-700 rounded-xl overflow-hidden bg-white dark:bg-slate-900 shadow-lg"},gT={class:"bg-gradient-to-r from-slate-100 to-slate-50 dark:from-slate-800 dark:to-slate-700 text-slate-900 dark:text-slate-100"},mT={class:"p-4 w-12 text-center border-r border-slate-200 dark:border-slate-600"},bT={key:0,class:"p-4 font-bold"},vT={class:"p-4 text-center border-r border-slate-200 dark:border-slate-700"},yT=["checked","onChange"],xT={class:"p-4 text-right border-r border-slate-200 dark:border-slate-700 font-semibold text-slate-900 dark:text-slate-100"},_T={class:"p-4 border-r border-slate-200 dark:border-slate-700 text-slate-900 dark:text-slate-100"},kT={class:"p-4 border-r border-slate-200 dark:border-slate-700 text-slate-900 dark:text-slate-100"},wT={class:"p-4 border-r border-slate-200 dark:border-slate-700 text-slate-900 dark:text-slate-100"},CT={key:0,class:"p-4 text-center"},ST={class:"flex flex-wrap gap-2 justify-center"},AT={class:"flex flex-col md:flex-row md:items-center md:justify-between gap-3"},ET={class:"text-sm text-slate-600 dark:text-slate-400"},$T={class:"font-semibold"},MT={class:"font-semibold"},TT={class:"font-semibold"},RT={class:"flex items-center gap-2"},DT={key:1,class:"text-slate-400"},PT={key:2,class:"text-slate-400"},OT={__name:"Teachers",setup(t){const{showToast:e}=bm(),s=Jr(),n=D([]),a=D([]),i=D(!1),o=D(""),r=D(""),l=D(""),c=D(new Set),u=D(!1),f=D(!1),h=D(1),p=D(20),b=D({page:1,limit:20,total:0,totalPages:1});he(()=>ht.canAccess("import"));const m=he(()=>["DIRECTOR","ADMIN"].includes(ht.role()));function g(I){return I==="MALE"?"":I==="FEMALE"?"":""}async function y(I,P){var J,U;if(await s.confirmDelete(` ${P}`))try{await le.delete(`/teachers/${I}`),await _(),e("   ","success")}catch(V){e(((U=(J=V==null?void 0:V.response)==null?void 0:J.data)==null?void 0:U.message)||V.message||" .","error")}}const C=he(()=>a.value.length>0&&a.value.every(I=>c.value.has(I.id)));function k(){C.value?a.value.forEach(I=>c.value.delete(I.id)):a.value.forEach(I=>c.value.add(I.id))}async function x(){const I=await le.get("/templates");n.value=I.data||[]}async function _(){var I,P;i.value=!0,o.value="";try{const q=await le.get("/teachers",{params:{page:h.value,limit:p.value,q:r.value||void 0,gender:l.value||void 0}});a.value=q.data.data||[],b.value=q.data.meta||b.value}catch(q){o.value=((P=(I=q==null?void 0:q.response)==null?void 0:I.data)==null?void 0:P.message)||q.message||" "}finally{i.value=!1}}function T(I){const P=b.value.totalPages||1,q=Math.max(1,Math.min(P,I));h.value=q}const E=he(()=>{const I=b.value.totalPages||1,P=b.value.page||1,q=[],J=Math.max(1,P-2),U=Math.min(I,P+2);for(let V=J;V<=U;V++)q.push(V);return q});async function R(I){var q,J;if(f.value)return;f.value=!0;const P=Array.from(c.value);if(P.length===0){e("     .","warning"),f.value=!1;return}try{const V=(await le.post("/campaigns",{audience:"TEACHERS",mode:"GENERAL",message_body:I.message_body,media_path:I.media_path||null,ids:P,filter_json:{q:r.value||null,gender:l.value||null,page:b.value.page,limit:b.value.limit}})).data.campaignId;await le.post(`/campaigns/${V}/send`),u.value=!1,e("   ","success")}catch(U){e(((J=(q=U==null?void 0:U.response)==null?void 0:q.data)==null?void 0:J.message)||U.message||"  .","error")}finally{f.value=!1}}return qe([r,l,p],()=>{h.value=1,_()}),qe(h,()=>_()),je(async()=>{await x(),await _()}),(I,P)=>(v(),w("div",rT,[S(cs,{title:"",icon:B(ir),"show-breadcrumbs":!0},{subtitle:ne(()=>[...P[11]||(P[11]=[Q("      ",-1)])]),actions:ne(()=>[m.value?(v(),$e(me,{key:0,variant:"outline",size:"md",onClick:P[0]||(P[0]=q=>I.$router.push("/teachers/add"))},{default:ne(()=>[...P[12]||(P[12]=[Q("   ",-1)])]),_:1})):de("",!0),S(me,{variant:"primary",size:"md",onClick:P[1]||(P[1]=q=>u.value=!0)},{default:ne(()=>[S(B(Xt),{class:"w-4 h-4 ml-1"}),Q("   ("+$(c.value.size)+") ",1)]),_:1})]),_:1},8,["icon"]),d("div",lT,[d("div",dT,[d("div",cT,[P[13]||(P[13]=d("label",{class:"text-sm text-slate-600 dark:text-slate-400"},"",-1)),S(ze,{modelValue:r.value,"onUpdate:modelValue":P[2]||(P[2]=q=>r.value=q),placeholder:"    ...",icon:B(e0),class:"mt-1"},null,8,["modelValue","icon"])]),d("div",null,[P[14]||(P[14]=d("label",{class:"text-sm text-slate-600 dark:text-slate-400"},"",-1)),S(mt,{modelValue:l.value,"onUpdate:modelValue":P[3]||(P[3]=q=>l.value=q),options:[{value:"",label:""},{value:"MALE",label:""},{value:"FEMALE",label:""}],"value-key":"value","label-key":"label",class:"mt-1"},null,8,["modelValue"])]),d("div",null,[P[15]||(P[15]=d("label",{class:"text-sm text-slate-600 dark:text-slate-400"}," ",-1)),S(mt,{modelValue:p.value,"onUpdate:modelValue":P[4]||(P[4]=q=>p.value=q),modelModifiers:{number:!0},options:[{value:10,label:"10"},{value:20,label:"20"},{value:50,label:"50"},{value:100,label:"100"}],"value-key":"value","label-key":"label",class:"mt-1"},null,8,["modelValue"])])])]),o.value?(v(),w("div",uT,[P[16]||(P[16]=d("div",{class:"font-semibold"}," ",-1)),d("div",null,$(o.value),1)])):de("",!0),i.value?(v(),w("div",fT,[S(Os,{size:"lg",class:"mx-auto"}),P[17]||(P[17]=d("p",{class:"text-center text-slate-600 dark:text-slate-400 mt-4"},"  ...",-1))])):(v(),w("div",hT,[a.value.length>0?(v(),w("table",pT,[d("thead",gT,[d("tr",null,[d("th",mT,[d("button",{class:"rounded-lg bg-slate-200 dark:bg-slate-600 hover:bg-slate-300 dark:hover:bg-slate-500 px-3 py-1.5 transition font-bold flex items-center justify-center",onClick:k},[C.value?(v(),$e(B(Ot),{key:0,class:"w-4 h-4"})):(v(),$e(B(tc),{key:1,class:"w-4 h-4"}))])]),P[18]||(P[18]=d("th",{class:"p-4 text-right border-r border-slate-200 dark:border-slate-600 font-bold"},"",-1)),P[19]||(P[19]=d("th",{class:"p-4 border-r border-slate-200 dark:border-slate-600 font-bold"}," ",-1)),P[20]||(P[20]=d("th",{class:"p-4 border-r border-slate-200 dark:border-slate-600 font-bold"},"",-1)),P[21]||(P[21]=d("th",{class:"p-4 border-r border-slate-200 dark:border-slate-600 font-bold"},"",-1)),m.value?(v(),w("th",bT,"")):de("",!0)])]),d("tbody",null,[(v(!0),w(be,null,ke(a.value,q=>(v(),w("tr",{key:q.id,class:"border-t-2 border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors"},[d("td",vT,[d("input",{type:"checkbox",class:"w-4 h-4 rounded border-slate-300 dark:border-slate-600",checked:c.value.has(q.id),onChange:J=>J.target.checked?c.value.add(q.id):c.value.delete(q.id)},null,40,yT)]),d("td",xT,$(q.full_name),1),d("td",_T,$(q.Code_CIN),1),d("td",kT,$(g(q.gender)),1),d("td",wT,$(q.phone||""),1),m.value?(v(),w("td",CT,[d("div",ST,[S(me,{variant:"outline",size:"sm",onClick:J=>I.$router.push(`/teachers/${q.id}/edit`)},{default:ne(()=>[S(B(gn),{class:"w-3.5 h-3.5 ml-1"}),P[22]||(P[22]=Q("  ",-1))]),_:1},8,["onClick"]),S(me,{variant:"danger",size:"sm",onClick:J=>y(q.id,q.full_name)},{default:ne(()=>[S(B(mn),{class:"w-3.5 h-3.5 ml-1"}),P[23]||(P[23]=Q("  ",-1))]),_:1},8,["onClick"])])])):de("",!0)]))),128))])])):(v(),$e(fa,{key:1,icon:"User",title:"  ",message:"      "}))])),d("div",AT,[d("div",ET,[P[24]||(P[24]=Q(" : ",-1)),d("span",$T,$(b.value.total),1),P[25]||(P[25]=Q("   ",-1)),d("span",MT,$(b.value.page),1),P[26]||(P[26]=Q(" / ",-1)),d("span",TT,$(b.value.totalPages),1)]),d("div",RT,[S(me,{variant:"outline",size:"sm",disabled:b.value.page<=1,onClick:P[5]||(P[5]=q=>T(b.value.page-1))},{default:ne(()=>[...P[27]||(P[27]=[Q("  ",-1)])]),_:1},8,["disabled"]),b.value.page>3?(v(),$e(me,{key:0,variant:"outline",size:"sm",onClick:P[6]||(P[6]=q=>T(1))},{default:ne(()=>[...P[28]||(P[28]=[Q(" 1 ",-1)])]),_:1})):de("",!0),b.value.page>4?(v(),w("span",DT,"")):de("",!0),(v(!0),w(be,null,ke(E.value,q=>(v(),$e(me,{key:q,variant:q===b.value.page?"primary":"outline",size:"sm",onClick:J=>T(q)},{default:ne(()=>[Q($(q),1)]),_:2},1032,["variant","onClick"]))),128)),b.value.page<b.value.totalPages-3?(v(),w("span",PT,"")):de("",!0),b.value.page<b.value.totalPages-2?(v(),$e(me,{key:3,variant:"outline",size:"sm",onClick:P[7]||(P[7]=q=>T(b.value.totalPages))},{default:ne(()=>[Q($(b.value.totalPages),1)]),_:1})):de("",!0),S(me,{variant:"outline",size:"sm",disabled:b.value.page>=b.value.totalPages,onClick:P[8]||(P[8]=q=>T(b.value.page+1))},{default:ne(()=>[...P[29]||(P[29]=[Q("  ",-1)])]),_:1},8,["disabled"])])]),S(mm,{open:u.value,templates:n.value,sending:f.value,lockedMode:"GENERAL",audience:"teachers",onClose:P[9]||(P[9]=q=>u.value=!1),onSend:R},null,8,["open","templates","sending"]),S(Xr,{modelValue:B(s).isOpen,"onUpdate:modelValue":P[10]||(P[10]=q=>B(s).isOpen=q),title:B(s).title,message:B(s).message,variant:B(s).variant,"confirm-text":B(s).confirmText,"cancel-text":B(s).cancelText,loading:B(s).loading,onConfirm:B(s).handleConfirm,onCancel:B(s).handleCancel},null,8,["modelValue","title","message","variant","confirm-text","cancel-text","loading","onConfirm","onCancel"])]))}},NT={class:"p-6 space-y-4"},IT={class:"flex items-center justify-between"},LT={key:0,class:"rounded-xl border border-red-200 bg-red-50 p-3 text-red-700"},FT={class:"rounded-2xl border bg-white p-6 space-y-4"},BT={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},VT={class:"md:col-span-2"},jT={class:"mt-2 flex items-center gap-3"},UT=["src"],zT={class:"flex justify-end gap-3"},HT={__name:"TeacherAdd",setup(t){const e=ra(),{showToast:s}=bm(),n=D(!1),a=D(""),i=D({avatar_url:"",full_name:"",Code_CIN:"",gender:"MALE",phone:""});function o(c){return c?/^https?:\/\//i.test(c)?c:`http://localhost:3000${c}`:""}async function r(c){var f,h,p;const u=(f=c.target.files)==null?void 0:f[0];if(u)try{const b=new FormData;b.append("file",u);const m=await le.post("/media/upload",b);i.value.avatar_url=m.data.url,s("  ")}catch(b){s(((p=(h=b==null?void 0:b.response)==null?void 0:h.data)==null?void 0:p.message)||b.message||"  ","error")}finally{c.target.value=""}}async function l(){var c,u;if(!i.value.full_name||!i.value.Code_CIN){s("      ","error");return}n.value=!0,a.value="";try{await le.post("/teachers",i.value),s("   "),e.push("/teachers")}catch(f){s(((u=(c=f==null?void 0:f.response)==null?void 0:c.data)==null?void 0:u.message)||f.message||"  ","error")}finally{n.value=!1}}return(c,u)=>(v(),w("div",NT,[d("div",IT,[u[6]||(u[6]=d("h1",{class:"text-xl font-bold"}," ",-1)),d("button",{class:"rounded-xl border px-3 py-2 hover:bg-gray-50",onClick:u[0]||(u[0]=f=>B(e).push("/teachers"))},"")]),a.value?(v(),w("div",LT,$(a.value),1)):de("",!0),d("div",FT,[d("div",BT,[d("div",VT,[u[7]||(u[7]=d("label",{class:"text-sm text-gray-600"}," ",-1)),d("div",jT,[i.value.avatar_url?(v(),w("img",{key:0,src:o(i.value.avatar_url),class:"h-16 w-16 rounded-2xl object-cover border",alt:"avatar"},null,8,UT)):de("",!0),d("input",{type:"file",accept:"image/*",class:"mt-1",onChange:r},null,32)])]),d("div",null,[u[8]||(u[8]=d("label",{class:"text-sm text-gray-600"}," ",-1)),Ce(d("input",{"onUpdate:modelValue":u[1]||(u[1]=f=>i.value.full_name=f),class:"mt-1 w-full rounded-xl border p-2"},null,512),[[Ue,i.value.full_name]])]),d("div",null,[u[9]||(u[9]=d("label",{class:"text-sm text-gray-600"},"   ",-1)),Ce(d("input",{"onUpdate:modelValue":u[2]||(u[2]=f=>i.value.Code_CIN=f),class:"mt-1 w-full rounded-xl border p-2"},null,512),[[Ue,i.value.Code_CIN]])]),d("div",null,[u[11]||(u[11]=d("label",{class:"text-sm text-gray-600"},"",-1)),Ce(d("select",{"onUpdate:modelValue":u[3]||(u[3]=f=>i.value.gender=f),class:"mt-1 w-full rounded-xl border p-2"},[...u[10]||(u[10]=[d("option",{value:"MALE"},"",-1),d("option",{value:"FEMALE"},"",-1)])],512),[[Ye,i.value.gender]])]),d("div",null,[u[12]||(u[12]=d("label",{class:"text-sm text-gray-600"},"",-1)),Ce(d("input",{"onUpdate:modelValue":u[4]||(u[4]=f=>i.value.phone=f),class:"mt-1 w-full rounded-xl border p-2"},null,512),[[Ue,i.value.phone]])])]),d("div",zT,[d("button",{class:"rounded-xl border px-4 py-2 hover:bg-gray-50",onClick:u[5]||(u[5]=f=>B(e).push("/teachers"))},""),S(me,{disabled:n.value,loading:n.value,onClick:l,variant:"primary"},{default:ne(()=>[S(B(is),{class:"w-4 h-4 inline-block"}),Q(" "+$(n.value?"...":""),1)]),_:1},8,["disabled","loading"])])])]))}},WT={class:"p-6 space-y-4"},qT={class:"flex items-center justify-between"},GT={key:0,class:"rounded-xl border border-red-200 bg-red-50 p-3 text-red-700"},KT={class:"card p-6 space-y-4"},YT={key:0,class:"text-center text-gray-600"},JT={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},XT={class:"flex justify-end gap-3"},QT={__name:"TeacherEdit",setup(t){const e=ra(),s=la(),n=D(!1),a=D(!1),i=D(""),o=D({full_name:"",Code_CIN:"",gender:"",phone:""});async function r(){var c,u;n.value=!0,i.value="";try{const f=await le.get(`/teachers/${s.params.id}`);o.value={full_name:f.data.full_name||"",Code_CIN:f.data.Code_CIN||"",gender:f.data.gender||"",phone:f.data.phone||""}}catch(f){i.value=((u=(c=f==null?void 0:f.response)==null?void 0:c.data)==null?void 0:u.message)||f.message||"   ."}finally{n.value=!1}}async function l(){var c,u;if(!o.value.full_name||!o.value.Code_CIN){oe.showAlert("warning","","   .");return}a.value=!0,i.value="";try{await le.put(`/teachers/${s.params.id}`,{...o.value,gender:o.value.gender||null}),oe.showAlert("success","","   ."),e.push("/teachers")}catch(f){oe.showAlert("error","",((u=(c=f==null?void 0:f.response)==null?void 0:c.data)==null?void 0:u.message)||f.message||" ")}finally{a.value=!1}}return je(r),(c,u)=>(v(),w("div",WT,[d("div",qT,[u[6]||(u[6]=d("h1",{class:"text-xl font-bold"}," ",-1)),d("button",{class:"btn btn-outline",onClick:u[0]||(u[0]=f=>B(e).push("/teachers"))},"")]),i.value?(v(),w("div",GT,$(i.value),1)):de("",!0),d("div",KT,[n.value?(v(),w("div",YT," ...")):(v(),w(be,{key:1},[d("div",JT,[d("div",null,[u[7]||(u[7]=d("label",{class:"text-sm text-gray-600"}," ",-1)),Ce(d("input",{"onUpdate:modelValue":u[1]||(u[1]=f=>o.value.full_name=f),class:"input mt-1"},null,512),[[Ue,o.value.full_name]])]),d("div",null,[u[8]||(u[8]=d("label",{class:"text-sm text-gray-600"},"  ",-1)),Ce(d("input",{"onUpdate:modelValue":u[2]||(u[2]=f=>o.value.Code_CIN=f),class:"input mt-1"},null,512),[[Ue,o.value.Code_CIN]])]),d("div",null,[u[10]||(u[10]=d("label",{class:"text-sm text-gray-600"},"",-1)),Ce(d("select",{"onUpdate:modelValue":u[3]||(u[3]=f=>o.value.gender=f),class:"select mt-1"},[...u[9]||(u[9]=[d("option",{value:"MALE"},"",-1),d("option",{value:"FEMALE"},"",-1)])],512),[[Ye,o.value.gender]])]),d("div",null,[u[11]||(u[11]=d("label",{class:"text-sm text-gray-600"},"",-1)),Ce(d("input",{"onUpdate:modelValue":u[4]||(u[4]=f=>o.value.phone=f),class:"input mt-1"},null,512),[[Ue,o.value.phone]])])]),d("div",XT,[d("button",{class:"btn btn-outline",onClick:u[5]||(u[5]=f=>B(e).push("/teachers"))},""),S(me,{disabled:a.value,loading:a.value,onClick:l,variant:"primary"},{default:ne(()=>[S(B(is),{class:"w-4 h-4 inline-block"}),Q(" "+$(a.value?"...":""),1)]),_:1},8,["disabled","loading"])])],64))])]))}},ZT={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 p-4"},e6={class:"w-full max-w-5xl rounded-2xl bg-white shadow-xl overflow-hidden"},t6={class:"flex items-center justify-between border-b p-4"},s6={class:"font-bold"},n6={class:"p-4 flex flex-wrap items-center gap-3"},a6={class:"px-4 pb-4"},i6={key:0,class:"p-6 text-center text-slate-600"},o6={key:1,class:"max-h-[70vh] overflow-auto rounded-2xl border"},r6={class:"w-full text-xs"},l6={class:"p-2"},d6={class:"p-2 text-right"},c6={class:"p-2"},u6={class:"p-2"},f6={class:"p-2"},h6={class:"p-2 text-right"},p6={class:"p-2"},g6={key:0},m6={__name:"LogsModal",props:{open:Boolean,campaignId:Number},emits:["close"],setup(t,{emit:e}){const s=t,n=e,a=D(!1),i=D(""),o=D([]),r=D(null);function l(p){return p==="PENDING"?" ":p==="SENT"?" ":p==="FAILED"?"":p==="SKIPPED"?" ":p||""}function c(p){return p==="FATHER"?"":p==="MOTHER"?"":p==="GUARDIAN"?"":p==="TEACHER"?"":p||""}function u(p){return p?p==="NO_PHONE"?"   ":p==="SEND_FAILED"?" ":p==="SKIPPED"?" ":p:""}const f=he(()=>{var m;const p=s.campaignId?`#${s.campaignId}`:"",b=((m=r.value)==null?void 0:m.created_by_name)||null;return b?`    ${p} (: ${b})`:`    ${p}`});async function h(){var p,b;if(s.campaignId){a.value=!0;try{const m=await le.get(`/campaigns/${s.campaignId}/logs`,{params:i.value?{status:i.value}:{}});o.value=((p=m.data)==null?void 0:p.rows)||[],r.value=((b=m.data)==null?void 0:b.meta)||null}finally{a.value=!1}}}return qe(()=>s.open,p=>{p&&h()}),qe(i,()=>{s.open&&h()}),(p,b)=>t.open?(v(),w("div",ZT,[d("div",e6,[d("div",t6,[d("div",s6,$(f.value),1),d("button",{class:"btn btn-outline px-3 py-2",onClick:b[0]||(b[0]=m=>n("close")),"aria-label":""},[S(B(Ot),{class:"h-4 w-4"})])]),d("div",n6,[b[3]||(b[3]=d("label",{class:"text-sm text-slate-600"},"",-1)),Ce(d("select",{"onUpdate:modelValue":b[1]||(b[1]=m=>i.value=m),class:"select w-auto"},[...b[2]||(b[2]=[Qi('<option value=""></option><option value="PENDING"> </option><option value="SENT"> </option><option value="FAILED"></option><option value="SKIPPED"> </option>',5)])],512),[[Ye,i.value]]),d("button",{class:"btn btn-outline px-3 py-2",onClick:h},"")]),d("div",a6,[a.value?(v(),w("div",i6," ...")):(v(),w("div",o6,[d("table",r6,[b[5]||(b[5]=d("thead",{class:"bg-gray-50 text-gray-700"},[d("tr",null,[d("th",{class:"p-2"},""),d("th",{class:"p-2 text-right"},""),d("th",{class:"p-2"},""),d("th",{class:"p-2"},""),d("th",{class:"p-2"},""),d("th",{class:"p-2 text-right"},""),d("th",{class:"p-2"}," ")])],-1)),d("tbody",null,[(v(!0),w(be,null,ke(o.value,m=>(v(),w("tr",{key:m.id,class:"border-t hover:bg-slate-50/60"},[d("td",l6,$(m.id),1),d("td",d6,$(m.recipient_name),1),d("td",c6,$(c(m.recipient_type)),1),d("td",u6,$(m.phone||""),1),d("td",f6,[d("span",{class:Ee(m.status==="SENT"?"text-green-700":m.status==="FAILED"?"text-red-700":"text-slate-700")},$(l(m.status)),3)]),d("td",h6,$(u(m.error_text)),1),d("td",p6,$(m.sent_at||""),1)]))),128)),o.value.length===0?(v(),w("tr",g6,[...b[4]||(b[4]=[d("td",{colspan:"7",class:"p-6 text-center text-gray-500"},"  .",-1)])])):de("",!0)])])]))])])])):de("",!0)}},b6={class:"flex items-center justify-between mb-4"},v6={class:"text-lg font-semibold"},y6={key:0,class:"text-center text-gray-600"},x6={key:1,class:"space-y-4"},_6={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},k6={class:"font-medium"},w6={class:"font-medium"},C6={class:"font-medium"},S6={class:"font-medium"},A6={class:"font-medium"},E6={class:"font-medium"},$6={class:"mt-1 p-3 bg-gray-50 rounded-lg whitespace-pre-wrap"},M6={key:0},T6={class:"mt-1"},R6=["href"],D6={key:1},P6={class:"mt-1 p-3 bg-gray-50 rounded-lg"},O6={class:"text-sm"},N6={key:2,class:"text-center text-gray-600"},I6={__name:"CampaignDetailsModal",props:{open:Boolean,campaignId:Number},emits:["close"],setup(t,{emit:e}){const s=t,n=e,a=D(!1),i=D(null);function o(){n("close")}async function r(){if(s.campaignId){a.value=!0;try{const l=await le.get(`/campaigns/${s.campaignId}`);i.value=l.data}catch(l){console.error("Failed to load campaign:",l)}finally{a.value=!1}}}return qe(()=>s.open,l=>{l?r():i.value=null}),qe(()=>s.campaignId,()=>{s.open&&r()}),(l,c)=>(v(),$e(Xi,{to:"body"},[S(Mr,{name:"modal"},{default:ne(()=>{var u;return[t.open?(v(),w("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:o},[d("div",{class:"bg-white rounded-2xl shadow-xl p-6 max-w-2xl w-full mx-4 max-h-[80vh] overflow-y-auto",onClick:c[0]||(c[0]=gs(()=>{},["stop"]))},[d("div",b6,[d("h3",v6,"  #"+$((u=i.value)==null?void 0:u.id),1),d("button",{onClick:o,class:"btn btn-outline px-3 py-2","aria-label":""},[S(B(Ot),{class:"w-4 h-4"})])]),a.value?(v(),w("div",y6," ...")):i.value?(v(),w("div",x6,[d("div",_6,[d("div",null,[c[1]||(c[1]=d("label",{class:"text-sm text-gray-600"},"",-1)),d("p",k6,$(i.value.audience),1)]),d("div",null,[c[2]||(c[2]=d("label",{class:"text-sm text-gray-600"},"",-1)),d("p",w6,$(i.value.status),1)]),d("div",null,[c[3]||(c[3]=d("label",{class:"text-sm text-gray-600"},"",-1)),d("p",C6,$(i.value.total_count),1)]),d("div",null,[c[4]||(c[4]=d("label",{class:"text-sm text-gray-600"}," ",-1)),d("p",S6,$(i.value.sent_count),1)]),d("div",null,[c[5]||(c[5]=d("label",{class:"text-sm text-gray-600"}," ",-1)),d("p",A6,$(new Date(i.value.created_at).toLocaleString("ar")),1)]),d("div",null,[c[6]||(c[6]=d("label",{class:"text-sm text-gray-600"}," ",-1)),d("p",E6,$(i.value.started_at?new Date(i.value.started_at).toLocaleString("ar"):"   "),1)])]),d("div",null,[c[7]||(c[7]=d("label",{class:"text-sm text-gray-600"}," ",-1)),d("div",$6,$(i.value.message_body),1)]),i.value.media_path?(v(),w("div",M6,[c[8]||(c[8]=d("label",{class:"text-sm text-gray-600"},"",-1)),d("div",T6,[d("a",{href:i.value.media_path,target:"_blank",class:"text-brand-600 underline"}," ",8,R6)])])):de("",!0),i.value.filter_json?(v(),w("div",D6,[c[9]||(c[9]=d("label",{class:"text-sm text-gray-600"},"",-1)),d("div",P6,[d("pre",O6,$(JSON.stringify(i.value.filter_json,null,2)),1)])])):de("",!0)])):(v(),w("div",N6,"    "))])])):de("",!0)]}),_:1})]))}},L6=ca(I6,[["__scopeId","data-v-ebbae58e"]]),F6={class:"p-6 space-y-6"},B6={key:0,class:"alert alert-danger"},V6={key:1,class:"card p-12"},j6={key:2,class:"card overflow-hidden bg-white dark:bg-slate-900"},U6={key:0,class:"min-w-full text-sm table-auto border-2 border-slate-200 dark:border-slate-700 rounded-xl overflow-hidden bg-white dark:bg-slate-900 shadow-lg"},z6={class:"p-4 border-r border-slate-200 dark:border-slate-700 text-slate-900 dark:text-slate-100 font-semibold"},H6={class:"p-4 border-r border-slate-200 dark:border-slate-700 text-slate-900 dark:text-slate-100"},W6={class:"p-4 border-r border-slate-200 dark:border-slate-700 text-slate-900 dark:text-slate-100"},q6={class:"p-4 border-r border-slate-200 dark:border-slate-700"},G6={class:"p-4 border-r border-slate-200 dark:border-slate-700 text-slate-900 dark:text-slate-100"},K6={class:"p-4 border-r border-slate-200 dark:border-slate-700 text-slate-900 dark:text-slate-100"},Y6={class:"p-4 border-r border-slate-200 dark:border-slate-700 text-slate-900 dark:text-slate-100"},J6={class:"p-4 border-r border-slate-200 dark:border-slate-700 text-slate-900 dark:text-slate-100"},X6={class:"p-4"},Q6={class:"flex flex-wrap gap-2"},Z6={__name:"Campaigns",setup(t){const e=Jr(),s=D([]),n=D(!1),a=D(""),i=D(!1),o=D(null),r=D(!1),l=D(null);function c(k){return k==="DONE"?"badge badge-success":k==="FAILED"?"badge badge-danger":k==="SENDING"||k==="STOPPED"?"badge badge-warning":k==="CANCELED"?"badge badge-danger":"badge badge-muted"}function u(k){return k==="QUEUED"?" ":k==="SENDING"?" ":k==="STOPPED"?"":k==="CANCELED"?"":k==="DONE"?"":k==="FAILED"?"":k||""}function f(k){return k==="STUDENTS"?"":k==="TEACHERS"?"":k||""}function h(k){return k==="GENERAL"?"":k==="ABSENCE"?"":k||""}async function p(){var k,x;n.value=!0,a.value="";try{const _=await le.get("/campaigns");s.value=_.data||[]}catch(_){a.value=((x=(k=_==null?void 0:_.response)==null?void 0:k.data)==null?void 0:x.message)||_.message||""}finally{n.value=!1}}function b(k){o.value=k,i.value=!0}function m(k){l.value=k,r.value=!0}async function g(k){var _,T;if(await Gt.confirm({title:" ",message:"      .",confirmText:"",cancelText:"",variant:"default"}))try{await le.post(`/campaigns/${k}/stop`),oe.showAlert("success","","  ."),await p()}catch(E){oe.showAlert("error","",((T=(_=E==null?void 0:E.response)==null?void 0:_.data)==null?void 0:T.message)||E.message||"  ")}}async function y(k){var _,T;if(await Gt.confirm({title:" ",message:"         ( ).",confirmText:"",cancelText:"",variant:"danger"}))try{await le.post(`/campaigns/${k}/cancel`),oe.showAlert("success","","  ."),await p()}catch(E){oe.showAlert("error","",((T=(_=E==null?void 0:E.response)==null?void 0:_.data)==null?void 0:T.message)||E.message||"  ")}}async function C(k){var x,_;try{await le.post(`/campaigns/${k}/send`),oe.showAlert("success","","  ."),await p()}catch(T){oe.showAlert("error","",((_=(x=T==null?void 0:T.response)==null?void 0:x.data)==null?void 0:_.message)||T.message||"  ")}}return je(p),(k,x)=>(v(),w("div",F6,[S(cs,{title:" ",icon:B(Xt),"show-breadcrumbs":!0},{subtitle:ne(()=>[...x[3]||(x[3]=[Q("      ",-1)])]),actions:ne(()=>[S(me,{variant:"outline",size:"md",onClick:p},{default:ne(()=>[S(B(ds),{class:"w-4 h-4 ml-1"}),x[4]||(x[4]=Q("  ",-1))]),_:1})]),_:1},8,["icon"]),a.value?(v(),w("div",B6,[x[5]||(x[5]=d("div",{class:"font-semibold"}," ",-1)),d("div",null,$(a.value),1)])):de("",!0),n.value?(v(),w("div",V6,[S(Os,{size:"lg",class:"mx-auto"}),x[6]||(x[6]=d("p",{class:"text-center text-slate-600 dark:text-slate-400 mt-4"},"  ...",-1))])):(v(),w("div",j6,[s.value.length>0?(v(),w("table",U6,[x[12]||(x[12]=d("thead",{class:"bg-gradient-to-r from-slate-100 to-slate-50 dark:from-slate-800 dark:to-slate-700 text-slate-900 dark:text-slate-100"},[d("tr",null,[d("th",{class:"p-4 border-r border-slate-200 dark:border-slate-600 font-bold"},""),d("th",{class:"p-4 border-r border-slate-200 dark:border-slate-600 font-bold"},""),d("th",{class:"p-4 border-r border-slate-200 dark:border-slate-600 font-bold"},""),d("th",{class:"p-4 border-r border-slate-200 dark:border-slate-600 font-bold"},""),d("th",{class:"p-4 border-r border-slate-200 dark:border-slate-600 font-bold"},""),d("th",{class:"p-4 border-r border-slate-200 dark:border-slate-600 font-bold"}," "),d("th",{class:"p-4 border-r border-slate-200 dark:border-slate-600 font-bold"},""),d("th",{class:"p-4 border-r border-slate-200 dark:border-slate-600 font-bold"}," "),d("th",{class:"p-4 font-bold"},"")])],-1)),d("tbody",null,[(v(!0),w(be,null,ke(s.value,_=>(v(),w("tr",{key:_.id,class:"border-t-2 border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors"},[d("td",z6,$(_.id),1),d("td",H6,$(f(_.audience)),1),d("td",W6,$(h(_.mode)),1),d("td",q6,[d("span",{class:Ee(c(_.status))},$(u(_.status)),3)]),d("td",G6,$(_.total_count),1),d("td",K6,$(_.sent_count),1),d("td",Y6,$(_.failed_count),1),d("td",J6,$(new Date(_.created_at).toLocaleString("ar")),1),d("td",X6,[d("div",Q6,[S(me,{variant:"outline",size:"sm",onClick:T=>m(_.id)},{default:ne(()=>[S(B(b_),{class:"w-3.5 h-3.5 ml-1"}),x[7]||(x[7]=Q("  ",-1))]),_:1},8,["onClick"]),S(me,{variant:"outline",size:"sm",onClick:T=>b(_.id)},{default:ne(()=>[S(B(as),{class:"w-3.5 h-3.5 ml-1"}),x[8]||(x[8]=Q("  ",-1))]),_:1},8,["onClick"]),_.status==="SENDING"||_.status==="QUEUED"?(v(),$e(me,{key:0,variant:"warning",size:"sm",onClick:T=>g(_.id)},{default:ne(()=>[...x[9]||(x[9]=[Q("   ",-1)])]),_:1},8,["onClick"])):de("",!0),(_.status==="STOPPED"||_.status==="FAILED")&&B(ht).canSendCampaignMode(_.mode)?(v(),$e(me,{key:1,variant:"success",size:"sm",onClick:T=>C(_.id)},{default:ne(()=>[...x[10]||(x[10]=[Q("   ",-1)])]),_:1},8,["onClick"])):de("",!0),_.status!=="DONE"&&_.status!=="CANCELED"?(v(),$e(me,{key:2,variant:"danger",size:"sm",onClick:T=>y(_.id)},{default:ne(()=>[S(B(ao),{class:"w-3.5 h-3.5 ml-1"}),x[11]||(x[11]=Q("   ",-1))]),_:1},8,["onClick"])):de("",!0)])])]))),128))])])):(v(),$e(fa,{key:1,icon:"Send",title:"  ",message:"      "}))])),S(m6,{open:i.value,campaignId:o.value,onClose:x[0]||(x[0]=_=>i.value=!1)},null,8,["open","campaignId"]),S(L6,{open:r.value,campaignId:l.value,onClose:x[1]||(x[1]=_=>r.value=!1)},null,8,["open","campaignId"]),S(Xr,{modelValue:B(e).isOpen,"onUpdate:modelValue":x[2]||(x[2]=_=>B(e).isOpen=_),title:B(e).title,message:B(e).message,variant:B(e).variant,"confirm-text":B(e).confirmText,"cancel-text":B(e).cancelText,loading:B(e).loading,onConfirm:B(e).handleConfirm,onCancel:B(e).handleCancel},null,8,["modelValue","title","message","variant","confirm-text","cancel-text","loading","onConfirm","onCancel"])]))}},eR={class:"p-6 space-y-4"},tR={key:1,class:"card p-5 space-y-4 shadow-xl border-2 border-slate-100 dark:border-slate-700 rounded-2xl bg-white dark:bg-slate-900"},sR={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},nR={class:"flex items-end justify-end"},aR=["disabled"],iR={key:0,class:"mt-2 text-xs text-amber-700 dark:text-amber-400"},oR={class:"card overflow-hidden shadow-xl border-2 border-slate-100 dark:border-slate-700 rounded-2xl bg-white dark:bg-slate-900"},rR={class:"min-w-full text-sm table-auto border-2 border-slate-200 dark:border-slate-700 rounded-xl overflow-hidden bg-white dark:bg-slate-900 shadow-lg"},lR={class:"bg-gradient-to-r from-slate-100 to-slate-50 dark:from-slate-800 dark:to-slate-700 text-slate-900 dark:text-slate-100"},dR={key:0,class:"p-4 font-bold"},cR={class:"p-4 text-right border-r border-slate-200 dark:border-slate-700 font-semibold text-slate-900 dark:text-slate-100"},uR={class:"p-4 border-r border-slate-200 dark:border-slate-700 text-slate-900 dark:text-slate-100"},fR={class:"p-4 border-r border-slate-200 dark:border-slate-700"},hR={key:0,class:"p-4"},pR={class:"flex items-center justify-center gap-2"},gR={key:0},mR={colspan:"4",class:"p-6"},bR={class:"space-y-4"},vR={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},yR=["disabled"],xR={class:"inline-flex items-center gap-2 text-sm"},_R=["disabled"],kR={class:"flex justify-end gap-2"},wR={__name:"Templates",setup(t){const e=D([]),s=D(""),n=D(""),a=D("GENERAL"),i=D(!1),o=D(!1),r=he(()=>["DIRECTOR","ADMIN"].includes(ht.role())),l=D(!1),c=D({id:null,title:"",body:"",category:"GENERAL",is_active:!0});async function u(){var y,C;i.value=!0;try{const k=await le.get("/templates");e.value=k.data||[]}catch(k){oe.showAlert("error","",((C=(y=k==null?void 0:k.response)==null?void 0:y.data)==null?void 0:C.message)||k.message||"  ")}finally{i.value=!1}}async function f(){var y,C;if(r.value){if(!s.value||!n.value){oe.showAlert("warning","","  ");return}o.value=!0;try{await le.post("/templates",{title:s.value,body:n.value,category:a.value}),s.value="",n.value="",a.value="GENERAL",await u(),oe.showAlert("success","","  ")}catch(k){oe.showAlert("error","",((C=(y=k==null?void 0:k.response)==null?void 0:y.data)==null?void 0:C.message)||k.message||"  ")}finally{o.value=!1}}}function h(y){r.value&&(c.value={id:y.id,title:y.title||"",body:y.body||"",category:y.category||"GENERAL",is_active:!!y.is_active},l.value=!0)}function p(){l.value=!1}async function b(){var y,C;if(r.value){if(!c.value.title||!c.value.body){oe.showAlert("warning","","  ");return}o.value=!0;try{await le.put(`/templates/${c.value.id}`,{title:c.value.title,body:c.value.body,category:c.value.category,is_active:c.value.is_active}),await u(),l.value=!1,oe.showAlert("success","","  ")}catch(k){oe.showAlert("error","",((C=(y=k==null?void 0:k.response)==null?void 0:y.data)==null?void 0:C.message)||k.message||"  ")}finally{o.value=!1}}}async function m(y){var C,k;if(r.value){o.value=!0;try{await le.put(`/templates/${y.id}`,{title:y.title,body:y.body,category:y.category,is_active:!y.is_active}),await u()}catch(x){oe.showAlert("error","",((k=(C=x==null?void 0:x.response)==null?void 0:C.data)==null?void 0:k.message)||x.message||"  ")}finally{o.value=!1}}}async function g(y){var k,x;if(!(!r.value||!await Gt.confirm({title:" ",message:"      ",confirmText:"",cancelText:"",variant:"danger"}))){o.value=!0;try{await le.delete(`/templates/${y}`),await u(),oe.showAlert("success","","  ")}catch(_){oe.showAlert("error","",((x=(k=_==null?void 0:_.response)==null?void 0:k.data)==null?void 0:x.message)||_.message||"  ")}finally{o.value=!1}}}return je(u),(y,C)=>(v(),w("div",eR,[S(cs,{title:" ",subtitle:"  /  ",icon:B(as)},{actions:ne(()=>[S(me,{variant:"secondary",onClick:u,disabled:i.value},{default:ne(()=>[S(B(ds),{class:"w-4 h-4"}),C[8]||(C[8]=Q("  ",-1))]),_:1},8,["disabled"])]),_:1},8,["icon"]),i.value?(v(),$e(Os,{key:0,message:"  ..."})):(v(),w("div",tR,[d("div",sR,[S(ze,{modelValue:s.value,"onUpdate:modelValue":C[0]||(C[0]=k=>s.value=k),label:"",placeholder:" ",disabled:!r.value||o.value},null,8,["modelValue","disabled"]),S(mt,{modelValue:a.value,"onUpdate:modelValue":C[1]||(C[1]=k=>a.value=k),label:"",options:[{value:"GENERAL",label:""},{value:"ABSENCE",label:""},{value:"PAYMENT",label:""},{value:"GREETING",label:""},{value:"CONGRATULATIONS",label:""},{value:"CODEMASSAR",label:"  "},{value:"OTHER",label:""}],disabled:!r.value||o.value},null,8,["modelValue","disabled"]),d("div",nR,[r.value?(v(),$e(me,{key:0,variant:"primary",onClick:f,disabled:o.value},{default:ne(()=>[...C[9]||(C[9]=[Q(" +  ",-1)])]),_:1},8,["disabled"])):de("",!0)])]),d("div",null,[C[10]||(C[10]=d("label",{class:"text-sm text-slate-700 dark:text-slate-300 font-medium"},"",-1)),Ce(d("textarea",{"onUpdate:modelValue":C[2]||(C[2]=k=>n.value=k),rows:"4",class:"textarea mt-1 bg-white dark:bg-slate-800",disabled:!r.value||o.value},null,8,aR),[[Ue,n.value]]),C[11]||(C[11]=d("div",{class:"mt-2 text-xs text-slate-500 dark:text-slate-400"},"  : {name} {level} {class} {massar} {classNumber} {passMassar}   : {absence_date} {absence_hours}   : {name} {subject} {cycle} ",-1)),r.value?de("",!0):(v(),w("div",iR," :      . "))])])),d("div",oR,[d("table",rR,[d("thead",lR,[d("tr",null,[C[12]||(C[12]=d("th",{class:"p-4 text-right border-r border-slate-200 dark:border-slate-600 font-bold"},"",-1)),C[13]||(C[13]=d("th",{class:"p-4 border-r border-slate-200 dark:border-slate-600 font-bold"},"",-1)),C[14]||(C[14]=d("th",{class:"p-4 border-r border-slate-200 dark:border-slate-600 font-bold"},"",-1)),r.value?(v(),w("th",dR,"")):de("",!0)])]),d("tbody",null,[(v(!0),w(be,null,ke(e.value,k=>(v(),w("tr",{key:k.id,class:"border-t-2 border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors"},[d("td",cR,$(k.title),1),d("td",uR,$(k.category),1),d("td",fR,[d("span",{class:Ee(k.is_active?"badge badge-success":"badge badge-danger")},$(k.is_active?"":" "),3)]),r.value?(v(),w("td",hR,[d("div",pR,[S(me,{variant:"secondary",size:"sm",disabled:o.value,onClick:x=>h(k)},{default:ne(()=>[S(B(gn),{class:"w-3.5 h-3.5"}),C[15]||(C[15]=Q("  ",-1))]),_:1},8,["disabled","onClick"]),S(me,{variant:"secondary",size:"sm",disabled:o.value,onClick:x=>m(k)},{default:ne(()=>[k.is_active?(v(),$e(B(ao),{key:1,class:"w-3.5 h-3.5"})):(v(),$e(B(da),{key:0,class:"w-3.5 h-3.5"})),Q(" "+$(k.is_active?"":""),1)]),_:2},1032,["disabled","onClick"]),S(me,{variant:"danger",size:"sm",disabled:o.value,onClick:x=>g(k.id)},{default:ne(()=>[S(B(mn),{class:"w-3.5 h-3.5"}),C[16]||(C[16]=Q("  ",-1))]),_:1},8,["disabled","onClick"])])])):de("",!0)]))),128)),!i.value&&e.value.length===0?(v(),w("tr",gR,[d("td",mR,[S(fa,{message:"  "})])])):de("",!0)])])]),S($c,{modelValue:l.value,"onUpdate:modelValue":C[7]||(C[7]=k=>l.value=k),title:" ",size:"lg"},{footer:ne(()=>[d("div",kR,[S(me,{variant:"secondary",onClick:p,disabled:o.value},{default:ne(()=>[...C[20]||(C[20]=[Q("  ",-1)])]),_:1},8,["disabled"]),S(me,{variant:"primary",onClick:b,disabled:!r.value||o.value,loading:o.value},{default:ne(()=>[...C[21]||(C[21]=[Q("   ",-1)])]),_:1},8,["disabled","loading"])])]),default:ne(()=>[d("div",bR,[d("div",vR,[S(ze,{modelValue:c.value.title,"onUpdate:modelValue":C[3]||(C[3]=k=>c.value.title=k),label:"",placeholder:" ",disabled:!r.value||o.value},null,8,["modelValue","disabled"]),S(mt,{modelValue:c.value.category,"onUpdate:modelValue":C[4]||(C[4]=k=>c.value.category=k),label:"",options:[{value:"GENERAL",label:""},{value:"ABSENCE",label:""},{value:"PAYMENT",label:""},{value:"GREETING",label:""},{value:"CONGRATULATIONS",label:""},{value:"CODEMASSAR",label:"  "},{value:"OTHER",label:""}],disabled:!r.value||o.value},null,8,["modelValue","disabled"])]),d("div",null,[C[17]||(C[17]=d("label",{class:"text-sm text-slate-600"}," ",-1)),Ce(d("textarea",{"onUpdate:modelValue":C[5]||(C[5]=k=>c.value.body=k),rows:"8",class:"textarea mt-1",disabled:!r.value||o.value},null,8,yR),[[Ue,c.value.body]]),C[18]||(C[18]=d("div",{class:"mt-2 text-xs text-slate-500"},"  : {name} {level} {class} {massar} {classNumber} {passMassar}   : {absence_date} {absence_hours}   : {name} {subject} {cycle} ",-1))]),d("label",xR,[Ce(d("input",{type:"checkbox","onUpdate:modelValue":C[6]||(C[6]=k=>c.value.is_active=k),disabled:!r.value||o.value},null,8,_R),[[vt,c.value.is_active]]),C[19]||(C[19]=d("span",null,"",-1))])])]),_:1},8,["modelValue"])]))}},CR={class:"p-6 space-y-4"},SR={key:0,class:"rounded-xl border-2 border-red-200 dark:border-red-800 bg-red-50 dark:bg-red-950 p-4 text-red-700 dark:text-red-300"},AR={class:"card overflow-hidden shadow-xl border-2 border-slate-100 dark:border-slate-700 rounded-2xl bg-white dark:bg-slate-900"},ER={key:1,class:"p-6"},$R={key:2,class:"min-w-full text-sm table-auto border-2 border-slate-200 dark:border-slate-700 rounded-xl overflow-hidden bg-white dark:bg-slate-900 shadow-lg"},MR={class:"p-4 text-right border-r border-slate-200 dark:border-slate-700"},TR={class:"flex items-center gap-2"},RR={class:"font-semibold text-slate-900 dark:text-slate-100"},DR={class:"p-4 border-r border-slate-200 dark:border-slate-700 text-slate-900 dark:text-slate-100"},PR={class:"p-4 border-r border-slate-200 dark:border-slate-700 text-slate-900 dark:text-slate-100"},OR={class:"p-4 border-r border-slate-200 dark:border-slate-700"},NR={class:"p-4"},IR={class:"flex flex-wrap gap-2"},LR={key:1,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 p-4"},FR={class:"w-full max-w-xl rounded-2xl bg-white shadow-xl overflow-hidden"},BR={class:"flex items-center justify-between border-b p-4"},VR={class:"font-bold"},jR={class:"p-4 space-y-4"},UR={class:"flex items-center justify-between gap-4"},zR={class:"flex items-center gap-3"},HR={class:"btn btn-outline cursor-pointer"},WR={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},qR={class:"flex justify-end gap-2 border-t p-4"},GR={key:2,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 p-4"},KR={class:"w-full max-w-md rounded-2xl bg-white shadow-xl overflow-hidden"},YR={class:"flex items-center justify-between border-b p-4"},JR={class:"p-4 space-y-3"},XR={class:"flex justify-end gap-2 border-t p-4"},QR={__name:"Users",setup(t){const e=D([]),s=D(!1),n=D(""),a=D(!1),i=D(null),o=D({avatar_url:"",full_name:"",email:"",role:"ADMIN",is_active:!0,password:""}),r=D(!1),l=D(null),c=D("");function u(k){return k?/^https?:\/\//i.test(k)?k:`http://localhost:3000${k}`:""}async function f(k){var _,T,E;const x=(_=k.target.files)==null?void 0:_[0];if(x)try{const R=new FormData;R.append("file",x);const I=await le.post("/media/upload",R);o.value.avatar_url=I.data.url}catch(R){oe.showAlert("error","",((E=(T=R==null?void 0:R.response)==null?void 0:T.data)==null?void 0:E.message)||R.message||"  ")}finally{k.target.value=""}}async function h(){var k,x;s.value=!0,n.value="";try{const _=await le.get("/users");e.value=_.data||[]}catch(_){n.value=((x=(k=_==null?void 0:_.response)==null?void 0:k.data)==null?void 0:x.message)||_.message||""}finally{s.value=!1}}function p(){i.value=null,o.value={avatar_url:"",full_name:"",email:"",role:"ADMIN",is_active:!0,password:""},a.value=!0}function b(k){i.value=k.id,o.value={avatar_url:k.avatar_url||"",full_name:k.full_name||"",email:k.email||"",role:k.role||"ADMIN",is_active:!!k.is_active,password:""},a.value=!0}async function m(){var k,x,_,T;if(!o.value.full_name||!o.value.email){oe.showAlert("warning","","  ");return}if(i.value)try{await le.put(`/users/${i.value}`,{avatar_url:o.value.avatar_url||null,full_name:o.value.full_name,email:o.value.email,role:o.value.role,is_active:o.value.is_active}),oe.showAlert("success","","  ")}catch(E){oe.showAlert("error","",((T=(_=E==null?void 0:E.response)==null?void 0:_.data)==null?void 0:T.message)||E.message||" ");return}else{if(!o.value.password||String(o.value.password).length<6){oe.showAlert("warning","","     6   ");return}try{await le.post("/users",{avatar_url:o.value.avatar_url||null,full_name:o.value.full_name,email:o.value.email,password:o.value.password,role:o.value.role}),oe.showAlert("success","","  ")}catch(E){oe.showAlert("error","",((x=(k=E==null?void 0:E.response)==null?void 0:k.data)==null?void 0:x.message)||E.message||" ");return}}a.value=!1,await h()}async function g(k){var _,T;if(await Gt.confirm({title:" ",message:"    ",confirmText:""}))try{await le.delete(`/users/${k}`),await h(),oe.showAlert("success","","  ")}catch(E){oe.showAlert("error","",((T=(_=E==null?void 0:E.response)==null?void 0:_.data)==null?void 0:T.message)||E.message||" ")}}function y(k){l.value=k,c.value="",r.value=!0}async function C(){var k,x;if(!c.value||c.value.length<6){oe.showAlert("warning","","     6   ");return}try{await le.put(`/users/${l.value}/password`,{password:c.value}),r.value=!1,oe.showAlert("success","","   ")}catch(_){oe.showAlert("error","",((x=(k=_==null?void 0:_.response)==null?void 0:k.data)==null?void 0:x.message)||_.message||"   ")}}return je(h),(k,x)=>(v(),w("div",CR,[S(cs,{title:"",subtitle:"   ",icon:B(zt)},{actions:ne(()=>[S(me,{variant:"secondary",onClick:h,disabled:s.value},{default:ne(()=>[S(B(ds),{class:"w-4 h-4 inline-block"}),x[10]||(x[10]=Q("  ",-1))]),_:1},8,["disabled"]),S(me,{variant:"primary",onClick:p},{default:ne(()=>[...x[11]||(x[11]=[Q(" +   ",-1)])]),_:1})]),_:1},8,["icon"]),n.value?(v(),w("div",SR,$(n.value),1)):de("",!0),d("div",AR,[s.value?(v(),$e(Os,{key:0,message:" ..."})):e.value.length===0?(v(),w("div",ER,[S(fa,{message:"  "})])):(v(),w("table",$R,[x[15]||(x[15]=d("thead",{class:"bg-gradient-to-r from-slate-100 to-slate-50 dark:from-slate-800 dark:to-slate-700 text-slate-900 dark:text-slate-100"},[d("tr",null,[d("th",{class:"p-4 text-right border-r border-slate-200 dark:border-slate-600 font-bold"},""),d("th",{class:"p-4 text-right border-r border-slate-200 dark:border-slate-600 font-bold"},""),d("th",{class:"p-4 text-right border-r border-slate-200 dark:border-slate-600 font-bold"},""),d("th",{class:"p-4 text-right border-r border-slate-200 dark:border-slate-600 font-bold"},""),d("th",{class:"p-4 text-right font-bold"},"")])],-1)),d("tbody",null,[(v(!0),w(be,null,ke(e.value,_=>(v(),w("tr",{key:_.id,class:"border-t-2 border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors"},[d("td",MR,[d("div",TR,[S(nr,{name:_.full_name,src:u(_.avatar_url),size:30},null,8,["name","src"]),d("div",RR,$(_.full_name),1)])]),d("td",DR,$(_.email),1),d("td",PR,$(_.role),1),d("td",OR,[d("span",{class:Ee(_.is_active?"badge badge-success":"badge badge-danger")},$(_.is_active?"":""),3)]),d("td",NR,[d("div",IR,[S(me,{variant:"secondary",size:"sm",onClick:T=>b(_)},{default:ne(()=>[S(B(gn),{class:"w-3.5 h-3.5 inline-block"}),x[12]||(x[12]=Q("  ",-1))]),_:1},8,["onClick"]),S(me,{variant:"secondary",size:"sm",onClick:T=>y(_.id)},{default:ne(()=>[S(B(Xg),{class:"w-3.5 h-3.5 inline-block"}),x[13]||(x[13]=Q("    ",-1))]),_:1},8,["onClick"]),S(me,{variant:"danger",size:"sm",onClick:T=>g(_.id)},{default:ne(()=>[S(B(mn),{class:"w-3.5 h-3.5 inline-block"}),x[14]||(x[14]=Q("  ",-1))]),_:1},8,["onClick"])])])]))),128))])]))]),a.value?(v(),w("div",LR,[d("div",FR,[d("div",BR,[d("div",VR,$(i.value?" ":" "),1),d("button",{class:"btn inline-block btn-outline px-3 py-2",onClick:x[0]||(x[0]=_=>a.value=!1),"aria-label":""},[S(B(Ot),{class:"h-4 w-4"})])]),d("div",jR,[d("div",UR,[d("div",zR,[S(nr,{name:o.value.full_name,src:u(o.value.avatar_url),size:44},null,8,["name","src"]),x[16]||(x[16]=d("div",{class:"text-sm text-slate-600"}," ",-1))]),d("label",HR,[d("input",{type:"file",accept:"image/*",class:"hidden",onChange:f},null,32),x[17]||(x[17]=Q("   ",-1))])]),d("div",WR,[S(ze,{modelValue:o.value.full_name,"onUpdate:modelValue":x[1]||(x[1]=_=>o.value.full_name=_),label:"",placeholder:" "},null,8,["modelValue"]),S(ze,{modelValue:o.value.email,"onUpdate:modelValue":x[2]||(x[2]=_=>o.value.email=_),type:"email",label:"",placeholder:"email@example.com"},null,8,["modelValue"]),S(mt,{modelValue:o.value.role,"onUpdate:modelValue":x[3]||(x[3]=_=>o.value.role=_),label:"",options:[{value:"DIRECTOR",label:""},{value:"ADMIN",label:""},{value:"ABSENCE_OFFICER",label:" "},{value:"TIMETABLE_OFFICER",label:"  "}]},null,8,["modelValue"]),S(mt,{modelValue:o.value.is_active,"onUpdate:modelValue":x[4]||(x[4]=_=>o.value.is_active=_),label:"",options:[{value:!0,label:""},{value:!1,label:""}]},null,8,["modelValue"])]),i.value?de("",!0):(v(),$e(ze,{key:0,modelValue:o.value.password,"onUpdate:modelValue":x[5]||(x[5]=_=>o.value.password=_),type:"password",label:" ",placeholder:"6   "},null,8,["modelValue"]))]),d("div",qR,[S(me,{variant:"secondary",onClick:x[6]||(x[6]=_=>a.value=!1)},{default:ne(()=>[...x[18]||(x[18]=[Q("  ",-1)])]),_:1}),S(me,{variant:"primary",onClick:m},{default:ne(()=>[...x[19]||(x[19]=[Q("  ",-1)])]),_:1})])])])):de("",!0),r.value?(v(),w("div",GR,[d("div",KR,[d("div",YR,[x[20]||(x[20]=d("div",{class:"font-bold"},"  ",-1)),S(me,{variant:"secondary",size:"sm",onClick:x[7]||(x[7]=_=>r.value=!1),"aria-label":""},{default:ne(()=>[S(B(Ot),{class:"h-4 w-4 inline-block"})]),_:1})]),d("div",JR,[S(ze,{modelValue:c.value,"onUpdate:modelValue":x[8]||(x[8]=_=>c.value=_),type:"password",label:"  ",placeholder:"6   "},null,8,["modelValue"])]),d("div",XR,[S(me,{variant:"secondary",onClick:x[9]||(x[9]=_=>r.value=!1)},{default:ne(()=>[...x[21]||(x[21]=[Q("  ",-1)])]),_:1}),S(me,{variant:"primary",onClick:C},{default:ne(()=>[...x[22]||(x[22]=[Q("  ",-1)])]),_:1})])])])):de("",!0)]))}},ZR={class:"card p-4 space-y-3"},eD={class:"flex items-center justify-between"},tD={class:"font-bold"},sD={class:"text-xs text-gray-500"},nD=["disabled"],aD={key:0,class:"rounded-xl border border-red-200 bg-red-50 p-3 text-red-700"},iD={key:1,class:"rounded-xl border bg-gray-50 p-3 text-sm space-y-3"},oD={class:"grid grid-cols-2 md:grid-cols-5 gap-2"},rD={class:"text-green-700"},lD={class:"text-brand-700"},dD={class:"text-orange-700"},cD={class:"text-slate-700"},uD={key:0,class:"space-y-3"},fD={class:"rounded-xl border bg-white overflow-auto"},hD={class:"w-full text-xs"},pD={class:"p-2 text-right"},gD={class:"p-2 text-center"},mD={class:"p-2 text-center"},bD={class:"p-2"},vD=["onUpdate:modelValue"],yD={key:0,value:"INCOMING"},xD={key:1,value:"STUDYING"},_D={key:2,value:"REFERRED"},kD={key:3,value:"LEFT"},wD={key:4,value:"NOT_ENROLLED"},CD={key:5,value:"DROPPED"},SD={class:"flex justify-end"},AD=["disabled"],ED={key:1,class:"pt-2"},$D={class:"max-h-56 overflow-auto rounded-xl border bg-white"},MD={class:"w-full text-xs"},TD={class:"p-2"},RD={class:"p-2 text-right"},Ll={__name:"ImportExcelCard",props:{title:String,endpoint:String,hint:String},setup(t){const e=t,s=D(null),n=D(!1),a=D(null),i=D(""),o=D({}),r=D(!1);function l(m){var g;s.value=((g=m.target.files)==null?void 0:g[0])||null,a.value=null,i.value="",o.value={}}function c(m){return m==="STUDYING"?"":m==="INCOMING"?"":m==="REFERRED"?"":m==="NOT_ENROLLED"?" ":m==="LEFT"?"":m==="DROPPED"?"":m==="ADDED"?" ()":m==="DELETED"?" ()":m||""}function u(){var C;const m=(C=a.value)==null?void 0:C.pending,g=Array.isArray(m==null?void 0:m.added)?m.added:[],y=Array.isArray(m==null?void 0:m.deleted)?m.deleted:[];return{added:g,deleted:y}}function f(m){return(m==null?void 0:m.status)==="ADDED"?"STUDYING":(m==null?void 0:m.status)==="DELETED"?"NOT_ENROLLED":""}function h(){const{added:m,deleted:g}=u(),y={};for(const C of[...m,...g])y[C.id]=f(C);o.value=y}async function p(){var m,g;if(!s.value){oe.showAlert("warning","","   Excel");return}n.value=!0,i.value="",a.value=null;try{const y=new FormData;y.append("file",s.value);const C=await le.post(e.endpoint,y);a.value=C.data,h(),oe.showAlert("success","","  ")}catch(y){const C=((g=(m=y==null?void 0:y.response)==null?void 0:m.data)==null?void 0:g.message)||y.message||" ";i.value=C,oe.showAlert("error","",C)}finally{n.value=!1}}async function b(){var k,x,_,T,E;const{added:m,deleted:g}=u(),y=[...m,...g];if(!y.length)return;const C=[];for(const R of y){const I=(k=o.value)==null?void 0:k[R.id];I&&C.push({id:R.id,status:I})}if(!C.length){oe.showAlert("warning","","    .");return}r.value=!0;try{const R=await le.post(`${e.endpoint}/finalize`,{updates:C});a.value={...a.value||{},pending:((x=R.data)==null?void 0:x.pending)||((_=a.value)==null?void 0:_.pending)},h(),oe.showAlert("success","","   .")}catch(R){oe.showAlert("error","",((E=(T=R==null?void 0:R.response)==null?void 0:T.data)==null?void 0:E.message)||R.message||" ")}finally{r.value=!1}}return(m,g)=>{var y,C,k;return v(),w("div",ZR,[d("div",eD,[d("div",null,[d("div",tD,$(t.title),1),d("div",sD,$(t.hint),1)]),d("button",{class:"btn btn-primary",disabled:n.value,onClick:p},$(n.value?"...":""),9,nD)]),d("input",{type:"file",accept:".xlsx,.xls",onChange:l},null,32),i.value?(v(),w("div",aD,$(i.value),1)):de("",!0),a.value?(v(),w("div",iD,[d("div",oD,[d("div",null,[g[0]||(g[0]=Q(" : ",-1)),d("b",null,$(a.value.totalRows),1)]),d("div",rD,[g[1]||(g[1]=Q(": ",-1)),d("b",null,$(a.value.inserted),1)]),d("div",lD,[g[2]||(g[2]=Q(": ",-1)),d("b",null,$(a.value.updated),1)]),d("div",dD,[g[3]||(g[3]=Q(": ",-1)),d("b",null,$(a.value.skipped),1)]),d("div",cD,[g[4]||(g[4]=Q(" (): ",-1)),d("b",null,$(a.value.markedDeleted||0),1)])]),a.value.pending&&(((y=a.value.pending.added)==null?void 0:y.length)||0)+(((C=a.value.pending.deleted)==null?void 0:C.length)||0)?(v(),w("div",uD,[g[6]||(g[6]=d("div",{class:"font-semibold"},"    (/)",-1)),d("div",fD,[d("table",hD,[g[5]||(g[5]=d("thead",{class:"bg-gray-50"},[d("tr",null,[d("th",{class:"p-2 text-right"},""),d("th",{class:"p-2"},""),d("th",{class:"p-2"}," "),d("th",{class:"p-2"}," ")])],-1)),d("tbody",null,[(v(!0),w(be,null,ke([...a.value.pending.added||[],...a.value.pending.deleted||[]],x=>(v(),w("tr",{key:x.id,class:"border-t"},[d("td",pD,$(x.full_name),1),d("td",gD,$(x.class_name),1),d("td",mD,$(c(x.status)),1),d("td",bD,[Ce(d("select",{"onUpdate:modelValue":_=>o.value[x.id]=_,class:"rounded border px-2 py-1 w-full"},[x.status==="ADDED"?(v(),w("option",yD,"")):de("",!0),x.status==="ADDED"?(v(),w("option",xD,"")):de("",!0),x.status==="ADDED"?(v(),w("option",_D,"")):de("",!0),x.status==="DELETED"?(v(),w("option",kD,"")):de("",!0),x.status==="DELETED"?(v(),w("option",wD," ")):de("",!0),x.status==="DELETED"?(v(),w("option",CD,"")):de("",!0)],8,vD),[[Ye,o.value[x.id]]])])]))),128))])])]),d("div",SD,[d("button",{class:"btn btn-primary",disabled:r.value,onClick:b},$(r.value?"...":" "),9,AD)])])):de("",!0),(k=a.value.errors)!=null&&k.length?(v(),w("div",ED,[g[8]||(g[8]=d("div",{class:"font-semibold mb-2"}," ( 200):",-1)),d("div",$D,[d("table",MD,[g[7]||(g[7]=d("thead",{class:"bg-gray-50"},[d("tr",null,[d("th",{class:"p-2"},""),d("th",{class:"p-2 text-right"},"")])],-1)),d("tbody",null,[(v(!0),w(be,null,ke(a.value.errors,(x,_)=>(v(),w("tr",{key:_,class:"border-t"},[d("td",TD,$(x.row),1),d("td",RD,$(x.reason),1)]))),128))])])])])):de("",!0)])):de("",!0)])}}},DD={class:"p-6 space-y-4"},PD={key:0,class:"rounded-xl border-2 border-red-200 dark:border-red-800 bg-red-50 dark:bg-red-950 p-4 text-red-700 dark:text-red-300"},OD={class:"rounded-2xl border-2 border-slate-100 dark:border-slate-700 bg-white dark:bg-slate-900 p-6 space-y-6 shadow-xl"},ND={class:"space-y-3"},ID={class:"font-semibold text-lg text-slate-900 dark:text-slate-100 flex items-center gap-2"},LD={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},FD={class:"mt-1 flex items-center gap-3"},BD=["src"],VD={class:"space-y-3"},jD={class:"font-semibold text-lg text-slate-900 dark:text-slate-100 flex items-center gap-2"},UD={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},zD={key:1,class:"space-y-4"},HD={key:0},WD={class:"grid grid-cols-1 lg:grid-cols-2 gap-4"},Ih={__name:"Settings",setup(t){const e=la(),s=he(()=>ht.canAccess("settings")),n=he(()=>ht.canAccess("import")),a=he(()=>e.path==="/import"&&!s.value),i=D(!1),o=D(!1),r=D(""),l=D("  2  "),c=D(null),u=D(null),f=D(!1),h=D(4e3),p=D(300),b=D(""),m=D(""),g=D(8),y=D({1:{start:"",end:""},2:{start:"",end:""},3:{start:"",end:""},4:{start:"",end:""},5:{start:"",end:""},6:{start:"",end:""},7:{start:"",end:""},8:{start:"",end:""}}),C=D([]),k=D([]),x=[{key:"1",label:""},{key:"2",label:""},{key:"3",label:""},{key:"4",label:""},{key:"5",label:""},{key:"6",label:""}],_=Array.from({length:8},(J,U)=>({index:U+1,code:` ${U+1}`,time:"",order:U}));function T(J=8){const U={version:1,days:{},periods_count:Math.max(1,Math.min(8,J))};for(let V=1;V<=6;V+=1){const ee={};for(let K=1;K<=8;K+=1)ee[String(K)]=!1;U.days[String(V)]={enabled:!1,periods:ee}}return U}function E(J){if(!J||typeof J!="object")return T(J==null?void 0:J.periods_count);const U=Math.max(1,Math.min(8,Number(J.periods_count)||8)),V=(J.days&&typeof J.days=="object"?J.days:J)||{},ee=T(U);return Object.keys(ee.days).forEach(K=>{const M=V[K]||{};ee.days[K].enabled=!!M.enabled;const H=M.periods&&typeof M.periods=="object"?M.periods:{};Object.keys(ee.days[K].periods).forEach(se=>{const xe=H[se];ee.days[K].periods[se]=typeof xe=="boolean"?xe:typeof xe=="number"?xe===1:!!xe})}),ee.periods_count=U,ee}const R=D(T());he(()=>C.value.length?[...C.value].sort((U,V)=>(U.order||0)-(V.order||0)).slice(0,6).map((U,V)=>{var ee;return{key:String(V+1),label:U.label_ar||U.code||((ee=x[V])==null?void 0:ee.label)||`????? ${V+1}`,is_active:!!U.is_active,raw:U,order:U.order??V}}):x),he(()=>{const U=(k.value.length?[...k.value]:_).sort((ee,K)=>(ee.order||ee.index||0)-(K.order||K.index||0)),V=Math.min(Math.max(1,Number(g.value||U.length)),U.length);return U.slice(0,V).map((ee,K)=>({index:K+1,code:ee.code||`????? ${K+1}`,time:ee.time||(ee.start_time&&ee.end_time?`${ee.start_time} - ${ee.end_time}`:ee.time||"")}))});async function I(){var J,U,V,ee,K;i.value=!0,r.value="";try{const M=await le.get("/settings");l.value=M.data.site_name??"  2  ",c.value=M.data.site_logo_url??null,h.value=M.data.send_delay_ms??4e3,p.value=M.data.max_per_batch??300,b.value=M.data.work_hours_start||"",m.value=M.data.work_hours_end||"",g.value=M.data.periods_count??8,C.value=Array.isArray((J=M.data)==null?void 0:J.timetable_days)?M.data.timetable_days:[],k.value=Array.isArray((U=M.data)==null?void 0:U.timetable_periods)?M.data.timetable_periods:[];for(let H=1;H<=8;H++){const se=k.value[H-1]||{};y.value[H]={start:M.data[`period_${H}_start`]||se.start_time||"",end:M.data[`period_${H}_end`]||se.end_time||""}}R.value=(V=M.data)!=null&&V.weekly_schedule?E(M.data.weekly_schedule):T()}catch(M){r.value=((K=(ee=M==null?void 0:M.response)==null?void 0:ee.data)==null?void 0:K.message)||M.message||" "}finally{i.value=!1}}async function P(){var J,U,V;if(!u.value){oe.showAlert("warning","","  ");return}f.value=!0;try{const ee=new FormData;ee.append("file",u.value);const K=await le.put("/settings/logo",ee);c.value=((J=K.data)==null?void 0:J.site_logo_url)||null,u.value=null,oe.showAlert("success","","  "),await yt.loadPublic()}catch(ee){oe.showAlert("error","",((V=(U=ee==null?void 0:ee.response)==null?void 0:U.data)==null?void 0:V.message)||ee.message||"  ")}finally{f.value=!1}}async function q(){var J,U;o.value=!0,r.value="";try{await le.put("/settings",{site_name:l.value,site_logo_url:c.value,send_delay_ms:Number(h.value),max_per_batch:Number(p.value),work_hours_start:b.value||null,work_hours_end:m.value||null}),oe.showAlert("success","","   "),await I(),await yt.loadPublic()}catch(V){oe.showAlert("error","",((U=(J=V==null?void 0:V.response)==null?void 0:J.data)==null?void 0:U.message)||V.message||"  ")}finally{o.value=!1}}return je(()=>{s.value&&I()}),(J,U)=>(v(),w("div",DD,[S(cs,{title:a.value?" Excel":"",subtitle:"   ",icon:B(t0)},{actions:ne(()=>[s.value?(v(),$e(me,{key:0,variant:"secondary",onClick:I,disabled:i.value},{default:ne(()=>[S(B(ds),{class:"w-4 h-4"}),U[5]||(U[5]=Q("  ",-1))]),_:1},8,["disabled"])):de("",!0),s.value?(v(),$e(me,{key:1,variant:"primary",onClick:q,disabled:o.value,loading:o.value},{default:ne(()=>[S(B(is),{class:"w-4 h-4"}),Q(" "+$(o.value?" ...":""),1)]),_:1},8,["disabled","loading"])):de("",!0)]),_:1},8,["title","icon"]),i.value?(v(),$e(Os,{key:0,message:"  ..."})):(v(),w(be,{key:1},[r.value?(v(),w("div",PD,$(r.value),1)):de("",!0),d("div",OD,[s.value?(v(),w(be,{key:0},[d("div",ND,[d("div",ID,[S(B(m_),{class:"w-5 h-5"}),U[6]||(U[6]=Q("  ",-1))]),d("div",LD,[d("div",null,[S(ze,{modelValue:l.value,"onUpdate:modelValue":U[0]||(U[0]=V=>l.value=V),label:" ",placeholder:" "},null,8,["modelValue"])]),d("div",null,[U[7]||(U[7]=d("label",{class:"text-sm text-slate-700 dark:text-slate-300 font-medium"},"",-1)),d("div",FD,[c.value?(v(),w("img",{key:0,src:`http://localhost:3000${c.value}`,class:"h-14 w-14 rounded-2xl object-cover border-2 border-slate-200 dark:border-slate-700 shadow",alt:"logo"},null,8,BD)):de("",!0),S(me,{variant:"secondary",size:"sm",onClick:P,disabled:f.value,loading:f.value},{default:ne(()=>[S(B(I_),{class:"w-4 h-4"}),Q(" "+$(f.value?"...":" "),1)]),_:1},8,["disabled","loading"])]),U[8]||(U[8]=d("div",{class:"mt-1 text-xs text-slate-500 dark:text-slate-400"},[Q("     "),d("b",null,""),Q(" . ")],-1))])])]),U[11]||(U[11]=d("hr",{class:"border-slate-200 dark:border-slate-700"},null,-1)),d("div",VD,[d("div",jD,[S(B(Xt),{class:"w-5 h-5"}),U[9]||(U[9]=Q("  ",-1))]),d("div",UD,[S(ze,{modelValue:h.value,"onUpdate:modelValue":U[1]||(U[1]=V=>h.value=V),modelModifiers:{number:!0},type:"number",label:"   (ms)",placeholder:"4000",hint:" 1000  30000. (: 4000)",min:"1000",max:"30000"},null,8,["modelValue"]),S(ze,{modelValue:p.value,"onUpdate:modelValue":U[2]||(U[2]=V=>p.value=V),modelModifiers:{number:!0},type:"number",label:"   ",placeholder:"300",hint:" 50  5000.",min:"50",max:"5000"},null,8,["modelValue"]),S(ze,{modelValue:b.value,"onUpdate:modelValue":U[3]||(U[3]=V=>b.value=V),type:"time",label:"   ()"},null,8,["modelValue"]),S(ze,{modelValue:m.value,"onUpdate:modelValue":U[4]||(U[4]=V=>m.value=V),type:"time",label:"   ()"},null,8,["modelValue"])]),U[10]||(U[10]=d("div",{class:"rounded-xl bg-gray-50 p-3 text-xs text-gray-600"}," :     (   ). ",-1))]),U[12]||(U[12]=d("hr",{class:"border-slate-200 dark:border-slate-700"},null,-1))],64)):de("",!0),n.value?(v(),w("div",zD,[s.value?(v(),w("hr",HD)):de("",!0),U[13]||(U[13]=d("div",{class:"font-semibold"}," Excel",-1)),d("div",WD,[S(Ll,{title:" ",endpoint:"/import/students",hint:": ID, Massar, Nom, Prenom, Genre, Telephone_Pere, Telephone_mere, Telephone_autre, Classe, niveau"}),S(Ll,{title:" ",endpoint:"/import/teachers",hint:": ID, Nom_Prof, Code_CIN, Genre, telephone"}),S(Ll,{title:"   ",endpoint:"/import/students-passmassar",hint:"      export_InfoEleve_    :     2    11     6."})]),U[14]||(U[14]=Qi('<div class="rounded-2xl border bg-white dark:bg-slate-800 p-4 text-sm text-gray-700 dark:text-gray-300"><div class="font-semibold mb-2"></div><ul class="list-disc pr-5 space-y-1"><li>   <b>Massar</b>  .</li><li>     <b>Code_CIN</b>  (  ).</li><li>  <b>Code_CIN</b>          .</li><li>         .</li></ul></div>',1))])):de("",!0)])],64))]))}},qD={class:"card p-4 space-y-4"},GD={class:"flex flex-col gap-3"},KD={class:"flex items-center justify-between"},YD={class:"flex items-center gap-2"},JD=["disabled"],XD={class:"flex items-center gap-2"},QD=["value"],ZD=["disabled"],eP={key:0,class:"text-sm text-slate-500"},tP={key:1,class:"grid gap-6 lg:grid-cols-2"},sP={class:"grid grid-cols-2 sm:grid-cols-3 gap-3"},nP=["checked","onClick"],aP={class:"text-center"},iP={class:"font-semibold text-sm leading-tight"},oP={class:"text-xs text-slate-500 mt-1"},rP={class:"grid grid-cols-2 sm:grid-cols-3 gap-3"},lP=["checked","onClick"],dP={class:"text-center"},cP={class:"font-semibold text-sm leading-tight"},uP={class:"text-xs text-slate-500 mt-1"},fP={__name:"AssignTeacherSubjects",setup(t){const e=D([]),s=D([]),n=D([]),a=D(null),i=D([]),o=D([]),r=D(!1),l=D("");async function c(){var _;const k=await le.get("/teachers/active"),x=Array.isArray((_=k.data)==null?void 0:_.data)?k.data.data:[];e.value=x}const u=he(()=>{if(!l.value.trim())return e.value;const k=l.value.toLowerCase().trim();return e.value.filter(x=>{var _,T,E;return((_=x.full_name)==null?void 0:_.toLowerCase().includes(k))||((T=x.Code_CIN)==null?void 0:T.toLowerCase().includes(k))||((E=x.phone)==null?void 0:E.includes(k))})});async function f(){var _;const k=await le.get("/timetable-admin/subjects"),x=Array.isArray((_=k.data)==null?void 0:_.data)?k.data.data:[];s.value=x.filter(T=>(T==null?void 0:T.is_active)===1||(T==null?void 0:T.is_active)===!0||String(T==null?void 0:T.is_active)==="1")}async function h(){var x;const k=await le.get("/settings/timetable/classes/active");n.value=Array.isArray((x=k.data)==null?void 0:x.data)?k.data.data:[]}async function p(){var k,x,_,T,E,R;if(!a.value){i.value=[],o.value=[];return}try{console.log(`Loading assignments for teacher ${a.value}`);const[I,P]=await Promise.all([le.get(`/timetable-admin/teachers/${a.value}/subjects`),le.get(`/timetable-admin/teachers/${a.value}/classes`)]);console.log("API responses:",{subjects:I.data,classes:P.data});const q=Array.isArray((k=I.data)==null?void 0:k.data)?I.data.data:[],J=Array.isArray((x=P.data)==null?void 0:x.data)?P.data.data:[];i.value=q.map(U=>Number(U)).filter(Boolean),o.value=J.map(U=>Number(U)).filter(Boolean),console.log("Loaded assignments:",{subjects:i.value,classes:o.value})}catch(I){console.error("Error loading assignments:",I),console.error("Error details:",{message:I==null?void 0:I.message,response:(_=I==null?void 0:I.response)==null?void 0:_.data,status:(T=I==null?void 0:I.response)==null?void 0:T.status}),i.value=[],o.value=[],oe.error(((R=(E=I==null?void 0:I.response)==null?void 0:E.data)==null?void 0:R.message)||"   ")}}function b(k){const x=Number(k),_=i.value.indexOf(x);_===-1?i.value.push(x):i.value.splice(_,1),console.log("Toggled subject:",x,"Current:",i.value)}function m(k){const x=Number(k),_=o.value.indexOf(x);_===-1?o.value.push(x):o.value.splice(_,1),console.log("Toggled class:",x,"Current:",o.value)}function g(){i.value=[],o.value=[],console.log("Cleared all assignments")}const y=he(()=>a.value&&i.value.length>0&&o.value.length>0);async function C(){var k,x;if(!y.value){oe.error("       ");return}r.value=!0;try{console.log("Saving assignments:",{teacherId:a.value,subject_ids:i.value,class_ids:o.value}),await Promise.all([le.put(`/timetable-admin/teachers/${a.value}/subjects`,{subject_ids:i.value.map(_=>Number(_))}),le.put(`/timetable-admin/teachers/${a.value}/classes`,{class_ids:o.value.map(_=>Number(_))})]),oe.success("  "),await p()}catch(_){console.error("Error saving assignments:",_),oe.error(((x=(k=_==null?void 0:_.response)==null?void 0:k.data)==null?void 0:x.message)||(_==null?void 0:_.message)||" ")}finally{r.value=!1}}return je(async()=>{await Promise.all([c(),f(),h()])}),qe(a,()=>p()),(k,x)=>(v(),w("div",qD,[d("div",GD,[d("div",KD,[x[2]||(x[2]=d("div",null,[d("div",{class:"font-extrabold"},"  ")],-1)),d("div",YD,[i.value.length>0||o.value.length>0?(v(),w("button",{key:0,class:"btn btn-outline-red",onClick:g,disabled:r.value},"",8,JD)):de("",!0)])]),d("div",XD,[Ce(d("input",{type:"text","onUpdate:modelValue":x[0]||(x[0]=_=>l.value=_),class:"input input min-w-[300px]-1",placeholder:"   (  )..."},null,512),[[Ue,l.value]]),Ce(d("select",{class:"input min-w-[300px]","onUpdate:modelValue":x[1]||(x[1]=_=>a.value=_)},[x[3]||(x[3]=d("option",{value:null},"-   -",-1)),(v(!0),w(be,null,ke(u.value,_=>(v(),w("option",{key:_.id,value:_.id},$(_.full_name)+" "+$(_.Code_CIN?`(${_.Code_CIN})`:""),9,QD))),128))],512),[[Ye,a.value]]),d("button",{class:"btn btn-primary",onClick:C,disabled:!y.value||r.value},"",8,ZD)])]),a.value?(v(),w("div",tP,[d("div",null,[x[4]||(x[4]=d("div",{class:"mb-4 font-bold text-lg"}," ",-1)),d("div",sP,[(v(!0),w(be,null,ke(s.value,_=>(v(),w("label",{key:_.id,class:Ee(["flex flex-col items-center justify-center p-4 border-2 rounded-lg cursor-pointer transition-all",i.value.includes(_.id)?"border-blue-500 bg-blue-50":"border-slate-200 bg-white hover:border-blue-300"])},[d("input",{type:"checkbox",checked:i.value.includes(_.id),onClick:T=>b(_.id),class:"w-5 h-5 cursor-pointer mb-2"},null,8,nP),d("div",aP,[d("div",iP,$(_.name_ar),1),d("div",oP,$(_.code||""),1)])],2))),128))])]),d("div",null,[x[5]||(x[5]=d("div",{class:"mb-4 font-bold text-lg"}," ",-1)),d("div",rP,[(v(!0),w(be,null,ke(n.value,_=>(v(),w("label",{key:_.id,class:Ee(["flex flex-col items-center justify-center p-4 border-2 rounded-lg cursor-pointer transition-all",o.value.includes(_.id)?"border-green-500 bg-green-50":"border-slate-200 bg-white hover:border-green-300"])},[d("input",{type:"checkbox",checked:o.value.includes(_.id),onClick:T=>m(_.id),class:"w-5 h-5 cursor-pointer mb-2"},null,8,lP),d("div",dP,[d("div",cP,$(_.classe),1),d("div",uP,$(_.level||""),1)])],2))),128))])])])):(v(),w("div",eP,"    .")),x[6]||(x[6]=d("div",{class:"text-sm text-slate-500"},":            .",-1))]))}},hP={class:"mx-auto max-w-7xl p-4 space-y-4"},pP={class:"card p-4 sticky top-3 z-10 backdrop-blur bg-white/90"},gP={class:"mt-3 border-b border-slate-200"},mP={class:"-mb-px flex gap-4 overflow-x-auto text-sm font-bold"},bP={key:0,class:"card p-4 text-center"},vP={key:1,class:"card p-4 text-red-600"},yP={key:2,class:"card p-4 space-y-4"},xP={class:"flex items-center justify-between"},_P={class:"text-sm text-slate-500"},kP={class:"flex flex-col gap-1"},wP={class:"inline-flex items-center gap-2 text-sm"},CP={class:"flex items-end gap-2"},SP={class:"overflow-auto rounded-xl border bg-white"},AP={class:"min-w-full text-sm"},EP={class:"border px-2 py-1"},$P={class:"border px-2 py-1"},MP={class:"border px-2 py-1 text-center"},TP={class:"border px-2 py-1 text-center"},RP={class:"border px-2 py-1 text-center space-x-1 whitespace-nowrap"},DP={key:0},PP={key:3,class:"card p-4 space-y-4"},OP={class:"flex items-center justify-between"},NP={class:"text-sm text-slate-500"},IP={class:"flex flex-col gap-1"},LP={class:"inline-flex items-center gap-2 text-sm"},FP={class:"flex items-end gap-2"},BP={class:"overflow-auto rounded-xl border bg-white"},VP={class:"min-w-full text-sm"},jP={class:"border px-2 py-1"},UP={class:"border px-2 py-1"},zP={class:"border px-2 py-1"},HP={class:"border px-2 py-1 text-center"},WP={class:"border px-2 py-1 text-center"},qP={class:"border px-2 py-1 text-center space-x-1 whitespace-nowrap"},GP={key:0},KP={key:4,class:"card p-4 space-y-4"},YP={class:"flex items-center justify-between"},JP={class:"text-sm text-slate-500"},XP={class:"flex flex-col gap-1"},QP={class:"inline-flex items-center gap-2 text-sm"},ZP={class:"flex items-end gap-2"},e8={class:"overflow-auto rounded-xl border bg-white"},t8={class:"min-w-full text-sm"},s8={class:"border px-2 py-1"},n8={class:"border px-2 py-1"},a8={class:"border px-2 py-1"},i8={class:"border px-2 py-1 text-center"},o8={class:"border px-2 py-1 text-center"},r8={class:"border px-2 py-1 text-center space-x-1"},l8={key:0},d8={key:5,class:"card p-4 space-y-4"},c8={class:"flex items-center justify-between"},u8={class:"flex items-center gap-2"},f8={class:"flex gap-2"},h8={key:0,class:"text-sm text-slate-500"},p8={key:1,class:"space-y-4"},g8={class:"flex flex-wrap gap-2"},m8=["disabled","onClick"],b8={key:0,class:"space-y-3 rounded-xl border border-slate-200 bg-slate-50 p-3"},v8={class:"font-semibold"},y8={class:"overflow-auto rounded-xl border bg-white"},x8={class:"min-w-full text-xs"},_8={class:"text-[10px] text-slate-400"},k8={class:"border px-2 py-1 font-medium"},w8=["checked","disabled","onChange"],C8={key:6,class:"grid grid-cols-1 gap-4 lg:grid-cols-[1fr_360px]"},S8={class:"card p-4"},A8={key:0,class:"mt-4 p-6 text-center text-slate-500"},E8={key:1,class:"mt-3 overflow-auto rounded-xl border"},$8={class:"min-w-full text-sm bg-white"},M8={class:"px-4 py-3 font-extrabold"},T8={class:"px-4 py-3"},R8={class:"px-4 py-3 text-center"},D8={class:"px-4 py-3 text-center"},P8={class:"px-4 py-3 text-left whitespace-nowrap"},O8={class:"card p-4"},N8={class:"mt-3 space-y-3"},I8={class:"flex items-center gap-3"},L8={class:"inline-flex items-center gap-2"},F8={class:"inline-flex items-center gap-2"},B8={class:"mt-4 flex gap-2"},V8={key:7,class:"card p-4"},j8={class:"flex items-center justify-between mb-4"},U8={class:"flex items-center gap-2"},z8={class:"mt-4"},H8={key:0,class:"p-6 text-center text-slate-500"},W8={key:1,class:"overflow-auto rounded-xl border"},q8={class:"min-w-full text-sm bg-white"},G8={class:"px-4 py-3 font-extrabold"},K8={class:"px-4 py-3 text-center"},Y8={class:"px-4 py-3 text-center"},J8=["onUpdate:modelValue"],X8={class:"px-4 py-3 text-center"},Q8={class:"inline-flex items-center gap-2"},Z8=["onUpdate:modelValue"],eO={key:8,class:"p-0"},tO={key:9,class:"card p-4 space-y-4"},sO={class:"flex items-center justify-between"},nO={class:"text-xs text-slate-500 mt-1 flex items-center gap-3 flex-wrap"},aO={class:"flex items-center gap-1"},iO={class:"flex items-center gap-1"},oO={class:"flex items-center gap-1"},rO={class:"flex items-center gap-2"},lO={class:"mt-4"},dO={key:0,class:"p-6 text-center text-slate-500"},cO={key:1,class:"overflow-auto rounded-xl border"},uO={class:"min-w-full text-sm bg-white"},fO={class:"bg-slate-100"},hO={class:"px-4 py-3 font-extrabold"},pO=["disabled","onClick","title"],gO={key:2},mO=7,bO={__name:"TimetableSettings",setup(t){const e=D(localStorage.getItem("tt_complete_tab")||"days");qe(e,Z=>localStorage.setItem("tt_complete_tab",Z));const s=D(""),n=he(()=>(s.value||"").toLowerCase().trim()),a=D(!1),i=D(""),o=D([]),r=D([]),l=D([]),c=D(!1),u=D(!1),f=D(!1),h=D({id:null,code:"",label_ar:"",is_active:!0,order:1}),p=D({id:null,code:"",start_time:"",end_time:"",is_active:!0,order:1}),b=D({id:null,level:"",section:"",cycle:"",is_active:!0,order:1}),m=[{value:"",label:" "},{value:"PRIMARY",label:""},{value:"MIDDLE",label:""},{value:"HIGH",label:""}],g={PRIMARY:"",MIDDLE:"",HIGH:""},y=D({}),C=D(!1),k=D(!1),x=D(""),_=D(null),T=D([]),E=D([]),R=D(""),I=D([]),P=D([]),q=D(null),J=D(new Set),U=D(new Set),V=D({days:[],periods:[],data:{}}),ee=D([]),K=D({id:null,name_ar:"",code:"",is_global:!0,is_active:!0}),M=he(()=>[...o.value].sort((Z,L)=>Number(Z.order||0)-Number(L.order||0))),H=he(()=>[...r.value].sort((Z,L)=>Number(Z.order||0)-Number(L.order||0))),se=he(()=>[...l.value].sort((Z,L)=>Number(Z.order||0)-Number(L.order||0))),xe=he(()=>Array.isArray(T.value)?T.value:[]),ge=he(()=>Array.isArray(P.value)?P.value:[]);he(()=>Array.isArray(l.value)?l.value:[]);const G=he(()=>Array.isArray(E.value)?E.value:[]),z=he(()=>Array.isArray(I.value)?I.value:[]),ae=he(()=>{var Z;return Array.isArray((Z=V.value)==null?void 0:Z.days)?V.value.days:[]}),te=he(()=>{var Z;return Array.isArray((Z=V.value)==null?void 0:Z.periods)?V.value.periods:[]}),j=he(()=>{var Z;return(Z=V.value)!=null&&Z.data&&typeof V.value.data=="object"?V.value.data:{}}),A=he(()=>{const Z=xe.value;return n.value?Z.filter(L=>`${(L==null?void 0:L.name_ar)||""} ${(L==null?void 0:L.code)||""}`.toLowerCase().includes(n.value)):Z}),O=he(()=>{const Z=ge.value;return n.value?Z.filter(L=>`${(L==null?void 0:L.full_name)||""}`.toLowerCase().includes(n.value)):Z}),X=he(()=>{const Z=new Map;return l.value.filter(L=>L==null?void 0:L.is_active).forEach(L=>{if(!(L!=null&&L.cycle))return;const W=L.cycle.toUpperCase();Z.has(W)||Z.set(W,L.cycle)}),Array.from(Z.entries()).map(([L,W])=>({value:L,label:g[L]||W||L}))}),re=he(()=>M.value.find(Z=>Z.id===_.value)||M.value[0]||null),ie=he(()=>!!b.value.id);function N(Z){return!!((Z==null?void 0:Z.is_active)??(Z==null?void 0:Z.Is_active)??!0)}function F(Z){return!!((Z==null?void 0:Z.is_active)??(Z==null?void 0:Z.Is_active)??!0)}function Y(Z){const L=m.find(W=>W.value===Z);return L?L.label:Z||"-"}function ce(Z){return typeof Z=="string"?Z:(Z==null?void 0:Z.level)||(Z==null?void 0:Z.name)||""}function pe(){const Z=M.value[M.value.length-1];return Z?Math.max(1,Number(Z.order||M.length))+1:1}function fe(){const Z=H.value[H.value.length-1];return Z?Math.max(1,Number(Z.order||H.length))+1:1}function we(){const Z=se.value[se.value.length-1];return Z?Math.max(1,Number(Z.order||se.length))+1:1}function _e(){h.value={id:null,code:"",label_ar:"",is_active:!0,order:pe()}}function ve(){p.value={id:null,code:"",start_time:"",end_time:"",is_active:!0,order:fe()}}function ye(){b.value={id:null,level:"",section:"",cycle:"",is_active:!0,order:we()}}function Te(){K.value={id:null,name_ar:"",code:"",is_global:!0,is_active:!0}}function Se(Z){h.value={id:Z.id,code:Z.code||"",label_ar:Z.label_ar||"",is_active:!!Z.is_active,order:Number(Z.order||1)}}function Re(Z){p.value={id:Z.id,code:Z.code||"",start_time:Z.start_time||"",end_time:Z.end_time||"",is_active:!!Z.is_active,order:Number(Z.order||1)}}function Pe(Z){b.value={id:Z.id,level:Z.level||"",section:Z.section||"",cycle:Z.cycle||"",is_active:!!Z.is_active,order:Number(Z.order||1)}}function Oe(Z){K.value={id:(Z==null?void 0:Z.id)??null,name_ar:(Z==null?void 0:Z.name_ar)||"",code:(Z==null?void 0:Z.code)||"",is_global:!!(Z!=null&&Z.is_global),is_active:!!(Z!=null&&Z.is_active)}}function Ie(Z){!(Z!=null&&Z.id)||!N(Z)||(_.value=Z.id)}function Be(Z,L,W){const Me=W?String(W).toUpperCase():"";return`${Z}|${L}|${Me}`}function dt(Z,L,W){const Me=Be(Z,L,W);return!!y.value[Me]}function tt(Z,L,W){const Me=Be(Z,L,W),Lt=!y.value[Me];y.value={...y.value,[Me]:Lt},C.value=!0}function It(Z,L){return`${Z}|${L}`}function Ct(Z,L){return!!j.value[It(Z,L)]}function On(Z,L){const W=It(Z,L);V.value={...V.value,data:{...j.value,[W]:!j.value[W]}}}function Nn(Z,L){return ee.value.some(Me=>{const Lt=Number(Me.day_id),In=Number(Me.period_id),ws=Number(Z),Zr=Number(L);return Lt===ws&&In===Zr})}async function ft(){var L,W,Me;const Z=await le.get("/settings");o.value=Array.isArray((L=Z.data)==null?void 0:L.timetable_days)?Z.data.timetable_days:[],r.value=Array.isArray((W=Z.data)==null?void 0:W.timetable_periods)?Z.data.timetable_periods:[],l.value=Array.isArray((Me=Z.data)==null?void 0:Me.timetable_classes)?Z.data.timetable_classes:[],_e(),ve(),ye(),!_.value&&M.value.length&&(_.value=M.value[0].id)}async function Ht(){var Z,L,W;x.value="";try{const Me=await le.get("/settings/timetable/study-periods"),Lt=Array.isArray((Z=Me.data)==null?void 0:Z.data)?Me.data.data:[],In={};Lt.forEach(ws=>{if(!ws||!ws.day_id||!ws.period_id||!ws.cycle)return;const Zr=Be(ws.day_id,ws.period_id,String(ws.cycle).trim());In[Zr]=!!ws.is_active}),y.value=In,C.value=!1}catch(Me){x.value=((W=(L=Me==null?void 0:Me.response)==null?void 0:L.data)==null?void 0:W.message)||Me.message||"   ."}}async function ha(){var L;const Z=await le.get("/timetable-admin/subjects");T.value=Array.isArray((L=Z.data)==null?void 0:L.data)?Z.data.data:[]}async function co(){var W,Me,Lt;const Z=await le.get("/timetable-admin/levels"),L=Array.isArray((W=Z.data)==null?void 0:W.data)?Z.data.data:[];E.value=L,!R.value&&L.length&&(R.value=typeof L[0]=="string"?L[0]:((Me=L[0])==null?void 0:Me.level)||((Lt=L[0])==null?void 0:Lt.name)||"")}async function Qr(){var L;if(!R.value)return;const Z=await le.get("/timetable-admin/level-subjects",{params:{level:R.value}});I.value=Array.isArray((L=Z.data)==null?void 0:L.data)?Z.data.data:[]}async function ym(){var W;const Z=await le.get("/teachers/active"),L=Array.isArray((W=Z.data)==null?void 0:W.data)?Z.data.data:[];P.value=L,console.log(`   ${L.length}   API`),!q.value&&P.value.length&&(q.value=P.value[0].id)}async function Tc(){var W,Me;if(!q.value)return;const[Z,L]=await Promise.all([le.get(`/timetable-admin/teachers/${q.value}/subjects`),le.get(`/timetable-admin/teachers/${q.value}/classes`)]);J.value=new Set(Array.isArray((W=Z.data)==null?void 0:W.data)?Z.data.data:[]),U.value=new Set(Array.isArray((Me=L.data)==null?void 0:Me.data)?L.data.data:[])}async function Rc(){var L,W,Me;if(!q.value)return;const Z=await le.get(`/timetable-admin/teachers/${q.value}/availability`);V.value={days:Array.isArray((L=Z.data)==null?void 0:L.days)?Z.data.days:[],periods:Array.isArray((W=Z.data)==null?void 0:W.periods)?Z.data.periods:[],data:(Me=Z.data)!=null&&Me.data&&typeof Z.data.data=="object"?Z.data.data:{}}}async function Dc(){var Z,L;if(!q.value){ee.value=[];return}try{const W=await le.get(`/timetable-admin/teachers/${q.value}/assigned-slots`);ee.value=Array.isArray((Z=W.data)==null?void 0:Z.data)?W.data.data:[]}catch(W){(L=W.response)==null||L.status,ee.value=[]}}async function xm(){var Z,L;if(!h.value.code.trim()||!h.value.label_ar.trim()){oe.error("     .");return}if(!h.value.id&&M.value.length>=mO){oe.error("     7 .");return}c.value=!0;try{const W={code:h.value.code.trim(),label_ar:h.value.label_ar.trim(),is_active:h.value.is_active?1:0,order:Math.max(1,Number(h.value.order||1))};h.value.id?await le.put(`/settings/timetable/days/${h.value.id}`,W):await le.post("/settings/timetable/days",W),oe.success("  "),await ft()}catch(W){oe.error(((L=(Z=W==null?void 0:W.response)==null?void 0:Z.data)==null?void 0:L.message)||W.message||"   .")}finally{c.value=!1}}async function _m(Z){var L,W;if(window.confirm("  "))try{await le.delete(`/settings/timetable/days/${Z}`),oe.success("  "),_e(),await ft()}catch(Me){oe.error(((W=(L=Me==null?void 0:Me.response)==null?void 0:L.data)==null?void 0:W.message)||Me.message)}}async function km(){var Z,L;if(!p.value.code.trim()){oe.error("   .");return}u.value=!0;try{const W={code:p.value.code.trim(),start_time:p.value.start_time||null,end_time:p.value.end_time||null,is_active:p.value.is_active?1:0,order:Math.max(1,Number(p.value.order||1))};p.value.id?await le.put(`/settings/timetable/periods/${p.value.id}`,W):await le.post("/settings/timetable/periods",W),oe.success("  "),await ft()}catch(W){oe.error(((L=(Z=W==null?void 0:W.response)==null?void 0:Z.data)==null?void 0:L.message)||W.message)}finally{u.value=!1}}async function wm(Z){var L,W;if(window.confirm("    "))try{await le.delete(`/settings/timetable/periods/${Z}`),oe.success("  "),ve(),await ft()}catch(Me){oe.error(((W=(L=Me==null?void 0:Me.response)==null?void 0:L.data)==null?void 0:W.message)||Me.message)}}async function Cm(){var Z,L;if(!b.value.level.trim()||!b.value.section.trim()){oe.error("   .");return}f.value=!0;try{const W={level:b.value.level.trim(),section:b.value.section.trim(),cycle:b.value.cycle||null,is_active:b.value.is_active?1:0,order:Math.max(1,Number(b.value.order||1))};b.value.id?await le.put(`/settings/timetable/classes/${b.value.id}`,W):await le.post("/settings/timetable/classes",W),oe.success("  "),await ft()}catch(W){oe.error(((L=(Z=W==null?void 0:W.response)==null?void 0:Z.data)==null?void 0:L.message)||W.message)}finally{f.value=!1}}async function Sm(Z){var L,W;if(window.confirm("  "))try{await le.delete(`/settings/timetable/classes/${Z}`),oe.success("  "),ye(),await ft()}catch(Me){oe.error(((W=(L=Me==null?void 0:Me.response)==null?void 0:L.data)==null?void 0:W.message)||Me.message)}}async function Am(){var Z,L;if(!X.value.length){oe.error("    .");return}k.value=!0;try{const W=[];for(const Me of M.value)if(N(Me)){for(const Lt of H.value)if(F(Lt))for(const In of X.value)dt(Me.id,Lt.id,In.value)&&W.push({day_id:Me.id,period_id:Lt.id,cycle:In.value,is_active:!0})}await le.put("/settings/timetable/study-periods",{periods:W}),oe.success("  "),await Ht()}catch(W){oe.error(((L=(Z=W==null?void 0:W.response)==null?void 0:Z.data)==null?void 0:L.message)||W.message)}finally{k.value=!1}}async function Em(){var L;const Z={name_ar:K.value.name_ar,code:K.value.code,is_global:K.value.is_global?1:0,is_active:K.value.is_active?1:0};if(!((L=Z.name_ar)!=null&&L.trim())){oe.error("  ");return}K.value.id?await le.put(`/timetable-admin/subjects/${K.value.id}`,Z):await le.post("/timetable-admin/subjects",Z),oe.success("  "),await ha(),Te()}async function $m(Z){confirm(" ")&&(await le.delete(`/timetable-admin/subjects/${Z}`),await ha(),oe.success(" "))}async function Mm(){const Z=z.value.map(L=>({subject_id:L.subject_id,weekly_periods:Number(L.weekly_periods||0),is_active:!!L.is_active}));await le.put("/timetable-admin/level-subjects",{level:R.value,items:Z}),oe.success("  "),await Qr()}async function Tm(){q.value&&(await le.put(`/timetable-admin/teachers/${q.value}/availability`,{cells:j.value}),oe.success("   "))}async function Pc(){var Z,L;a.value=!0,i.value="";try{await Promise.all([ft(),ha(),co(),ym()]),await Promise.all([Ht(),Qr(),Tc(),Rc(),Dc()])}catch(W){i.value=((L=(Z=W==null?void 0:W.response)==null?void 0:Z.data)==null?void 0:L.message)||(W==null?void 0:W.message)||" "}finally{a.value=!1}}return qe(R,()=>Qr()),qe(q,async()=>{await Tc(),await Rc(),await Dc()}),qe(M,()=>{const Z=M.value.filter(L=>N(L));if(!_.value&&Z.length){_.value=Z[0].id;return}_.value&&!Z.some(L=>L.id===_.value)&&(_.value=Z.length?Z[0].id:null)}),je(Pc),(Z,L)=>(v(),w("div",hP,[d("div",pP,[S(cs,{title:"   ",subtitle:"    ",icon:B(af)},{actions:ne(()=>[S(ze,{modelValue:s.value,"onUpdate:modelValue":L[0]||(L[0]=W=>s.value=W),placeholder:"...",class:"w-[280px]"},null,8,["modelValue"]),S(me,{variant:"secondary",onClick:Pc,disabled:a.value},{default:ne(()=>[S(B(ds),{class:"w-4 h-4 inline-block"}),L[29]||(L[29]=Q("  ",-1))]),_:1},8,["disabled"])]),_:1},8,["icon"]),d("div",gP,[d("nav",mP,[d("button",{onClick:L[1]||(L[1]=W=>e.value="days"),class:Ee(["whitespace-nowrap py-3 px-1 border-b-2 flex items-center gap-1",e.value==="days"?"border-blue-600 text-blue-700":"border-transparent text-slate-500"])},[S(B($n),{class:"w-4 h-4"}),L[30]||(L[30]=Q(" ",-1))],2),d("button",{onClick:L[2]||(L[2]=W=>e.value="periods"),class:Ee(["whitespace-nowrap py-3 px-1 border-b-2 flex items-center gap-1",e.value==="periods"?"border-blue-600 text-blue-700":"border-transparent text-slate-500"])},[S(B(pn),{class:"w-4 h-4"}),L[31]||(L[31]=Q(" ",-1))],2),d("button",{onClick:L[3]||(L[3]=W=>e.value="classes"),class:Ee(["whitespace-nowrap py-3 px-1 border-b-2 flex items-center gap-1",e.value==="classes"?"border-blue-600 text-blue-700":"border-transparent text-slate-500"])},[S(B(rd),{class:"w-4 h-4"}),L[32]||(L[32]=Q(" ",-1))],2),d("button",{onClick:L[4]||(L[4]=W=>e.value="study"),class:Ee(["whitespace-nowrap py-3 px-1 border-b-2 flex items-center gap-1",e.value==="study"?"border-blue-600 text-blue-700":"border-transparent text-slate-500"])},[S(B(rs),{class:"w-4 h-4"}),L[33]||(L[33]=Q("  ",-1))],2),d("button",{onClick:L[5]||(L[5]=W=>e.value="subjects"),class:Ee(["whitespace-nowrap py-3 px-1 border-b-2 flex items-center gap-1",e.value==="subjects"?"border-blue-600 text-blue-700":"border-transparent text-slate-500"])},[S(B(g_),{class:"w-4 h-4"}),L[34]||(L[34]=Q(" ",-1))],2),d("button",{onClick:L[6]||(L[6]=W=>e.value="curriculum"),class:Ee(["whitespace-nowrap py-3 px-1 border-b-2 flex items-center gap-1",e.value==="curriculum"?"border-blue-600 text-blue-700":"border-transparent text-slate-500"])},[S(B(T_),{class:"w-4 h-4"}),L[35]||(L[35]=Q(" ",-1))],2),d("button",{onClick:L[7]||(L[7]=W=>e.value="teacher"),class:Ee(["whitespace-nowrap py-3 px-1 border-b-2 flex items-center gap-1",e.value==="teacher"?"border-blue-600 text-blue-700":"border-transparent text-slate-500"])},[S(B(s0),{class:"w-4 h-4"}),L[36]||(L[36]=Q(" ",-1))],2),d("button",{onClick:L[8]||(L[8]=W=>e.value="availability"),class:Ee(["whitespace-nowrap py-3 px-1 border-b-2 flex items-center gap-1",e.value==="availability"?"border-blue-600 text-blue-700":"border-transparent text-slate-500"])},[S(B(af),{class:"w-4 h-4"}),L[37]||(L[37]=Q(" ",-1))],2)])])]),a.value?(v(),w("div",bP," ...")):i.value?(v(),w("div",vP,$(i.value),1)):e.value==="days"?(v(),w("section",yP,[d("div",xP,[L[38]||(L[38]=d("h2",{class:"text-lg font-semibold"},"",-1)),d("div",_P," : "+$(M.value.length),1)]),d("form",{class:"grid gap-3 md:grid-cols-5",onSubmit:gs(xm,["prevent"])},[S(ze,{modelValue:h.value.code,"onUpdate:modelValue":L[9]||(L[9]=W=>h.value.code=W),label:" ",placeholder:"MON"},null,8,["modelValue"]),S(ze,{modelValue:h.value.label_ar,"onUpdate:modelValue":L[10]||(L[10]=W=>h.value.label_ar=W),label:" ",placeholder:""},null,8,["modelValue"]),S(ze,{modelValue:h.value.order,"onUpdate:modelValue":L[11]||(L[11]=W=>h.value.order=W),modelModifiers:{number:!0},label:"",type:"number",min:"1"},null,8,["modelValue"]),d("div",kP,[L[40]||(L[40]=d("label",{class:"text-xs"},"",-1)),d("label",wP,[Ce(d("input",{type:"checkbox","onUpdate:modelValue":L[12]||(L[12]=W=>h.value.is_active=W)},null,512),[[vt,h.value.is_active]]),L[39]||(L[39]=d("span",null,"",-1))])]),d("div",CP,[S(me,{variant:"primary",class:"w-full",disabled:c.value,type:"submit"},{default:ne(()=>[Q($(h.value.id?"":""),1)]),_:1},8,["disabled"]),h.value.id?(v(),$e(me,{key:0,variant:"secondary",onClick:_e},{default:ne(()=>[...L[41]||(L[41]=[Q("",-1)])]),_:1})):de("",!0)])],32),d("div",SP,[d("table",AP,[L[45]||(L[45]=d("thead",{class:"bg-slate-100"},[d("tr",null,[d("th",{class:"border px-2 py-1 text-right"},""),d("th",{class:"border px-2 py-1 text-right"},""),d("th",{class:"border px-2 py-1 text-center"},""),d("th",{class:"border px-2 py-1 text-center"},""),d("th",{class:"border px-2 py-1 text-center"},"")])],-1)),d("tbody",null,[(v(!0),w(be,null,ke(M.value,W=>(v(),w("tr",{key:W.id},[d("td",EP,$(W.code),1),d("td",$P,$(W.label_ar),1),d("td",MP,$(W.order),1),d("td",TP,[d("span",{class:Ee(["px-2 py-0.5 rounded-full text-xs",W.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},$(W.is_active?"":""),3)]),d("td",RP,[S(me,{variant:"secondary",size:"sm",onClick:Me=>Se(W)},{default:ne(()=>[S(B(gn),{class:"w-3.5 h-3.5 inline-block"}),L[42]||(L[42]=Q("  ",-1))]),_:1},8,["onClick"]),S(me,{variant:"danger",size:"sm",onClick:Me=>_m(W.id)},{default:ne(()=>[S(B(mn),{class:"w-3.5 h-3.5 inline-block"}),L[43]||(L[43]=Q("  ",-1))]),_:1},8,["onClick"])])]))),128)),M.value.length?de("",!0):(v(),w("tr",DP,[...L[44]||(L[44]=[d("td",{colspan:"5",class:"border px-2 py-3 text-center text-gray-500"},"  .",-1)])]))])])])])):e.value==="periods"?(v(),w("section",PP,[d("div",OP,[L[46]||(L[46]=d("h2",{class:"text-lg font-semibold"},"",-1)),d("div",NP," : "+$(H.value.length),1)]),d("form",{class:"grid gap-3 lg:grid-cols-6",onSubmit:gs(km,["prevent"])},[S(ze,{modelValue:p.value.code,"onUpdate:modelValue":L[13]||(L[13]=W=>p.value.code=W),label:" ",placeholder:"S1"},null,8,["modelValue"]),S(ze,{modelValue:p.value.start_time,"onUpdate:modelValue":L[14]||(L[14]=W=>p.value.start_time=W),label:"",type:"time"},null,8,["modelValue"]),S(ze,{modelValue:p.value.end_time,"onUpdate:modelValue":L[15]||(L[15]=W=>p.value.end_time=W),label:"",type:"time"},null,8,["modelValue"]),S(ze,{modelValue:p.value.order,"onUpdate:modelValue":L[16]||(L[16]=W=>p.value.order=W),modelModifiers:{number:!0},label:"",type:"number",min:"1"},null,8,["modelValue"]),d("div",IP,[L[48]||(L[48]=d("label",{class:"text-xs"},"",-1)),d("label",LP,[Ce(d("input",{type:"checkbox","onUpdate:modelValue":L[17]||(L[17]=W=>p.value.is_active=W)},null,512),[[vt,p.value.is_active]]),L[47]||(L[47]=d("span",null,"",-1))])]),d("div",FP,[S(me,{variant:"primary",class:"w-full",disabled:u.value,type:"submit"},{default:ne(()=>[Q($(p.value.id?"":""),1)]),_:1},8,["disabled"]),p.value.id?(v(),$e(me,{key:0,variant:"secondary",onClick:ve},{default:ne(()=>[...L[49]||(L[49]=[Q("",-1)])]),_:1})):de("",!0)])],32),d("div",BP,[d("table",VP,[L[53]||(L[53]=d("thead",{class:"bg-slate-100"},[d("tr",null,[d("th",{class:"border px-2 py-1 text-right"},""),d("th",{class:"border px-2 py-1 text-right"},""),d("th",{class:"border px-2 py-1 text-right"},""),d("th",{class:"border px-2 py-1 text-center"},""),d("th",{class:"border px-2 py-1 text-center"},""),d("th",{class:"border px-2 py-1 text-center"},"")])],-1)),d("tbody",null,[(v(!0),w(be,null,ke(H.value,W=>(v(),w("tr",{key:W.id},[d("td",jP,$(W.code),1),d("td",UP,$(W.start_time||"-"),1),d("td",zP,$(W.end_time||"-"),1),d("td",HP,$(W.order),1),d("td",WP,[d("span",{class:Ee(["px-2 py-0.5 rounded-full text-xs",W.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},$(W.is_active?"":""),3)]),d("td",qP,[S(me,{variant:"secondary",size:"sm",onClick:Me=>Re(W)},{default:ne(()=>[S(B(gn),{class:"w-3.5 h-3.5 inline-block"}),L[50]||(L[50]=Q("  ",-1))]),_:1},8,["onClick"]),S(me,{variant:"danger",size:"sm",onClick:Me=>wm(W.id)},{default:ne(()=>[S(B(mn),{class:"w-3.5 h-3.5 inline-block"}),L[51]||(L[51]=Q("  ",-1))]),_:1},8,["onClick"])])]))),128)),H.value.length?de("",!0):(v(),w("tr",GP,[...L[52]||(L[52]=[d("td",{colspan:"6",class:"border px-2 py-3 text-center text-gray-500"},"  .",-1)])]))])])])])):e.value==="classes"?(v(),w("section",KP,[d("div",YP,[L[54]||(L[54]=d("h2",{class:"text-lg font-semibold"},"",-1)),d("div",JP," : "+$(se.value.length),1)]),d("form",{class:"grid gap-3 lg:grid-cols-6",onSubmit:gs(Cm,["prevent"])},[S(ze,{modelValue:b.value.level,"onUpdate:modelValue":L[18]||(L[18]=W=>b.value.level=W),label:"",placeholder:"1A",disabled:ie.value},null,8,["modelValue","disabled"]),S(ze,{modelValue:b.value.section,"onUpdate:modelValue":L[19]||(L[19]=W=>b.value.section=W),label:"",placeholder:"B",disabled:ie.value},null,8,["modelValue","disabled"]),S(mt,{modelValue:b.value.cycle,"onUpdate:modelValue":L[20]||(L[20]=W=>b.value.cycle=W),label:"",options:m},null,8,["modelValue"]),S(ze,{modelValue:b.value.order,"onUpdate:modelValue":L[21]||(L[21]=W=>b.value.order=W),modelModifiers:{number:!0},label:"",type:"number",min:"1"},null,8,["modelValue"]),d("div",XP,[L[56]||(L[56]=d("label",{class:"text-xs"},"",-1)),d("label",QP,[Ce(d("input",{type:"checkbox","onUpdate:modelValue":L[22]||(L[22]=W=>b.value.is_active=W)},null,512),[[vt,b.value.is_active]]),L[55]||(L[55]=d("span",null,"",-1))])]),d("div",ZP,[S(me,{variant:"primary",class:"w-full",disabled:!ie.value||f.value,type:"submit"},{default:ne(()=>[Q($(ie.value?"":""),1)]),_:1},8,["disabled"]),ie.value?(v(),$e(me,{key:0,variant:"secondary",onClick:ye},{default:ne(()=>[...L[57]||(L[57]=[Q("",-1)])]),_:1})):de("",!0)])],32),d("div",e8,[d("table",t8,[L[61]||(L[61]=d("thead",{class:"bg-slate-100"},[d("tr",null,[d("th",{class:"border px-2 py-1 text-right"},""),d("th",{class:"border px-2 py-1 text-right"},""),d("th",{class:"border px-2 py-1 text-right"},""),d("th",{class:"border px-2 py-1 text-center"},""),d("th",{class:"border px-2 py-1 text-center"},""),d("th",{class:"border px-2 py-1 text-center"},"")])],-1)),d("tbody",null,[(v(!0),w(be,null,ke(se.value,W=>(v(),w("tr",{key:W.id},[d("td",s8,$(W.level),1),d("td",n8,$(W.section),1),d("td",a8,$(Y(W.cycle)),1),d("td",i8,$(W.order),1),d("td",o8,[d("span",{class:Ee(["px-2 py-0.5 rounded-full text-xs",W.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},$(W.is_active?"":""),3)]),d("td",r8,[S(me,{variant:"secondary",size:"sm",onClick:Me=>Pe(W)},{default:ne(()=>[S(B(gn),{class:"w-3.5 h-3.5 inline-block"}),L[58]||(L[58]=Q("  ",-1))]),_:1},8,["onClick"]),S(me,{variant:"danger",size:"sm",onClick:Me=>Sm(W.id)},{default:ne(()=>[S(B(mn),{class:"w-3.5 h-3.5 inline-block"}),L[59]||(L[59]=Q("  ",-1))]),_:1},8,["onClick"])])]))),128)),se.value.length?de("",!0):(v(),w("tr",l8,[...L[60]||(L[60]=[d("td",{colspan:"6",class:"border px-2 py-3 text-center text-gray-500"},"  .",-1)])]))])])])])):e.value==="study"?(v(),w("section",d8,[d("div",c8,[L[63]||(L[63]=d("h2",{class:"text-lg font-semibold"}," ",-1)),d("div",u8,[d("div",f8,[S(me,{variant:"primary",disabled:k.value||!C.value,loading:k.value,onClick:Am},{default:ne(()=>[S(B(is),{class:"w-4 h-4 inline-block"}),Q(" "+$(k.value?" ...":""),1)]),_:1},8,["disabled","loading"]),S(me,{variant:"secondary",disabled:k.value,onClick:Ht},{default:ne(()=>[S(B(ds),{class:"w-4 h-4 inline-block"}),L[62]||(L[62]=Q("  ",-1))]),_:1},8,["disabled"])])])]),X.value.length?(v(),w("div",p8,[d("div",g8,[(v(!0),w(be,null,ke(M.value,W=>{var Me;return v(),w("button",{key:W.id,type:"button",class:Ee(["rounded-full px-3 py-1 text-sm font-semibold",[W.id===((Me=re.value)==null?void 0:Me.id)?"bg-slate-500 text-white":"bg-slate-100 text-slate-600",N(W)?"":"opacity-50 cursor-not-allowed"]]),disabled:!N(W),onClick:Lt=>Ie(W)},$(W.label_ar||W.code),11,m8)}),128))]),re.value?(v(),w("div",b8,[d("div",v8,$(re.value.label_ar||re.value.code),1),d("div",y8,[d("table",x8,[d("thead",null,[d("tr",null,[L[64]||(L[64]=d("th",{class:"px-2 py-1 text-right"}," / ",-1)),(v(!0),w(be,null,ke(H.value,W=>(v(),w("th",{key:W.id,class:"px-2 py-1 text-center"},[d("div",null,$(W.code),1),d("div",_8,$(W.start_time||"--")+" - "+$(W.end_time||"--"),1)]))),128))])]),d("tbody",null,[(v(!0),w(be,null,ke(X.value,W=>(v(),w("tr",{key:W.value},[d("td",k8,$(W.label),1),(v(!0),w(be,null,ke(H.value,Me=>(v(),w("td",{key:`${W.value}-${Me.id}`,class:"border px-2 py-1 text-center"},[d("label",null,[d("input",{type:"checkbox",checked:dt(re.value.id,Me.id,W.value),disabled:!F(Me),onChange:Lt=>tt(re.value.id,Me.id,W.value)},null,40,w8)])]))),128))]))),128))])])])])):de("",!0)])):(v(),w("div",h8,"     ."))])):e.value==="subjects"?(v(),w("div",C8,[d("div",S8,[L[68]||(L[68]=d("div",{class:"font-extrabold"}," ",-1)),A.value.length===0?(v(),w("div",A8,"  ")):(v(),w("div",E8,[d("table",$8,[L[67]||(L[67]=d("thead",{class:"bg-slate-100"},[d("tr",null,[d("th",{class:"px-4 py-3 text-right font-extrabold"},""),d("th",{class:"px-4 py-3 text-right"},"Code"),d("th",{class:"px-4 py-3 text-center"},""),d("th",{class:"px-4 py-3 text-center"},""),d("th",{class:"px-4 py-3 text-left"},"")])],-1)),d("tbody",null,[(v(!0),w(be,null,ke(A.value,W=>(v(),w("tr",{key:W.id,class:"odd:bg-white even:bg-slate-50"},[d("td",M8,$(W.name_ar),1),d("td",T8,$(W.code||""),1),d("td",R8,[d("span",{class:Ee(["px-2 py-1 rounded-full text-xs font-extrabold",W.is_global?"bg-emerald-50 text-emerald-700":"bg-slate-50 text-slate-600"])},$(W.is_global?"":""),3)]),d("td",D8,[d("span",{class:Ee(["px-2 py-1 rounded-full text-xs font-extrabold",W.is_active?"bg-emerald-50 text-emerald-700":"bg-rose-50 text-rose-700"])},$(W.is_active?"":""),3)]),d("td",P8,[S(me,{variant:"secondary",size:"sm",onClick:Me=>Oe(W)},{default:ne(()=>[S(B(gn),{class:"w-3.5 h-3.5 inline-block"}),L[65]||(L[65]=Q("  ",-1))]),_:1},8,["onClick"]),S(me,{variant:"danger",size:"sm",onClick:Me=>$m(W.id)},{default:ne(()=>[S(B(mn),{class:"w-3.5 h-3.5 inline-block"}),L[66]||(L[66]=Q("  ",-1))]),_:1},8,["onClick"])])]))),128))])])]))]),d("div",O8,[L[73]||(L[73]=d("div",{class:"font-extrabold"}," /  ",-1)),d("div",N8,[S(ze,{modelValue:K.value.name_ar,"onUpdate:modelValue":L[23]||(L[23]=W=>K.value.name_ar=W),label:" ",placeholder:""},null,8,["modelValue"]),S(ze,{modelValue:K.value.code,"onUpdate:modelValue":L[24]||(L[24]=W=>K.value.code=W),label:"Code",placeholder:"MATH"},null,8,["modelValue"]),d("div",I8,[d("label",L8,[Ce(d("input",{type:"checkbox","onUpdate:modelValue":L[25]||(L[25]=W=>K.value.is_global=W)},null,512),[[vt,K.value.is_global]]),L[69]||(L[69]=d("span",{class:"text-sm"},"",-1))]),d("label",F8,[Ce(d("input",{type:"checkbox","onUpdate:modelValue":L[26]||(L[26]=W=>K.value.is_active=W)},null,512),[[vt,K.value.is_active]]),L[70]||(L[70]=d("span",{class:"text-sm"},"",-1))])])]),d("div",B8,[S(me,{variant:"primary",class:"flex-1",onClick:Em},{default:ne(()=>[S(B(is),{class:"w-4 h-4 inline-block"}),L[71]||(L[71]=Q("  ",-1))]),_:1}),S(me,{variant:"secondary",onClick:Te},{default:ne(()=>[S(B($_),{class:"w-4 h-4 inline-block"}),L[72]||(L[72]=Q("  ",-1))]),_:1})])])])):e.value==="curriculum"?(v(),w("div",V8,[d("div",j8,[L[75]||(L[75]=d("div",{class:"font-extrabold"}," ",-1)),d("div",U8,[S(mt,{modelValue:R.value,"onUpdate:modelValue":L[27]||(L[27]=W=>R.value=W),options:G.value.map(W=>({value:ce(W),label:ce(W)})),class:"w-48"},null,8,["modelValue","options"]),d("div",z8,[S(me,{variant:"primary",onClick:Mm},{default:ne(()=>[S(B(is),{class:"w-4 h-4 inline-block"}),L[74]||(L[74]=Q("  ",-1))]),_:1})])])]),z.value.length===0?(v(),w("div",H8,"  ")):(v(),w("div",W8,[d("table",q8,[L[77]||(L[77]=d("thead",{class:"bg-slate-100"},[d("tr",null,[d("th",{class:"px-4 py-3 text-right"},""),d("th",{class:"px-4 py-3 text-center"},""),d("th",{class:"px-4 py-3 text-center"}," /"),d("th",{class:"px-4 py-3 text-center"},"")])],-1)),d("tbody",null,[(v(!0),w(be,null,ke(z.value,W=>(v(),w("tr",{key:W.subject_id,class:"odd:bg-white even:bg-slate-50"},[d("td",G8,$(W.name_ar),1),d("td",K8,$(W.is_global?"":""),1),d("td",Y8,[Ce(d("input",{class:"input w-28 text-center",type:"number",min:"0","onUpdate:modelValue":Me=>W.weekly_periods=Me},null,8,J8),[[Ue,W.weekly_periods,void 0,{number:!0}]])]),d("td",X8,[d("label",Q8,[Ce(d("input",{type:"checkbox","onUpdate:modelValue":Me=>W.is_active=Me},null,8,Z8),[[vt,W.is_active]]),L[76]||(L[76]=d("span",{class:"text-sm"},"",-1))])])]))),128))])])]))])):e.value==="teacher"?(v(),w("div",eO,[S(fP)])):(v(),w("div",tO,[d("div",sO,[d("div",null,[L[81]||(L[81]=d("div",{class:"font-extrabold"}," ",-1)),d("div",nO,[d("span",aO,[S(B(of),{class:"w-3 h-3 fill-blue-500 text-blue-500"}),L[78]||(L[78]=Q(" : ",-1))]),d("span",iO,[S(B(of),{class:"w-3 h-3 fill-slate-400 text-slate-400"}),L[79]||(L[79]=Q(" :  ",-1))]),d("span",oO,[S(B(ao),{class:"w-3 h-3 text-red-500"}),L[80]||(L[80]=Q(" :   (  )",-1))])])]),d("div",rO,[S(mt,{modelValue:q.value,"onUpdate:modelValue":L[28]||(L[28]=W=>q.value=W),modelModifiers:{number:!0},options:O.value.map(W=>({value:W.id,label:W.full_name})),class:"w-64"},null,8,["modelValue","options"]),d("div",lO,[S(me,{variant:"primary",onClick:Tm},{default:ne(()=>[S(B(is),{class:"w-4 h-4 inline-block"}),L[82]||(L[82]=Q("  ",-1))]),_:1})])])]),ae.value.length===0||te.value.length===0?(v(),w("div",dO,"  /")):(v(),w("div",cO,[d("table",uO,[d("thead",fO,[d("tr",null,[L[83]||(L[83]=d("th",{class:"px-4 py-3 text-right"}," \\ ",-1)),(v(!0),w(be,null,ke(te.value,W=>(v(),w("th",{key:W.id,class:"px-3 py-3 text-center"},$(W.code||W.period_number),1))),128))])]),d("tbody",null,[(v(!0),w(be,null,ke(ae.value,W=>(v(),w("tr",{key:W.id,class:"odd:bg-white even:bg-slate-50"},[d("td",hO,$(W.label_ar||W.code),1),(v(!0),w(be,null,ke(te.value,Me=>(v(),w("td",{key:Me.id,class:"px-3 py-2 text-center"},[d("button",{class:Ee(["h-9 w-10 rounded-xl border text-sm font-extrabold transition",Nn(W.id,Me.id)?"bg-red-100 border-red-300 text-red-700 cursor-not-allowed":Ct(W.id,Me.id)?"bg-blue-50 border-blue-200 text-blue-700":"bg-slate-50 border-slate-200 text-slate-600"]),disabled:Nn(W.id,Me.id),onClick:Lt=>On(W.id,Me.id),title:Nn(W.id,Me.id)?"  -   ":""},[Nn(W.id,Me.id)?(v(),$e(B(Zg),{key:0,class:"w-4 h-4 mx-auto"})):Ct(W.id,Me.id)?(v(),$e(B(da),{key:1,class:"w-4 h-4 mx-auto"})):(v(),w("span",gO,""))],10,pO)]))),128))]))),128))])])]))]))]))}},vO={class:"space-y-4"},yO={class:"flex flex-wrap items-center justify-between gap-3 p-4 bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 rounded-xl shadow-sm"},xO={class:"flex items-center gap-2"},_O=["value"],kO={key:0,class:"card p-4"},wO={key:1,class:"card p-4"},CO={key:2,class:"space-y-4"},SO={class:"card p-6 bg-white dark:bg-slate-900 shadow-xl"},AO={class:"mb-2 flex items-center gap-2"},EO={class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-3"},$O=["onClick"],MO={class:"font-bold text-base mb-2 text-slate-900 dark:text-slate-100"},TO={class:"flex items-center justify-center gap-1 text-xs text-slate-700 dark:text-slate-300 mb-1"},RO={key:0,class:"mt-6 pt-6 border-t-2 border-slate-200 dark:border-slate-700"},DO={class:"flex items-center justify-between mb-3"},PO={class:"flex items-center gap-2"},OO={class:"px-3 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-full text-xs font-semibold"},NO=["value"],IO={class:"text-sm text-slate-600 dark:text-slate-400 mt-3 p-3 bg-gradient-to-r from-emerald-50 to-teal-50 dark:from-emerald-950/20 dark:to-teal-950/20 rounded-lg border-l-4 border-emerald-500"},LO={class:"card p-6 overflow-auto flex-1 bg-white dark:bg-slate-900 shadow-xl"},FO={class:"mb-4 flex items-center justify-between gap-2"},BO={class:"flex items-center gap-2"},VO={class:"flex items-center gap-2"},jO={class:"min-w-full text-sm table-auto border-2 border-slate-300 dark:border-slate-700 rounded-xl overflow-hidden shadow-lg"},UO={class:"bg-gradient-to-r from-slate-200 to-slate-100 dark:from-slate-800 dark:to-slate-700 text-slate-900 dark:text-slate-100"},zO={class:"w-[140px] py-3 px-4 font-bold border-r-2 border-slate-300 dark:border-slate-600 flex items-center gap-2 justify-center"},HO={class:"font-bold flex items-center gap-1 justify-center"},WO={class:"text-xs text-slate-600 dark:text-slate-400 font-normal"},qO={class:"font-bold whitespace-nowrap py-3 px-4 text-slate-900 dark:text-slate-100 bg-slate-100 dark:bg-slate-800 border-r-2 border-slate-300 dark:border-slate-600"},GO=["disabled","onClick"],KO={class:"font-bold w-full text-center text-base text-slate-900 dark:text-slate-100"},YO={class:"text-sm text-rose-600 dark:text-rose-400 text-center mt-2 font-bold cursor-pointer hover:text-rose-700 dark:hover:text-rose-300 hover:scale-125 transition-transform"},JO={key:1},XO={__name:"TimetablePlanner",setup(t){const e=D([]),s=D(null),n=D(null),a=D(!1),i=D(!1),o=D(!1),r=D(null),l=D(null),c=D(new Set);async function u(){var V;const U=await le.get("/settings/timetable/classes/active");e.value=Array.isArray((V=U.data)==null?void 0:V.data)?U.data.data:[],!s.value&&e.value.length&&(s.value=e.value[0].id)}async function f(){var U,V;if(s.value){a.value=!0;try{const ee=await le.get(`/timetable/planner/class/${s.value}`);n.value=ee.data,r.value=null,l.value=null,c.value=new Set}catch(ee){oe.showAlert("error","",((V=(U=ee==null?void 0:ee.response)==null?void 0:U.data)==null?void 0:V.message)||ee.message)}finally{a.value=!1}}}const h=he(()=>{var U;return((U=n.value)==null?void 0:U.days)||[]}),p=he(()=>{var U;return((U=n.value)==null?void 0:U.periods)||[]});function b(U,V){return`${U}|${V}`}const m=he(()=>{var V;const U={};return(((V=n.value)==null?void 0:V.slots)||[]).forEach(ee=>{U[b(ee.day_id,ee.period_id)]=ee}),U});function g(U,V){var K;const ee=((K=n.value)==null?void 0:K.studyMatrix)||{};return ee&&Object.keys(ee).length?!!ee[b(U,V)]:!0}function y(U,V){return g(U,V)?m.value[b(U,V)]?"filled":c.value.has(b(U,V))?"suggest":"empty":"disabled"}const C=he(()=>{var U;return((U=n.value)==null?void 0:U.workload)||[]}),k=he(()=>C.value.filter(U=>U.remaining>0)),x=he(()=>C.value.find(U=>U.subject_id===r.value)||null),_=[{border:"border-blue-500",bg:"bg-blue-50",darkBg:"dark:bg-blue-950/30",darkBorder:"dark:border-blue-400"},{border:"border-purple-500",bg:"bg-purple-50",darkBg:"dark:bg-purple-950/30",darkBorder:"dark:border-purple-400"},{border:"border-pink-500",bg:"bg-pink-50",darkBg:"dark:bg-pink-950/30",darkBorder:"dark:border-pink-400"},{border:"border-indigo-500",bg:"bg-indigo-50",darkBg:"dark:bg-indigo-950/30",darkBorder:"dark:border-indigo-400"},{border:"border-teal-500",bg:"bg-teal-50",darkBg:"dark:bg-teal-950/30",darkBorder:"dark:border-teal-400"},{border:"border-orange-500",bg:"bg-orange-50",darkBg:"dark:bg-orange-950/30",darkBorder:"dark:border-orange-400"},{border:"border-cyan-500",bg:"bg-cyan-50",darkBg:"dark:bg-cyan-950/30",darkBorder:"dark:border-cyan-400"},{border:"border-rose-500",bg:"bg-rose-50",darkBg:"dark:bg-rose-950/30",darkBorder:"dark:border-rose-400"}];function T(U){return _[U%_.length]}const E=he(()=>{var U;return((U=x.value)==null?void 0:U.teachers)||[]});async function R(U){r.value=U.subject_id;const V=U.teachers||[];l.value=V.length>0?V[0].id:null,c.value=new Set,l.value&&await I()}async function I(){var U,V,ee;if(c.value=new Set,!(!s.value||!r.value||!l.value))try{const K=await le.get("/timetable/planner/suggestions",{params:{class_id:s.value,subject_id:r.value,teacher_id:l.value}}),M=Array.isArray((U=K.data)==null?void 0:U.data)?K.data.data:[],H=new Set(M.map(se=>b(se.day_id,se.period_id)));c.value=H}catch(K){oe.showAlert("error","",((ee=(V=K==null?void 0:K.response)==null?void 0:V.data)==null?void 0:ee.message)||K.message)}}async function P(){var U,V,ee,K,M;if(s.value){i.value=!0;try{const H=await le.post(`/timetable/planner/autofill/class/${s.value}`,{avoid_same_subject_per_day:!0,max_same_subject_per_day:1}),se=Number(((U=H.data)==null?void 0:U.inserted)||0),xe=Array.isArray((V=H.data)==null?void 0:V.unscheduled)?H.data.unscheduled:[];if(se===0&&xe.length)oe.showAlert("warning","    ","       .   /    .");else{const ge={};(((ee=n.value)==null?void 0:ee.workload)||[]).forEach(z=>ge[z.subject_id]=z.name_ar);const G=xe.filter(z=>Number(z.remaining)>0).map(z=>`${ge[z.subject_id]||" #"+z.subject_id}:  ${z.remaining}`).slice(0,8).join(" ");oe.showAlert(xe.length?"warning":"success","  ",G?`  ${se} .     : ${G}`:`  ${se}   .`),nafigate.to("/timetable-planner")}await f()}catch(H){oe.showAlert("error","",((M=(K=H==null?void 0:H.response)==null?void 0:K.data)==null?void 0:M.message)||H.message)}finally{i.value=!1}}}async function q(){var V,ee;if(!(!s.value||!await Gt.confirm({title:" ",message:"            .",confirmText:" ",cancelText:"",variant:"danger"}))){o.value=!0;try{await le.delete(`/timetable/planner/class/${s.value}/slots`),oe.showAlert("success"," ","     "),await f()}catch(K){oe.showAlert("error","",((ee=(V=K==null?void 0:K.response)==null?void 0:V.data)==null?void 0:ee.message)||K.message)}finally{o.value=!1}}}async function J(U,V){var M,H;if(y(U,V)==="disabled")return;const K=m.value[b(U,V)];if(K){if(!await Gt.confirm({title:" ",message:"    ",confirmText:"",cancelText:"",variant:"danger"}))return;await le.delete(`/timetable/slots/${K.id}`),await f();return}if(!r.value||!l.value){oe.showAlert("info","","   ");return}if(!c.value.has(b(U,V))){oe.showAlert("info"," ","    (   )");return}try{await le.post("/timetable/slots",{class_id:s.value,day_id:U,period_id:V,subject_id:r.value,teacher_id:l.value}),await f(),await I()}catch(se){oe.showAlert("error","",((H=(M=se==null?void 0:se.response)==null?void 0:M.data)==null?void 0:H.message)||se.message)}}return qe(l,()=>I()),qe(s,async()=>{await f()}),je(async()=>{await u(),await f()}),(U,V)=>(v(),w("div",vO,[d("div",yO,[V[3]||(V[3]=d("div",null,[d("h1",{class:"text-2xl font-bold text-slate-900 dark:text-slate-100"},"  "),d("p",{class:"text-sm text-slate-600 dark:text-slate-400 mt-1"},"            ")],-1)),d("div",xO,[Ce(d("select",{class:"input min-w-[220px] bg-white dark:bg-slate-800","onUpdate:modelValue":V[0]||(V[0]=ee=>s.value=ee)},[(v(!0),w(be,null,ke(e.value,ee=>(v(),w("option",{key:ee.id,value:ee.id},$(ee.classe),9,_O))),128))],512),[[Ye,s.value,void 0,{number:!0}]]),S(me,{onClick:f,variant:"secondary"},{default:ne(()=>[S(B(ds),{class:"w-4 h-4 inline-block"}),V[2]||(V[2]=Q("  ",-1))]),_:1})])]),a.value?(v(),w("div",kO," ")):n.value?(v(),w("div",CO,[d("div",SO,[d("div",AO,[S(B(rs),{class:"w-6 h-6 text-slate-700 dark:text-slate-300"}),V[4]||(V[4]=d("h2",{class:"font-bold text-xl text-slate-900 dark:text-slate-100"}," ",-1))]),V[9]||(V[9]=d("div",{class:"text-sm text-slate-600 dark:text-slate-400 mb-4"},"    (   )",-1)),d("div",EO,[(v(!0),w(be,null,ke(k.value,(ee,K)=>(v(),w("button",{key:ee.subject_id,class:Ee(["rounded-xl border-2 p-4 text-sm text-center transition-all transform hover:scale-105 hover:-translate-y-1",[T(K).border,T(K).bg,T(K).darkBg,T(K).darkBorder,r.value===ee.subject_id?"ring-4 ring-offset-2 ring-slate-900 dark:ring-slate-100 shadow-2xl scale-105":"hover:shadow-xl"]]),onClick:M=>R(ee)},[d("div",MO,$(ee.name_ar),1),d("div",TO,[S(B(rf),{class:"w-4 h-4"}),d("span",null,$(ee.placed)+"/"+$(ee.weekly_periods),1)]),d("div",{class:Ee(["text-xs font-bold mt-1 px-2 py-1 rounded-full",ee.remaining>0?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/50 dark:text-emerald-300":"bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400"])}," : "+$(ee.remaining),3)],10,$O))),128))]),x.value?(v(),w("div",RO,[d("div",DO,[d("div",PO,[S(B(Sa),{class:"w-5 h-5 text-slate-600 dark:text-slate-400"}),V[5]||(V[5]=d("span",{class:"font-bold text-lg text-slate-900 dark:text-slate-100"}," ",-1))]),d("div",OO,$(E.value.length)+"   ",1)]),Ce(d("select",{class:"input w-full text-base font-medium bg-white dark:bg-slate-800 border-2","onUpdate:modelValue":V[1]||(V[1]=ee=>l.value=ee)},[(v(!0),w(be,null,ke(E.value,ee=>(v(),w("option",{key:ee.id,value:ee.id},$(ee.full_name),9,NO))),128))],512),[[Ye,l.value,void 0,{number:!0}]]),d("div",IO,[S(B(rf),{class:"w-4 h-4 inline-block text-blue-600 dark:text-blue-400"}),V[6]||(V[6]=d("span",{class:"font-bold"},":",-1)),V[7]||(V[7]=Q("      ",-1)),S(B(da),{class:"w-4 h-4 inline-block text-green-600"}),V[8]||(V[8]=Q("   .     . ",-1))])])):de("",!0)]),d("div",LO,[d("div",FO,[d("div",BO,[S(B($n),{class:"w-6 h-6 text-slate-700 dark:text-slate-300"}),V[10]||(V[10]=d("h2",{class:"font-bold text-xl text-slate-900 dark:text-slate-100"}," ",-1))]),d("div",VO,[S(me,{disabled:o.value||a.value,loading:o.value,onClick:q,variant:"danger",class:"shadow-lg"},{default:ne(()=>[S(B(Ot),{class:"w-4 h-4 inline-block"}),Q(" "+$(o.value?" ...":" "),1)]),_:1},8,["disabled","loading"]),S(me,{disabled:i.value||a.value,loading:i.value,onClick:P,variant:"primary",class:"shadow-lg"},{default:ne(()=>[S(B(j_),{class:"w-4 h-4 inline-block"}),Q(" "+$(i.value?" ...":" "),1)]),_:1},8,["disabled","loading"])])]),d("table",jO,[d("thead",UO,[d("tr",null,[d("th",zO,[S(B($n),{class:"w-4 h-4"}),V[11]||(V[11]=Q(" ",-1))]),(v(!0),w(be,null,ke(p.value,ee=>(v(),w("th",{key:ee.id,class:"text-center py-3 px-2 border-r border-slate-200 dark:border-slate-600"},[d("div",HO,[S(B(pn),{class:"w-4 h-4"}),Q(" "+$(ee.code||ee.period_number),1)]),d("div",WO,$(ee.start_time)+"-"+$(ee.end_time),1)]))),128))])]),d("tbody",null,[(v(!0),w(be,null,ke(h.value,ee=>(v(),w("tr",{key:ee.id,class:"border-t-2 border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors"},[d("td",qO,$(ee.label_ar||ee.code),1),(v(!0),w(be,null,ke(p.value,K=>(v(),w("td",{key:K.id,class:"p-2 align-middle border-r border-slate-200 dark:border-slate-700"},[d("button",{class:Ee(["w-full rounded-lg border-2 p-3 text-sm transition-all transform hover:scale-105",{"opacity-40 cursor-not-allowed bg-slate-200 dark:bg-slate-800 border-slate-300 dark:border-slate-700":y(ee.id,K.id)==="disabled","border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-900 hover:bg-slate-50 dark:hover:bg-slate-800 hover:shadow-md":y(ee.id,K.id)==="empty","border-emerald-500 dark:border-emerald-400 bg-gradient-to-br from-emerald-50 to-emerald-100 dark:from-emerald-950/30 dark:to-emerald-900/30 shadow-md hover:shadow-lg":y(ee.id,K.id)==="suggest","border-blue-500 dark:border-blue-400 bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950/40 dark:to-blue-900/40 shadow-lg":y(ee.id,K.id)==="filled"}]),disabled:y(ee.id,K.id)==="disabled",onClick:M=>J(ee.id,K.id)},[m.value[b(ee.id,K.id)]?(v(),w(be,{key:0},[d("div",KO,$(m.value[b(ee.id,K.id)].subject_code),1),d("div",YO,[S(B(Ot),{class:"w-4 h-4 mx-auto"})])],64)):(v(),w("div",{key:1,class:Ee(["text-lg text-center",y(ee.id,K.id)==="suggest"?"font-bold text-emerald-600 dark:text-emerald-400":"text-slate-400 dark:text-slate-600"])},[y(ee.id,K.id)==="suggest"?(v(),$e(B(tc),{key:0,class:"w-4 h-4 mx-auto"})):(v(),w("span",JO,""))],2))],10,GO)]))),128))]))),128))])])])])):(v(),w("div",wO,"  ."))]))}},QO={class:"mx-auto max-w-7xl p-4 space-y-4"},ZO={class:"card p-5 shadow-xl border-2 border-blue-100 dark:border-blue-900/30 rounded-2xl bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-950 dark:to-indigo-950"},eN={class:"flex items-center justify-between"},tN={class:"flex items-center gap-3"},sN={class:"p-3 bg-blue-600 rounded-xl shadow-lg"},nN={class:"card p-5 shadow-xl border-2 border-slate-100 dark:border-slate-700 rounded-2xl bg-white dark:bg-slate-900"},aN={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},iN={class:"flex gap-2"},oN={key:0},rN=["value"],lN={key:1},dN=["value"],cN={class:"flex items-end"},uN={key:0,class:"card p-8 text-center"},fN={key:1,class:"card p-5 shadow-xl border-2 border-slate-100 dark:border-slate-700 rounded-2xl bg-white dark:bg-slate-900"},hN={class:"mb-4"},pN={class:"text-xl font-bold text-slate-900 dark:text-slate-100"},gN={key:0},mN={key:1},bN={class:"overflow-auto rounded-xl border-2 border-slate-200 dark:border-slate-700"},vN={class:"min-w-full text-sm bg-white dark:bg-slate-900"},yN={class:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white"},xN={class:"font-bold"},_N={class:"text-xs opacity-90"},kN={class:"px-4 py-3 font-extrabold text-slate-900 dark:text-slate-100 border-r-2 border-slate-300 dark:border-slate-600"},wN={key:0,class:"space-y-1"},CN={class:"font-bold text-blue-700 dark:text-blue-400"},SN={key:0,class:"text-xs text-slate-600 dark:text-slate-400"},AN={key:1,class:"text-xs text-slate-600 dark:text-slate-400"},EN={key:1,class:"text-slate-400 dark:text-slate-600"},$N={key:2,class:"card p-5 shadow-xl border-2 border-slate-100 dark:border-slate-700 rounded-2xl bg-white dark:bg-slate-900"},MN={class:"mb-4 flex items-center gap-2"},TN={class:"text-xl font-bold text-slate-900 dark:text-slate-100"},RN={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},DN={class:"flex items-start gap-3"},PN={class:"flex-shrink-0"},ON={class:"flex-1 min-w-0"},NN=["title"],IN=["title"],LN={key:3,class:"card p-5 shadow-xl border-2 border-slate-100 dark:border-slate-700 rounded-2xl bg-white dark:bg-slate-900"},FN={class:"mb-4"},BN={class:"flex items-center justify-between"},VN={class:"flex items-center gap-2"},jN={class:"text-xl font-bold text-slate-900 dark:text-slate-100"},UN={class:"flex items-center gap-4"},zN={class:"px-4 py-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg"},HN={class:"text-2xl font-bold text-blue-700 dark:text-blue-300"},WN={class:"px-4 py-2 bg-emerald-100 dark:bg-emerald-900/30 rounded-lg"},qN={class:"text-2xl font-bold text-emerald-700 dark:text-emerald-300"},GN={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},KN={class:"flex items-start gap-3"},YN={class:"flex-shrink-0"},JN={class:"w-10 h-10 rounded-lg bg-blue-600 dark:bg-blue-700 flex items-center justify-center"},XN={class:"flex-1 min-w-0"},QN=["title"],ZN={class:"flex items-center gap-2 text-xs font-medium text-blue-700 dark:text-blue-300"},eI={key:4,class:"card p-8 text-center"},tI={key:5,class:"card p-8 text-center"},sI={__name:"TimetablePrint",setup(t){const e=D("class"),s=D(null),n=D(null),a=D([]),i=D([]),o=D(null),r=D(!1),l=D(!1),c=D([]),u=D([]),f=D([]),h=D(null),p=he(()=>e.value==="class"?!!s.value:!!n.value);async function b(){var E,R,I,P;r.value=!0;try{const[q,J]=await Promise.all([le.get("/classes"),le.get("/teachers?all=true")]);a.value=Array.isArray((E=q.data)==null?void 0:E.data)?q.data.data.filter(U=>U.is_active):[],i.value=Array.isArray((R=J.data)==null?void 0:R.data)?J.data.data:[]}catch(q){oe.error(((P=(I=q==null?void 0:q.response)==null?void 0:I.data)==null?void 0:P.message)||q.message)}finally{r.value=!1}}async function m(){var E,R,I,P,q;if(p.value){r.value=!0,o.value=null,f.value=[],h.value=null;try{const J=e.value==="class"?`/timetable-admin/class/${s.value}/view`:`/timetable-admin/teacher/${n.value}/view`,U=await le.get(J);o.value=((E=U.data)==null?void 0:E.timetable)||[],c.value=((R=U.data)==null?void 0:R.days)||[],u.value=((I=U.data)==null?void 0:I.periods)||[],e.value==="class"&&s.value&&await g(),e.value==="teacher"&&n.value&&await y()}catch(J){oe.error(((q=(P=J==null?void 0:J.response)==null?void 0:P.data)==null?void 0:q.message)||J.message)}finally{r.value=!1}}}async function g(){var E;try{const R=a.value.find(P=>P.id===Number(s.value));if(!R)return;const I=new Map;o.value.forEach(P=>{P.subject_name&&(I.has(P.subject_name)||I.set(P.subject_name,{subject_name:P.subject_name,teacher_name:P.teacher_name||"",is_assigned:!0}))});try{const P=await le.get("/timetable-admin/level-subjects",{params:{level:R.level}});(Array.isArray((E=P.data)==null?void 0:E.data)?P.data.data:[]).forEach(J=>{J.is_active&&!I.has(J.name_ar)&&I.set(J.name_ar,{subject_name:J.name_ar,teacher_name:" ",is_assigned:!1})})}catch(P){console.warn("Could not load curriculum:",P)}f.value=Array.from(I.values()).sort((P,q)=>P.is_assigned!==q.is_assigned?P.is_assigned?-1:1:P.subject_name.localeCompare(q.subject_name,"ar"))}catch(R){console.error("Error loading class subjects:",R)}}async function y(){try{const E=new Map;o.value.forEach(P=>{P.class_name&&(E.has(P.class_name)||E.set(P.class_name,0),E.set(P.class_name,E.get(P.class_name)+1))});const R=o.value.length,I=E.size;h.value={classes:Array.from(E.entries()).map(([P,q])=>({className:P,hours:q})).sort((P,q)=>P.className.localeCompare(q.className,"ar")),totalClasses:I,totalHours:R}}catch(E){console.error("Error loading teacher stats:",E)}}async function C(){var E,R;if(p.value){l.value=!0;try{const I=e.value==="class"?`/timetable-admin/class/${s.value}/pdf`:`/timetable-admin/teacher/${n.value}/pdf`,P=await le.get(I,{responseType:"blob"}),q=window.URL.createObjectURL(P.data),J=document.createElement("a");J.href=q;const U=e.value==="class"?`__${k(s.value)}.pdf`:`__${x(n.value)}.pdf`;J.download=U,document.body.appendChild(J),J.click(),document.body.removeChild(J),window.URL.revokeObjectURL(q),oe.success("   ")}catch(I){oe.error(((R=(E=I==null?void 0:I.response)==null?void 0:E.data)==null?void 0:R.message)||I.message||"   PDF")}finally{l.value=!1}}}function k(E){const R=a.value.find(I=>I.id===Number(E));return R?R.classe:E}function x(E){const R=i.value.find(I=>I.id===Number(E));return R?R.full_name:E}function _(E){if(!E)return E;const R=E.split(" - ");return R.length>1?R[R.length-1]:E}function T(E,R){const I=o.value.find(P=>P.day_id===E&&P.period_id===R);return I||null}return je(b),(E,R)=>(v(),w("div",QO,[d("div",ZO,[d("div",eN,[d("div",tN,[d("div",sN,[S(B(as),{class:"w-6 h-6 text-white"})]),R[4]||(R[4]=d("div",null,[d("h1",{class:"text-2xl font-extrabold text-slate-900 dark:text-slate-100"},"   "),d("p",{class:"text-sm text-slate-600 dark:text-slate-400 mt-1"},"      ")],-1))])])]),d("div",nN,[d("div",aN,[d("div",null,[R[7]||(R[7]=d("label",{class:"text-sm text-slate-700 dark:text-slate-300 font-medium mb-2 block"}," ",-1)),d("div",iN,[d("button",{onClick:R[0]||(R[0]=I=>{e.value="class",n.value=null,o.value=null}),class:Ee(["flex-1 px-4 py-2 rounded-lg font-bold transition flex items-center justify-center gap-2",e.value==="class"?"bg-blue-600 text-white":"bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300"])},[S(B(rd),{class:"w-4 h-4"}),R[5]||(R[5]=Q("   ",-1))],2),d("button",{onClick:R[1]||(R[1]=I=>{e.value="teacher",s.value=null,o.value=null}),class:Ee(["flex-1 px-4 py-2 rounded-lg font-bold transition flex items-center justify-center gap-2",e.value==="teacher"?"bg-blue-600 text-white":"bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300"])},[S(B(Sa),{class:"w-4 h-4"}),R[6]||(R[6]=Q("   ",-1))],2)])]),e.value==="class"?(v(),w("div",oN,[R[9]||(R[9]=d("label",{class:"text-sm text-slate-700 dark:text-slate-300 font-medium mb-2 block"},"",-1)),Ce(d("select",{"onUpdate:modelValue":R[2]||(R[2]=I=>s.value=I),class:"select w-full",onChange:m},[R[8]||(R[8]=d("option",{value:null}," ",-1)),(v(!0),w(be,null,ke(a.value,I=>(v(),w("option",{key:I.id,value:I.id},$(I.classe),9,rN))),128))],544),[[Ye,s.value,void 0,{number:!0}]])])):de("",!0),e.value==="teacher"?(v(),w("div",lN,[R[11]||(R[11]=d("label",{class:"text-sm text-slate-700 dark:text-slate-300 font-medium mb-2 block"},"",-1)),Ce(d("select",{"onUpdate:modelValue":R[3]||(R[3]=I=>n.value=I),class:"select w-full",onChange:m},[R[10]||(R[10]=d("option",{value:null}," ",-1)),(v(!0),w(be,null,ke(i.value,I=>(v(),w("option",{key:I.id,value:I.id},$(I.full_name),9,dN))),128))],544),[[Ye,n.value,void 0,{number:!0}]])])):de("",!0),d("div",cN,[S(me,{onClick:C,disabled:!p.value||l.value||r.value,loading:l.value,variant:"primary",class:"w-full flex items-center justify-center gap-2"},{default:ne(()=>[S(B(sc),{class:"w-4 h-4 inline-block"}),Q(" "+$(l.value?" ...":" PDF"),1)]),_:1},8,["disabled","loading"])])])]),r.value?(v(),w("div",uN,[...R[12]||(R[12]=[d("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"},null,-1),d("p",{class:"mt-4 text-slate-600 dark:text-slate-400"},"  ...",-1)])])):o.value&&o.value.length>0?(v(),w("div",fN,[d("div",hN,[d("h2",pN,[R[13]||(R[13]=Q("   - ",-1)),e.value==="class"?(v(),w("span",gN,$(k(s.value)),1)):(v(),w("span",mN,$(x(n.value)),1))])]),d("div",bN,[d("table",vN,[d("thead",yN,[d("tr",null,[R[14]||(R[14]=d("th",{class:"px-4 py-3 font-bold border-r-2 border-blue-700"}," \\ ",-1)),(v(!0),w(be,null,ke(u.value,I=>(v(),w("th",{key:I.id,class:"px-3 py-3 text-center border-r border-blue-700"},[d("div",xN,$(I.code),1),d("div",_N,$(I.start_time)+" - "+$(I.end_time),1)]))),128))])]),d("tbody",null,[(v(!0),w(be,null,ke(c.value,I=>(v(),w("tr",{key:I.id,class:"odd:bg-white even:bg-slate-50 dark:odd:bg-slate-900 dark:even:bg-slate-800"},[d("td",kN,$(I.label_ar),1),(v(!0),w(be,null,ke(u.value,P=>(v(),w("td",{key:`${I.id}-${P.id}`,class:"px-3 py-3 text-center border-r border-slate-200 dark:border-slate-700"},[T(I.id,P.id)?(v(),w("div",wN,[d("div",CN,$(T(I.id,P.id).subject_name),1),e.value==="class"?(v(),w("div",SN,$(T(I.id,P.id).teacher_name),1)):(v(),w("div",AN,$(_(T(I.id,P.id).class_name)),1))])):(v(),w("div",EN,""))]))),128))]))),128))])])])])):de("",!0),e.value==="class"&&f.value.length>0?(v(),w("div",$N,[d("div",MN,[S(B(rs),{class:"w-6 h-6 text-emerald-600 dark:text-emerald-400"}),d("h2",TN,"   - "+$(k(s.value)),1)]),d("div",RN,[(v(!0),w(be,null,ke(f.value,(I,P)=>(v(),w("div",{key:P,class:Ee(["rounded-xl border-2 p-4 transition-all hover:shadow-lg",I.is_assigned?"border-emerald-500 bg-gradient-to-br from-emerald-50 to-teal-50 dark:from-emerald-950/30 dark:to-teal-950/30 dark:border-emerald-400":"border-red-500 bg-gradient-to-br from-red-50 to-rose-50 dark:from-red-950/30 dark:to-rose-950/30 dark:border-red-400"])},[d("div",DN,[d("div",PN,[d("div",{class:Ee(["w-10 h-10 rounded-lg flex items-center justify-center",I.is_assigned?"bg-emerald-600 dark:bg-emerald-700":"bg-red-600 dark:bg-red-700"])},[S(B(rs),{class:"w-5 h-5 text-white"})],2)]),d("div",ON,[d("div",{class:"font-bold text-sm text-slate-900 dark:text-slate-100 mb-2 truncate",title:I.subject_name},$(I.subject_name),9,NN),d("div",{class:Ee(["text-xs font-medium truncate",I.is_assigned?"text-emerald-700 dark:text-emerald-300":"text-red-700 dark:text-red-300 italic"]),title:I.teacher_name},[S(B(Sa),{class:"w-3 h-3 inline-block ml-1"}),Q(" "+$(I.teacher_name),1)],10,IN)])])],2))),128))])])):de("",!0),e.value==="teacher"&&h.value?(v(),w("div",LN,[d("div",FN,[d("div",BN,[d("div",VN,[S(B(Sa),{class:"w-6 h-6 text-blue-600 dark:text-blue-400"}),d("h2",jN,"  - "+$(x(n.value)),1)]),d("div",UN,[d("div",zN,[R[15]||(R[15]=d("div",{class:"text-xs text-blue-600 dark:text-blue-400 font-medium"}," ",-1)),d("div",HN,$(h.value.totalClasses),1)]),d("div",WN,[R[16]||(R[16]=d("div",{class:"text-xs text-emerald-600 dark:text-emerald-400 font-medium"}," ",-1)),d("div",qN,$(h.value.totalHours),1)])])])]),d("div",GN,[(v(!0),w(be,null,ke(h.value.classes,(I,P)=>(v(),w("div",{key:P,class:"rounded-xl border-2 border-blue-500 bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-950/30 dark:to-indigo-950/30 dark:border-blue-400 p-4 transition-all hover:shadow-lg"},[d("div",KN,[d("div",YN,[d("div",JN,[S(B(rd),{class:"w-5 h-5 text-white"})])]),d("div",XN,[d("div",{class:"font-bold text-sm text-slate-900 dark:text-slate-100 mb-2 truncate",title:I.className},$(_(I.className)),9,QN),d("div",ZN,[S(B(pn),{class:"w-3 h-3"}),d("span",null,$(I.hours)+" ",1)])])])]))),128))])])):p.value&&!r.value?(v(),w("div",eI,[S(B(as),{class:"w-16 h-16 text-slate-400 mx-auto mb-4"}),R[17]||(R[17]=d("p",{class:"text-slate-600 dark:text-slate-400"},"   ",-1))])):(v(),w("div",tI,[S(B(as),{class:"w-16 h-16 text-slate-400 mx-auto mb-4"}),R[18]||(R[18]=d("p",{class:"text-slate-600 dark:text-slate-400"},"     ",-1))]))]))}},nI={class:"space-y-4"},aI={class:"flex flex-wrap items-center justify-between gap-3 p-4 bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 rounded-xl shadow-sm"},iI={class:"text-2xl font-bold text-slate-900 dark:text-slate-100 flex items-center gap-2"},oI={class:"flex items-center gap-2"},rI={class:"flex items-center gap-2 bg-white dark:bg-slate-800 px-3 py-2 rounded-lg border border-slate-200 dark:border-slate-700"},lI=["value"],dI={class:"flex items-center gap-2 bg-white dark:bg-slate-800 px-3 py-2 rounded-lg border border-slate-200 dark:border-slate-700"},cI=["value"],uI={key:0,class:"card p-8 text-center"},fI={key:1,class:"card p-8 text-center"},hI={key:2,class:"card p-6 overflow-auto bg-white dark:bg-slate-900 shadow-xl"},pI={class:"overflow-x-auto"},gI={class:"min-w-full text-sm border-2 border-slate-300 dark:border-slate-700 rounded-xl overflow-hidden"},mI={class:"bg-gradient-to-r from-slate-200 to-slate-100 dark:from-slate-800 dark:to-slate-700"},bI={class:"flex items-center justify-center gap-1"},vI={class:"py-3 px-4 text-center font-bold bg-emerald-100 dark:bg-emerald-900/30 text-emerald-800 dark:text-emerald-300 min-w-[150px]"},yI={class:"flex flex-col items-center gap-1"},xI={class:"flex items-center gap-1"},_I={class:"py-3 px-4 font-bold text-center bg-slate-100 dark:bg-slate-800 border-r-2 border-slate-300 dark:border-slate-600 text-slate-900 dark:text-slate-100"},kI={key:0,class:"space-y-2"},wI={class:"flex items-center gap-2 flex-1 min-w-0"},CI={key:1,class:"text-center py-3 text-slate-400 dark:text-slate-600 text-xs"},SI={class:"py-3 px-4 text-center bg-emerald-50 dark:bg-emerald-950/20 border-r border-slate-200 dark:border-slate-700"},AI={class:"flex flex-col items-center gap-2"},EI={class:"flex items-center gap-2 px-3 py-1 bg-blue-100 dark:bg-blue-900/30 rounded-full"},$I={class:"font-bold text-blue-700 dark:text-blue-300"},MI={class:"flex items-center gap-2 px-3 py-1 bg-orange-100 dark:bg-orange-900/30 rounded-full"},TI={class:"font-bold text-orange-700 dark:text-orange-300"},RI={class:"border-t-4 border-slate-400 dark:border-slate-500 bg-gradient-to-r from-amber-50 to-yellow-50 dark:from-amber-950/30 dark:to-yellow-950/30 font-bold"},DI={class:"flex flex-col items-center gap-2"},PI={class:"py-3 px-4 text-center bg-amber-100 dark:bg-amber-900/40 border-r border-slate-300 dark:border-slate-600"},OI={class:"flex flex-col items-center gap-2"},NI={class:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-600 to-blue-700 dark:from-blue-500 dark:to-blue-600 rounded-full shadow-lg"},II={class:"font-bold text-white text-lg"},LI={class:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-orange-600 to-orange-700 dark:from-orange-500 dark:to-orange-600 rounded-full shadow-lg"},FI={class:"font-bold text-white text-lg"},BI={__name:"EducationalStructure",setup(t){const e=D([]),s=D([]),n=D([]),a=D(null),i=D(null),o=D(!1),r=D(null);he(()=>{var x;return((x=r.value)==null?void 0:x.classes)||[]});const l=he(()=>{var x;return((x=r.value)==null?void 0:x.subjects)||[]}),c=he(()=>{var x;return((x=r.value)==null?void 0:x.structure)||[]});he(()=>{var x;return((x=r.value)==null?void 0:x.cycles)||[]});const u=he(()=>i.value?[...new Set(n.value.filter(_=>_.cycle===i.value).map(_=>_.level))].sort():e.value);async function f(){var x,_,T;try{const E=await le.get("/settings/timetable/classes/active");n.value=Array.isArray((x=E.data)==null?void 0:x.data)?E.data.data:[],e.value=[...new Set(n.value.map(R=>R.level).filter(Boolean))].sort(),s.value=[...new Set(n.value.map(R=>R.cycle).filter(Boolean))],!a.value&&e.value.length&&(a.value=e.value[0])}catch(E){oe.error(((T=(_=E==null?void 0:E.response)==null?void 0:_.data)==null?void 0:T.message)||E.message)}}async function h(){var x,_;o.value=!0;try{const T={};a.value&&(T.level=a.value),i.value&&(T.cycle=i.value);const E=await le.get("/timetable-admin/educational-structure",{params:T});r.value=E.data.data||{classes:[],subjects:[],structure:[],cycles:[]},r.value.cycles&&r.value.cycles.length>0&&(s.value=r.value.cycles)}catch(T){oe.error(((_=(x=T==null?void 0:T.response)==null?void 0:x.data)==null?void 0:_.message)||T.message)}finally{o.value=!1}}function p(){i.value&&a.value&&(u.value.includes(a.value)||(a.value=u.value.length>0?u.value[0]:null)),h()}function b(x){const _=new Set;let T=0;return x.subjects.forEach(E=>{E.teachers.forEach(R=>{_.add(R.teacher_id),T+=R.hours})}),{teachersCount:_.size,totalHours:T}}function m(x){const _=new Set;let T=0;return c.value.forEach(E=>{const R=E.subjects[x];R&&R.teachers.forEach(I=>{_.add(I.teacher_id),T+=I.hours})}),{teachersCount:_.size,totalHours:T}}function g(){const x=new Set;let _=0;return c.value.forEach(T=>{T.subjects.forEach(E=>{E.teachers.forEach(R=>{x.add(R.teacher_id),_+=R.hours})})}),{teachersCount:x.size,totalHours:_}}function y(x){if(!x)return x;const _=x.split(" - ");return _.length>1?_[_.length-1]:x}const C=[{bg:"bg-blue-50",text:"text-blue-700",border:"border-blue-200",darkBg:"dark:bg-blue-950/30",darkText:"dark:text-blue-300",darkBorder:"dark:border-blue-800"},{bg:"bg-purple-50",text:"text-purple-700",border:"border-purple-200",darkBg:"dark:bg-purple-950/30",darkText:"dark:text-purple-300",darkBorder:"dark:border-purple-800"},{bg:"bg-pink-50",text:"text-pink-700",border:"border-pink-200",darkBg:"dark:bg-pink-950/30",darkText:"dark:text-pink-300",darkBorder:"dark:border-pink-800"},{bg:"bg-indigo-50",text:"text-indigo-700",border:"border-indigo-200",darkBg:"dark:bg-indigo-950/30",darkText:"dark:text-indigo-300",darkBorder:"dark:border-indigo-800"},{bg:"bg-teal-50",text:"text-teal-700",border:"border-teal-200",darkBg:"dark:bg-teal-950/30",darkText:"dark:text-teal-300",darkBorder:"dark:border-teal-800"},{bg:"bg-orange-50",text:"text-orange-700",border:"border-orange-200",darkBg:"dark:bg-orange-950/30",darkText:"dark:text-orange-300",darkBorder:"dark:border-orange-800"},{bg:"bg-cyan-50",text:"text-cyan-700",border:"border-cyan-200",darkBg:"dark:bg-cyan-950/30",darkText:"dark:text-cyan-300",darkBorder:"dark:border-cyan-800"},{bg:"bg-rose-50",text:"text-rose-700",border:"border-rose-200",darkBg:"dark:bg-rose-950/30",darkText:"dark:text-rose-300",darkBorder:"dark:border-rose-800"}];function k(x){return C[x%C.length]}return je(async()=>{await f(),await h()}),(x,_)=>{const T=Ps("BaseButton");return v(),w("div",nI,[d("div",aI,[d("div",null,[d("h1",iI,[S(B(rs),{class:"w-7 h-7"}),_[2]||(_[2]=Q("   ",-1))]),_[3]||(_[3]=d("p",{class:"text-sm text-slate-600 dark:text-slate-400 mt-1"},"      ",-1))]),d("div",oI,[d("div",rI,[S(B(Jg),{class:"w-5 h-5 text-slate-600 dark:text-slate-400"}),Ce(d("select",{class:"input min-w-[150px] bg-transparent border-0 focus:ring-0","onUpdate:modelValue":_[0]||(_[0]=E=>i.value=E),onChange:p},[_[4]||(_[4]=d("option",{value:null}," ",-1)),(v(!0),w(be,null,ke(s.value,E=>(v(),w("option",{key:E,value:E},$(E==="PRIMARY"?"":E==="MIDDLE"?"":E==="HIGH"?"":E),9,lI))),128))],544),[[Ye,i.value]])]),d("div",dI,[Ce(d("select",{class:"input min-w-[150px] bg-transparent border-0 focus:ring-0","onUpdate:modelValue":_[1]||(_[1]=E=>a.value=E),onChange:h},[_[5]||(_[5]=d("option",{value:null}," ",-1)),(v(!0),w(be,null,ke(u.value,E=>(v(),w("option",{key:E,value:E},$(E),9,cI))),128))],544),[[Ye,a.value]])]),S(T,{class:"btn btn-outline",onClick:h},{default:ne(()=>[..._[6]||(_[6]=[Q(" ",-1)])]),_:1})])]),o.value?(v(),w("div",uI,[..._[7]||(_[7]=[d("div",{class:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-600"},null,-1),d("p",{class:"mt-4 text-slate-600 dark:text-slate-400"}," ...",-1)])])):c.value.length?(v(),w("div",hI,[d("div",pI,[d("table",gI,[d("thead",mI,[d("tr",null,[_[12]||(_[12]=d("th",{class:"py-3 px-4 text-center font-bold border-r-2 border-slate-300 dark:border-slate-600 text-slate-900 dark:text-slate-100 min-w-[150px]"},"  ",-1)),(v(!0),w(be,null,ke(l.value,(E,R)=>(v(),w("th",{key:E.id,class:Ee(["py-3 px-3 text-center font-bold border-r border-slate-200 dark:border-slate-600 min-w-[180px]",[k(R).bg,k(R).text,k(R).darkBg,k(R).darkText]])},[d("div",bI,[S(B(rs),{class:"w-4 h-4"}),d("span",null,$(E.name_ar),1)])],2))),128)),d("th",vI,[d("div",yI,[d("div",xI,[S(B(zt),{class:"w-4 h-4"}),_[10]||(_[10]=d("span",null,"",-1))]),_[11]||(_[11]=d("div",{class:"text-xs font-normal opacity-80"},"( / )",-1))])])])]),d("tbody",null,[(v(!0),w(be,null,ke(c.value,(E,R)=>(v(),w("tr",{key:E.class_id,class:"border-t-2 border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors"},[d("td",_I,$(y(E.class_name)),1),(v(!0),w(be,null,ke(E.subjects,(I,P)=>(v(),w("td",{key:I.subject_id,class:Ee(["py-2 px-2 border-r border-slate-200 dark:border-slate-700 align-top",[k(P).bg,k(P).darkBg]])},[I.teachers.length>0?(v(),w("div",kI,[(v(!0),w(be,null,ke(I.teachers,q=>(v(),w("div",{key:q.teacher_id,class:Ee(["flex items-center justify-between gap-2 p-2 rounded-lg border transition-all hover:shadow-md",["bg-white dark:bg-slate-900/50",k(P).border,k(P).darkBorder]])},[d("div",wI,[S(B(zt),{class:Ee(["w-4 h-4 flex-shrink-0",[k(P).text,k(P).darkText]])},null,8,["class"]),d("span",{class:Ee(["text-sm font-medium truncate",[k(P).text,k(P).darkText]])},$(q.teacher_name),3)]),d("div",{class:Ee(["flex items-center gap-1 px-2 py-1 rounded-full text-xs font-bold flex-shrink-0",[k(P).bg,k(P).text,k(P).darkBg,k(P).darkText]])},[S(B(pn),{class:"w-3 h-3"}),d("span",null,$(q.hours)+"",1)],2)],2))),128))])):(v(),w("div",CI,"   "))],2))),128)),d("td",SI,[d("div",AI,[d("div",EI,[S(B(zt),{class:"w-4 h-4 text-blue-700 dark:text-blue-300"}),d("span",$I,$(b(E).teachersCount),1)]),d("div",MI,[S(B(pn),{class:"w-4 h-4 text-orange-700 dark:text-orange-300"}),d("span",TI,$(b(E).totalHours)+"",1)])])])]))),128)),d("tr",RI,[_[13]||(_[13]=d("td",{class:"py-4 px-4 text-center bg-amber-100 dark:bg-amber-900/40 border-r-2 border-slate-400 dark:border-slate-500 text-amber-900 dark:text-amber-200 text-lg"},"  ",-1)),(v(!0),w(be,null,ke(l.value,(E,R)=>(v(),w("td",{key:"total-"+E.id,class:Ee(["py-3 px-3 border-r border-slate-300 dark:border-slate-600 text-center",[k(R).bg,k(R).darkBg]])},[d("div",DI,[d("div",{class:Ee(["flex items-center gap-2 px-3 py-1 bg-white dark:bg-slate-900/50 rounded-full border-2",[k(R).border,k(R).darkBorder]])},[S(B(zt),{class:Ee(["w-4 h-4",[k(R).text,k(R).darkText]])},null,8,["class"]),d("span",{class:Ee(["font-bold",[k(R).text,k(R).darkText]])},$(m(R).teachersCount),3)],2),d("div",{class:Ee(["flex items-center gap-2 px-3 py-1 bg-white dark:bg-slate-900/50 rounded-full border-2",[k(R).border,k(R).darkBorder]])},[S(B(pn),{class:Ee(["w-4 h-4",[k(R).text,k(R).darkText]])},null,8,["class"]),d("span",{class:Ee(["font-bold",[k(R).text,k(R).darkText]])},$(m(R).totalHours)+" ",3)],2)])],2))),128)),d("td",PI,[d("div",OI,[d("div",NI,[S(B(zt),{class:"w-5 h-5 text-white"}),d("span",II,$(g().teachersCount),1)]),d("div",LI,[S(B(pn),{class:"w-5 h-5 text-white"}),d("span",FI,$(g().totalHours)+"",1)])])])])])])]),_[14]||(_[14]=d("div",{class:"mt-6 p-4 bg-slate-50 dark:bg-slate-800/50 rounded-lg border border-slate-200 dark:border-slate-700"},[d("h3",{class:"text-sm font-bold text-slate-700 dark:text-slate-300 mb-2"},":"),d("ul",{class:"text-xs text-slate-600 dark:text-slate-400 space-y-1 list-disc list-inside"},[d("li",null,"          "),d("li",null,"            "),d("li",null,"         "),d("li",null,"       ")])],-1))])):(v(),w("div",fI,[S(B(rs),{class:"w-16 h-16 mx-auto text-slate-300 dark:text-slate-600 mb-4"}),_[8]||(_[8]=d("p",{class:"text-lg text-slate-600 dark:text-slate-400"},"    ",-1)),_[9]||(_[9]=d("p",{class:"text-sm text-slate-500 dark:text-slate-500 mt-2"},"      ",-1))]))])}}},VI={class:"p-6 space-y-6"},jI={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},UI={class:"card p-4 bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950/30 dark:to-blue-900/30 border-blue-200 dark:border-blue-800"},zI={class:"flex items-center justify-between"},HI={class:"text-3xl font-bold text-blue-900 dark:text-blue-100 mt-1"},WI={class:"card p-4 bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950/30 dark:to-green-900/30 border-green-200 dark:border-green-800"},qI={class:"flex items-center justify-between"},GI={class:"text-3xl font-bold text-green-900 dark:text-green-100 mt-1"},KI={class:"card p-4 bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-950/30 dark:to-purple-900/30 border-purple-200 dark:border-purple-800"},YI={class:"flex items-center justify-between"},JI={class:"text-3xl font-bold text-purple-900 dark:text-purple-100 mt-1"},XI={class:"card p-4"},QI={class:"flex items-center gap-2 mb-3"},ZI={class:"grid grid-cols-1 md:grid-cols-3 gap-3"},eL=["value"],tL=["disabled"],sL=["value"],nL=["value"],aL={key:0,class:"card p-12"},iL={key:1,class:"card p-8 text-center"},oL={key:2,class:"card overflow-hidden bg-white dark:bg-slate-900"},rL={class:"overflow-x-auto"},lL={class:"min-w-full text-sm table-auto border-2 border-slate-200 dark:border-slate-700 rounded-xl overflow-hidden bg-white dark:bg-slate-900 shadow-lg"},dL={class:"bg-gradient-to-r from-indigo-600 to-blue-600 text-white"},cL={class:"font-bold"},uL={class:"border border-slate-300 dark:border-slate-600 p-3 bg-slate-50 dark:bg-slate-800/50 sticky right-0 z-10"},fL={class:"font-semibold text-slate-800 dark:text-slate-200"},hL={class:"text-xs text-slate-600 dark:text-slate-400 mt-1"},pL={key:0,class:"p-3 bg-slate-100 dark:bg-slate-800 rounded-lg border-2 border-dashed border-slate-300 dark:border-slate-600"},gL={class:"font-bold text-2xl text-red-600 dark:text-red-400"},mL={key:1,class:"text-slate-400 dark:text-slate-500 py-2"},bL={key:2,class:"space-y-1"},vL={class:"font-bold text-base mb-2"},yL={class:"grid grid-cols-2 gap-2 text-xs mb-2"},xL={class:"text-left"},_L={class:"font-bold text-lg"},kL={class:"text-right"},wL={class:"font-bold text-lg"},CL={key:3,class:"text-slate-400 dark:text-slate-500 py-2"},SL={class:"border border-slate-300 dark:border-slate-600 p-3 text-center bg-slate-100 dark:bg-slate-800/70"},AL={class:"text-lg font-bold text-indigo-700 dark:text-indigo-400"},EL={class:"bg-gradient-to-r from-slate-100 to-slate-200 dark:from-slate-800 dark:to-slate-700 font-bold"},$L={class:"text-slate-800 dark:text-slate-200 font-bold"},ML={class:"border border-slate-300 dark:border-slate-600 p-3 text-center bg-indigo-100 dark:bg-indigo-900/30"},TL={class:"text-xl font-bold text-indigo-700 dark:text-indigo-400"},RL={key:3,class:"card p-4 bg-blue-50 dark:bg-blue-950/20 border-blue-200 dark:border-blue-800"},DL={__name:"TeacherAssignments",setup(t){const e=D(!1),s=D({classes:[],subjects:[],teachers:[],levels:[],matrix:[]}),n=D(""),a=D(""),i=D(""),o=he(()=>{const m=s.value.subjects.length,g=s.value.classes.length,y=s.value.matrix.reduce((C,k)=>C+Object.values(k.classes).reduce((x,_)=>!_||_.empty?x:Array.isArray(_)?x+_.length:x,0),0);return{totalSubjects:m,totalClasses:g,totalAssignments:y}});async function r(){var m,g,y;e.value=!0;try{const C=new URLSearchParams;n.value&&C.append("level",n.value),a.value&&C.append("class_id",a.value),i.value&&C.append("teacher_id",i.value);const k=`/timetable-admin/teacher-assignments${C.toString()?"?"+C.toString():""}`;console.log("Loading teacher assignments:",k);const x=await le.get(k);console.log("API response:",x.data),s.value=((m=x.data)==null?void 0:m.data)||{classes:[],subjects:[],teachers:[],levels:[],matrix:[]}}catch(C){console.error("Error loading teacher assignments:",C),oe.showAlert("error","",((y=(g=C==null?void 0:C.response)==null?void 0:g.data)==null?void 0:y.message)||C.message||"   ")}finally{e.value=!1}}qe([n,a,i],()=>{r()});function l(){n.value="",a.value="",i.value=""}const c=he(()=>n.value?s.value.classes.filter(m=>m.level===n.value):s.value.classes);function u(m){return s.value.matrix.reduce((g,y)=>{const C=y.classes[m];return!C||C.empty?g:Array.isArray(C)?g+C.reduce((k,x)=>k+(x.actual_hours||0),0):g},0)}function f(){return s.value.matrix.reduce((m,g)=>{const y=Object.values(g.classes).reduce((C,k)=>!k||k.empty?C:Array.isArray(k)?C+k.reduce((x,_)=>x+(_.actual_hours||0),0):C,0);return m+y},0)}function h(m){if(!m)return"";const g=m.required_hours||0,y=m.actual_hours||0;return g===0?"bg-orange-50 dark:bg-orange-900/20 border-orange-300 dark:border-orange-700 text-orange-900 dark:text-orange-300":y===g?"bg-green-50 dark:bg-green-900/20 border-green-300 dark:border-green-700 text-green-900 dark:text-green-300":y<g?"bg-red-50 dark:bg-red-900/20 border-red-300 dark:border-red-700 text-red-900 dark:text-red-300":"bg-blue-50 dark:bg-blue-900/20 border-blue-300 dark:border-blue-700 text-blue-900 dark:text-blue-300"}function p(m){if(!m)return"";const g=m.required_hours||0,y=m.actual_hours||0;return g===0?"    ":y===g?" ":y<g?`  ${g-y} `:y>g?`  ${y-g} `:""}function b(m){if(!m)return"";const g=m.required_hours||0,y=m.actual_hours||0;return g===0?"text-orange-700 dark:text-orange-400":y===g?"text-green-700 dark:text-green-400":y<g?"text-red-700 dark:text-red-400":"text-blue-700 dark:text-blue-400"}return je(()=>{r()}),(m,g)=>(v(),w("div",VI,[S(cs,{title:"  ",icon:B(ar),"show-breadcrumbs":!0},{subtitle:ne(()=>[...g[3]||(g[3]=[Q("           ",-1)])]),actions:ne(()=>[S(me,{onClick:l,variant:"outline",size:"md"},{default:ne(()=>[...g[4]||(g[4]=[Q("   ",-1)])]),_:1}),S(me,{onClick:r,variant:"secondary",size:"md"},{default:ne(()=>[S(B(ds),{class:"w-4 h-4 ml-1"}),g[5]||(g[5]=Q("  ",-1))]),_:1})]),_:1},8,["icon"]),d("div",jI,[d("div",UI,[d("div",zI,[d("div",null,[g[6]||(g[6]=d("p",{class:"text-sm text-blue-700 dark:text-blue-300 font-medium"}," ",-1)),d("p",HI,$(o.value.totalSubjects),1)]),S(B(rs),{class:"w-12 h-12 text-blue-600 dark:text-blue-400 opacity-50"})])]),d("div",WI,[d("div",qI,[d("div",null,[g[7]||(g[7]=d("p",{class:"text-sm text-green-700 dark:text-green-300 font-medium"}," ",-1)),d("p",GI,$(o.value.totalClasses),1)]),S(B(zt),{class:"w-12 h-12 text-green-600 dark:text-green-400 opacity-50"})])]),d("div",KI,[d("div",YI,[d("div",null,[g[8]||(g[8]=d("p",{class:"text-sm text-purple-700 dark:text-purple-300 font-medium"}," ",-1)),d("p",JI,$(o.value.totalAssignments),1)]),S(B(rs),{class:"w-12 h-12 text-purple-600 dark:text-purple-400 opacity-50"})])])]),d("div",XI,[d("div",QI,[S(B(Jg),{class:"w-5 h-5 text-indigo-600 dark:text-indigo-400"}),g[9]||(g[9]=d("h3",{class:"font-bold text-slate-900 dark:text-slate-100"}," ",-1))]),d("div",ZI,[d("div",null,[g[11]||(g[11]=d("label",{class:"text-sm text-slate-600 dark:text-slate-400"},"",-1)),Ce(d("select",{"onUpdate:modelValue":g[0]||(g[0]=y=>n.value=y),class:"input w-full mt-1"},[g[10]||(g[10]=d("option",{value:""}," ",-1)),(v(!0),w(be,null,ke(s.value.levels,y=>(v(),w("option",{key:y,value:y},$(y),9,eL))),128))],512),[[Ye,n.value]])]),d("div",null,[g[13]||(g[13]=d("label",{class:"text-sm text-slate-600 dark:text-slate-400"},"",-1)),Ce(d("select",{"onUpdate:modelValue":g[1]||(g[1]=y=>a.value=y),class:"input w-full mt-1",disabled:!c.value.length},[g[12]||(g[12]=d("option",{value:""}," ",-1)),(v(!0),w(be,null,ke(c.value,y=>(v(),w("option",{key:y.id,value:y.id},$(y.level)+" - "+$(y.classe),9,sL))),128))],8,tL),[[Ye,a.value]])]),d("div",null,[g[15]||(g[15]=d("label",{class:"text-sm text-slate-600 dark:text-slate-400"},"",-1)),Ce(d("select",{"onUpdate:modelValue":g[2]||(g[2]=y=>i.value=y),class:"input w-full mt-1"},[g[14]||(g[14]=d("option",{value:""}," ",-1)),(v(!0),w(be,null,ke(s.value.teachers,y=>(v(),w("option",{key:y.id,value:y.id},$(y.full_name),9,nL))),128))],512),[[Ye,i.value]])])])]),e.value?(v(),w("div",aL,[...g[16]||(g[16]=[d("div",{class:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600 mx-auto"},null,-1),d("p",{class:"text-center text-slate-600 dark:text-slate-400 mt-4"},"  ...",-1)])])):s.value.matrix.length?(v(),w("div",oL,[d("div",rL,[d("table",lL,[d("thead",dL,[d("tr",null,[g[19]||(g[19]=d("th",{class:"border border-slate-300 dark:border-slate-600 p-3 text-right sticky right-0 bg-indigo-600 z-10 min-w-[200px]"},[d("div",{class:"font-bold"},"")],-1)),(v(!0),w(be,null,ke(s.value.classes,y=>(v(),w("th",{key:y.id,class:"border border-slate-300 dark:border-slate-600 p-3 text-center min-w-[150px]"},[d("div",cL,$(y.classe),1)]))),128)),g[20]||(g[20]=d("th",{class:"border border-slate-300 dark:border-slate-600 p-3 text-center bg-indigo-700 min-w-[120px]"},[d("div",{class:"font-bold"}," ")],-1))])]),d("tbody",null,[(v(!0),w(be,null,ke(s.value.matrix,y=>(v(),w("tr",{key:y.subject_id,class:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors"},[d("td",uL,[d("div",fL,$(y.subject_name),1),d("div",hL,$(y.subject_code||"-"),1)]),(v(!0),w(be,null,ke(s.value.classes,C=>{var k,x;return v(),w("td",{key:C.id,class:"border border-slate-300 dark:border-slate-600 p-2 text-center align-top"},[(k=y.classes[C.id])!=null&&k.empty&&y.classes[C.id].required_hours>0?(v(),w("div",pL,[g[21]||(g[21]=d("div",{class:"text-slate-600 dark:text-slate-400 text-xs mb-1"}," ",-1)),d("div",gL,$(y.classes[C.id].required_hours)+" ",1),g[22]||(g[22]=d("div",{class:"text-xs text-slate-500 dark:text-slate-500 mt-1"}," ",-1))])):(x=y.classes[C.id])!=null&&x.empty&&y.classes[C.id].required_hours===0?(v(),w("div",mL,"")):Array.isArray(y.classes[C.id])&&y.classes[C.id].length>0?(v(),w("div",bL,[(v(!0),w(be,null,ke(y.classes[C.id],(_,T)=>(v(),w("div",{key:T,class:Ee(["p-3 border rounded-lg text-xs",h(_)])},[d("div",vL,$(_.teacher_name),1),d("div",yL,[d("div",xL,[g[23]||(g[23]=d("div",{class:"text-slate-600 dark:text-slate-400"},":",-1)),d("div",_L,$(_.required_hours)+"",1)]),d("div",kL,[g[24]||(g[24]=d("div",{class:"text-slate-600 dark:text-slate-400"},":",-1)),d("div",wL,$(_.actual_hours)+"",1)])]),d("div",{class:Ee(["text-xs font-bold pt-2 border-t",b(_)])},$(p(_)),3)],2))),128))])):(v(),w("div",CL,""))])}),128)),d("td",SL,[d("div",AL,$(y.total_hours)+" ",1)])]))),128))]),d("tfoot",null,[d("tr",EL,[g[25]||(g[25]=d("td",{class:"border border-slate-300 dark:border-slate-600 p-3 text-right sticky right-0 z-10 bg-slate-200 dark:bg-slate-700"},"   ",-1)),(v(!0),w(be,null,ke(s.value.classes,y=>(v(),w("td",{key:y.id,class:"border border-slate-300 dark:border-slate-600 p-3 text-center"},[d("div",$L,$(u(y.id))+" ",1)]))),128)),d("td",ML,[d("div",TL,$(f())+" ",1)])])])])])])):(v(),w("div",iL,[S(B(rs),{class:"w-16 h-16 mx-auto text-slate-300 dark:text-slate-600 mb-4"}),g[17]||(g[17]=d("p",{class:"text-lg text-slate-600 dark:text-slate-400"},"   ",-1)),g[18]||(g[18]=d("p",{class:"text-sm text-slate-500 dark:text-slate-500 mt-2"},"    ",-1))])),!e.value&&s.value.matrix.length>0?(v(),w("div",RL,[...g[26]||(g[26]=[d("h3",{class:"text-sm font-bold text-blue-900 dark:text-blue-300 mb-2"},":",-1),d("ul",{class:"text-xs text-blue-800 dark:text-blue-400 space-y-1 list-disc list-inside"},[d("li",null,"      ( )   (   )"),d("li",null,"         "),d("li",null,"        "),d("li",null,"         "),d("li",null,"        ")],-1)])])):de("",!0)]))}},PL={class:"p-6 space-y-6"},OL={class:"card p-6 space-y-4 shadow-xl border-2 border-slate-100 dark:border-slate-700 rounded-2xl bg-white dark:bg-slate-900"},NL={class:"text-lg font-semibold text-slate-900 dark:text-slate-100 flex items-center gap-2"},IL={class:"flex items-center justify-between gap-4"},LL={class:"flex items-center gap-3"},FL={class:"font-semibold text-slate-900 dark:text-slate-100"},BL={class:"cursor-pointer"},VL={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},jL={class:"flex justify-end"},UL={class:"card p-6 space-y-4 shadow-xl border-2 border-slate-100 dark:border-slate-700 rounded-2xl bg-white dark:bg-slate-900"},zL={class:"text-lg font-semibold text-slate-900 dark:text-slate-100 flex items-center gap-2"},HL={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},WL={class:"flex justify-end"},qL={__name:"Profile",setup(t){const e=he(()=>ht.state.user),s=D(!1),n=D(!1),a=D({full_name:"",email:"",avatar_url:""}),i=D({current_password:"",new_password:"",confirm_password:""});qe(e,u=>{a.value.full_name=(u==null?void 0:u.full_name)||"",a.value.email=(u==null?void 0:u.email)||"",a.value.avatar_url=(u==null?void 0:u.avatar_url)||""},{immediate:!0});function o(u){return u?/^https?:\/\//i.test(u)?u:`http://localhost:3000${u}`:""}async function r(u){var h,p,b;const f=(h=u.target.files)==null?void 0:h[0];if(f)try{const m=new FormData;m.append("file",f);const g=await le.post("/media/upload",m);a.value.avatar_url=g.data.url}catch(m){oe.showAlert("error","",((b=(p=m==null?void 0:m.response)==null?void 0:p.data)==null?void 0:b.message)||m.message||"  ")}finally{u.target.value=""}}async function l(){var u,f;if(!a.value.full_name||!a.value.email){oe.showAlert("warning","","  ");return}s.value=!0;try{await ht.updateMe({...a.value}),oe.showAlert("success","","   ")}catch(h){oe.showAlert("error","",((f=(u=h==null?void 0:h.response)==null?void 0:u.data)==null?void 0:f.message)||h.message||"  ")}finally{s.value=!1}}async function c(){var u,f;if(!i.value.current_password||!i.value.new_password){oe.showAlert("warning","","    ");return}if(i.value.new_password.length<6){oe.showAlert("warning","","     6   ");return}if(i.value.new_password!==i.value.confirm_password){oe.showAlert("warning","","    ");return}n.value=!0;try{await ht.changeMyPassword({current_password:i.value.current_password,new_password:i.value.new_password}),i.value.current_password="",i.value.new_password="",i.value.confirm_password="",oe.showAlert("success","","   ")}catch(h){oe.showAlert("error","",((f=(u=h==null?void 0:h.response)==null?void 0:u.data)==null?void 0:f.message)||h.message||"   ")}finally{n.value=!1}}return(u,f)=>{var h;return v(),w("div",PL,[S(cs,{title:" ",subtitle:"  ",icon:B(Sa)},null,8,["icon"]),d("div",OL,[d("div",NL,[S(B(Sa),{class:"w-5 h-5"}),f[5]||(f[5]=Q("  ",-1))]),d("div",IL,[d("div",LL,[S(nr,{name:a.value.full_name,src:o(a.value.avatar_url),size:56},null,8,["name","src"]),d("div",null,[d("div",FL,$(a.value.full_name||""),1),f[6]||(f[6]=d("div",{class:"text-xs text-slate-500 dark:text-slate-400"}," ",-1))])]),d("label",BL,[d("input",{type:"file",accept:"image/*",class:"hidden",onChange:r},null,32),S(me,{variant:"secondary",size:"sm",as:"span"},{default:ne(()=>[S(B(Kg),{class:"w-4 h-4"}),f[7]||(f[7]=Q("   ",-1))]),_:1})])]),d("div",VL,[S(ze,{modelValue:a.value.full_name,"onUpdate:modelValue":f[0]||(f[0]=p=>a.value.full_name=p),label:"",placeholder:" "},null,8,["modelValue"]),S(ze,{modelValue:a.value.email,"onUpdate:modelValue":f[1]||(f[1]=p=>a.value.email=p),type:"email",label:"",placeholder:"email@example.com"},null,8,["modelValue"]),S(ze,{"model-value":((h=e.value)==null?void 0:h.role)||"",label:"",disabled:""},null,8,["model-value"])]),d("div",jL,[S(me,{variant:"primary",onClick:l,disabled:s.value,loading:s.value},{default:ne(()=>[S(B(is),{class:"w-4 h-4"}),Q(" "+$(s.value?" ...":""),1)]),_:1},8,["disabled","loading"])])]),d("div",UL,[d("div",zL,[S(B(Zg),{class:"w-5 h-5"}),f[8]||(f[8]=Q("   ",-1))]),d("div",HL,[S(ze,{modelValue:i.value.current_password,"onUpdate:modelValue":f[2]||(f[2]=p=>i.value.current_password=p),type:"password",label:"  ",placeholder:""},null,8,["modelValue"]),S(ze,{modelValue:i.value.new_password,"onUpdate:modelValue":f[3]||(f[3]=p=>i.value.new_password=p),type:"password",label:"  ",placeholder:""},null,8,["modelValue"]),S(ze,{modelValue:i.value.confirm_password,"onUpdate:modelValue":f[4]||(f[4]=p=>i.value.confirm_password=p),type:"password",label:"  ",placeholder:""},null,8,["modelValue"])]),d("div",WL,[S(me,{variant:"primary",onClick:c,disabled:n.value,loading:n.value},{default:ne(()=>[S(B(Xg),{class:"w-4 h-4"}),Q(" "+$(n.value?" ...":"  "),1)]),_:1},8,["disabled","loading"])])])])}}},GL={class:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 dark:from-slate-950 dark:to-blue-950 flex items-center justify-center p-4"},KL={class:"w-full max-w-md card p-8 shadow-2xl border-2 border-slate-100 dark:border-slate-800 rounded-3xl bg-white dark:bg-slate-900"},YL={class:"flex flex-col items-center gap-3 mb-6"},JL=["src"],XL={class:"text-2xl font-bold text-slate-900 dark:text-slate-100"},QL={key:0,class:"mb-4 rounded-xl border-2 border-red-200 dark:border-red-800 bg-red-50 dark:bg-red-950 p-4 text-red-700 dark:text-red-300"},ZL={class:"space-y-4"},e7={__name:"Login",setup(t){const e=ra(),s=la(),n=D(""),a=D(""),i=D(!1),o=D("");je(()=>{yt.state.loaded||yt.loadPublic()});async function r(){var l,c;i.value=!0,o.value="";try{await ht.login(n.value,a.value),e.push(s.query.next||"/whatsapp")}catch(u){o.value=((c=(l=u==null?void 0:u.response)==null?void 0:l.data)==null?void 0:c.message)||u.message||"   "}finally{i.value=!1}}return(l,c)=>(v(),w("div",GL,[d("div",KL,[d("div",YL,[B(yt).state.site_logo_url?(v(),w("img",{key:0,src:`http://localhost:3000${B(yt).state.site_logo_url}`,class:"h-20 w-20 rounded-2xl object-cover border-2 border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 shadow-lg",alt:"logo"},null,8,JL)):de("",!0),d("div",XL,$(B(yt).state.site_name),1)]),c[4]||(c[4]=d("div",{class:"text-xl font-semibold mb-1 text-slate-900 dark:text-slate-100"}," ",-1)),c[5]||(c[5]=d("div",{class:"text-sm text-slate-600 dark:text-slate-400 mb-6"},"     ",-1)),o.value?(v(),w("div",QL,$(o.value),1)):de("",!0),d("div",ZL,[d("div",null,[c[2]||(c[2]=d("label",{class:"text-sm text-slate-700 dark:text-slate-300 font-medium"},"",-1)),Ce(d("input",{"onUpdate:modelValue":c[0]||(c[0]=u=>n.value=u),class:"input mt-1 bg-white dark:bg-slate-800",placeholder:"email@...",autocomplete:"username"},null,512),[[Ue,n.value]])]),d("div",null,[c[3]||(c[3]=d("label",{class:"text-sm text-slate-700 dark:text-slate-300 font-medium"}," ",-1)),Ce(d("input",{type:"password","onUpdate:modelValue":c[1]||(c[1]=u=>a.value=u),class:"input mt-1 bg-white dark:bg-slate-800",placeholder:"",autocomplete:"current-password",onKeydown:e1(r,["enter"])},null,544),[[Ue,a.value]])]),S(me,{class:"w-full shadow-lg text-lg py-3",disabled:i.value,loading:i.value,onClick:r,variant:"primary"},{default:ne(()=>[S(B(k_),{class:"w-4 h-4 inline-block ml-1"}),Q(" "+$(i.value?" ...":""),1)]),_:1},8,["disabled","loading"])])])]))}},t7={class:"min-h-screen bg-slate-50 dark:bg-slate-950 flex items-center justify-center p-4"},s7={class:"card w-full max-w-md p-6 text-center"},n7={__name:"Forbidden",setup(t){return(e,s)=>{const n=Ps("router-link");return v(),w("div",t7,[d("div",s7,[s[1]||(s[1]=d("div",{class:"text-2xl font-bold text-red-700"},"403",-1)),s[2]||(s[2]=d("div",{class:"mt-2 font-semibold"},"     ",-1)),s[3]||(s[3]=d("div",{class:"mt-2 text-sm text-slate-600 dark:text-slate-400"},"     .",-1)),S(n,{to:e.$route.query.next||"/"},{default:ne(()=>[S(me,{variant:"primary",class:"mt-4 inline-flex"},{default:ne(()=>[S(B(p_),{class:"w-4 h-4 inline-block"}),s[0]||(s[0]=Q("  ",-1))]),_:1})]),_:1},8,["to"])])])}}},a7={class:"p-6 space-y-6"},i7={class:"card p-4"},o7={class:"grid grid-cols-1 md:grid-cols-4 gap-3"},r7={class:"flex items-end"},l7={key:0,class:"alert alert-danger"},d7={key:1,class:"card p-12"},c7={key:2,class:"card overflow-hidden bg-white dark:bg-slate-900"},u7={key:0,class:"min-w-full text-sm table-auto border-2 border-slate-200 dark:border-slate-700 rounded-xl overflow-hidden bg-white dark:bg-slate-900 shadow-lg"},f7={class:"p-4 border-r border-slate-200 dark:border-slate-700 font-semibold text-slate-900 dark:text-slate-100"},h7={class:"p-4 border-r border-slate-200 dark:border-slate-700 text-slate-900 dark:text-slate-100"},p7={class:"p-4 border-r border-slate-200 dark:border-slate-700 text-slate-900 dark:text-slate-100"},g7={class:"p-4 border-r border-slate-200 dark:border-slate-700 text-slate-900 dark:text-slate-100"},m7={class:"p-4 border-r border-slate-200 dark:border-slate-700 text-slate-900 dark:text-slate-100"},b7={class:"p-4 border-r border-slate-200 dark:border-slate-700"},v7={class:"p-4"},y7={__name:"Absences",setup(t){const e=Jr(),s=D([]),n=D(!1),a=D(""),i=D({date:"",section:"",period_number:""});async function o(){var c,u;n.value=!0,a.value="";try{const f=new URLSearchParams;i.value.date&&f.append("date",i.value.date),i.value.section&&f.append("section",i.value.section),i.value.period_number&&f.append("period_number",i.value.period_number);const h=await le.get(`/absences?${f}`);s.value=h.data.data||[]}catch(f){a.value=((u=(c=f==null?void 0:f.response)==null?void 0:c.data)==null?void 0:u.message)||f.message||""}finally{n.value=!1}}function r(c){return c?new Date(c).toLocaleDateString("ar-MA"):""}async function l(c,u){var h,p;if(await e.confirmDelete(` ${u}`))try{await le.delete(`/absences/${c}`),oe.success("  "),o()}catch(b){oe.error(((p=(h=b==null?void 0:b.response)==null?void 0:h.data)==null?void 0:p.message)||" ")}}return je(o),(c,u)=>(v(),w("div",a7,[S(cs,{title:"",icon:B(ar),"show-breadcrumbs":!0},{subtitle:ne(()=>[...u[5]||(u[5]=[Q("    ",-1)])]),actions:ne(()=>[S(me,{variant:"primary",size:"md",onClick:u[0]||(u[0]=f=>c.$router.push("/absences/daily"))},{default:ne(()=>[S(B($n),{class:"w-4 h-4 ml-1 sm:inline-flex"}),u[6]||(u[6]=Q("    ",-1))]),_:1})]),_:1},8,["icon"]),d("div",i7,[d("div",o7,[S(ze,{modelValue:i.value.date,"onUpdate:modelValue":u[1]||(u[1]=f=>i.value.date=f),type:"date",label:""},null,8,["modelValue"]),S(ze,{modelValue:i.value.section,"onUpdate:modelValue":u[2]||(u[2]=f=>i.value.section=f),placeholder:"",label:""},null,8,["modelValue"]),S(ze,{modelValue:i.value.period_number,"onUpdate:modelValue":u[3]||(u[3]=f=>i.value.period_number=f),type:"number",placeholder:" ",label:" "},null,8,["modelValue"]),d("div",r7,[S(me,{variant:"primary",size:"md",class:"w-full",onClick:o},{default:ne(()=>[S(B(e0),{class:"w-4 h-4 ml-1"}),u[7]||(u[7]=Q("  ",-1))]),_:1})])])]),a.value?(v(),w("div",l7,[u[8]||(u[8]=d("div",{class:"font-semibold"}," ",-1)),d("div",null,$(a.value),1)])):de("",!0),n.value?(v(),w("div",d7,[S(Os,{size:"lg",class:"mx-auto"}),u[9]||(u[9]=d("p",{class:"text-center text-slate-600 dark:text-slate-400 mt-4"},"  ...",-1))])):(v(),w("div",c7,[s.value.length>0?(v(),w("table",u7,[u[11]||(u[11]=d("thead",{class:"bg-gradient-to-r from-slate-100 to-slate-50 dark:from-slate-800 dark:to-slate-700 text-slate-900 dark:text-slate-100"},[d("tr",null,[d("th",{class:"p-4 border-r border-slate-200 dark:border-slate-600 font-bold"},""),d("th",{class:"p-4 border-r border-slate-200 dark:border-slate-600 font-bold"}," "),d("th",{class:"p-4 border-r border-slate-200 dark:border-slate-600 font-bold"},""),d("th",{class:"p-4 border-r border-slate-200 dark:border-slate-600 font-bold"},""),d("th",{class:"p-4 border-r border-slate-200 dark:border-slate-600 font-bold"},""),d("th",{class:"p-4 border-r border-slate-200 dark:border-slate-600 font-bold"}," "),d("th",{class:"p-4 font-bold"},"")])],-1)),d("tbody",null,[(v(!0),w(be,null,ke(s.value,f=>(v(),w("tr",{key:f.id,class:"border-t-2 border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors"},[d("td",f7,$(f.student_name),1),d("td",h7,$(f.massar_code),1),d("td",p7,$(r(f.absence_date)),1),d("td",g7,$(f.section),1),d("td",m7,$(f.period_number),1),d("td",b7,[d("span",{class:Ee(f.absence_type==="JUSTIFIED"?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400")},$(f.absence_type==="JUSTIFIED"?" ":"  "),3)]),d("td",v7,[S(me,{variant:"danger",size:"sm",onClick:h=>l(f.id,f.student_name)},{default:ne(()=>[S(B(mn),{class:"w-3.5 h-3.5 ml-1"}),u[10]||(u[10]=Q("  ",-1))]),_:1},8,["onClick"])])]))),128))])])):(v(),$e(fa,{key:1,icon:"ClipboardList",title:"  ",message:"      "}))])),S(Xr,{modelValue:B(e).isOpen,"onUpdate:modelValue":u[4]||(u[4]=f=>B(e).isOpen=f),title:B(e).title,message:B(e).message,variant:B(e).variant,"confirm-text":B(e).confirmText,"cancel-text":B(e).cancelText,loading:B(e).loading,onConfirm:B(e).handleConfirm,onCancel:B(e).handleCancel},null,8,["modelValue","title","message","variant","confirm-text","cancel-text","loading","onConfirm","onCancel"])]))}},x7={class:"p-6 space-y-4"},_7={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/40"},k7={class:"rounded-xl bg-white p-6 shadow-lg space-y-4 w-full max-w-sm"},w7={class:"card p-6 max-w-md space-y-4"},C7={id:"students-list"},S7=["value"],A7={key:0,class:"text-xs text-gray-500 mt-1"},E7=["disabled"],$7={key:0,class:"text-xs text-rose-600 mt-1"},M7={__name:"AbsenceAdd",setup(t){const e=ra(),s=D({student_id:"",absence_date:"",section:"",period_number:""}),n=D([]),a=D(!1),i=D([]),o=D(null),r=D(!1),l=he(()=>{var m;return((m=o.value)==null?void 0:m.label_ar)||""}),c=he(()=>!!(o.value&&(o.value.is_active??o.value.Is_active??!0)));async function u(){var m;try{const g=await le.get("/settings/timetable/days");i.value=Array.isArray((m=g.data)==null?void 0:m.data)?g.data.data:[],s.value.absence_date&&f(s.value.absence_date)}catch(g){console.error("Failed to load timetable days",g)}}function f(m){if(o.value=null,r.value=!1,!m)return;const g=new Date(m);if(Number.isNaN(g.getTime()))return;const y=g.getDay();if(y===0){r.value=!0;return}const C=y,k=i.value.find(x=>Number(x.order||x.Order)===C);o.value=k||null,k&&!(k.is_active??k.Is_active??!0)&&(r.value=!0,s.value.section="")}qe(()=>s.value.absence_date,m=>{f(m)});async function h(m){if(!(!m||m.length<2)){a.value=!0;try{const g=await le.get(`/students?q=${encodeURIComponent(m)}`);n.value=g.data.data||[]}catch(g){console.error(g)}finally{a.value=!1}}}function p(){r.value=!1}async function b(){var m,g;try{await le.post("/absences",s.value),oe.success("  "),e.push("/absences")}catch(y){oe.error(((g=(m=y==null?void 0:y.response)==null?void 0:m.data)==null?void 0:g.message)||"   ")}}return je(()=>{u()}),(m,g)=>(v(),w("div",x7,[g[13]||(g[13]=d("h1",{class:"text-xl font-bold"}," ",-1)),r.value?(v(),w("div",_7,[d("div",k7,[g[6]||(g[6]=d("p",{class:"text-lg font-semibold"},"   ",-1)),g[7]||(g[7]=d("p",{class:"text-sm text-gray-600"},"      .",-1)),S(me,{onClick:p,variant:"primary",class:"w-full"},{default:ne(()=>[S(B(Ot),{class:"w-4 h-4 inline-block"}),g[5]||(g[5]=Q("  ",-1))]),_:1})])])):de("",!0),d("div",w7,[d("form",{onSubmit:gs(b,["prevent"]),class:"space-y-4"},[d("div",null,[g[8]||(g[8]=d("label",{class:"label"},"",-1)),Ce(d("input",{"onUpdate:modelValue":g[0]||(g[0]=y=>s.value.student_id=y),list:"students-list",onInput:g[1]||(g[1]=y=>h(y.target.value)),class:"input",placeholder:"  ...",required:""},null,544),[[Ue,s.value.student_id]]),d("datalist",C7,[(v(!0),w(be,null,ke(n.value,y=>(v(),w("option",{key:y.id,value:y.id},$(y.full_name)+" ("+$(y.massar_code)+")",9,S7))),128))])]),d("div",null,[g[9]||(g[9]=d("label",{class:"label"}," ",-1)),Ce(d("input",{"onUpdate:modelValue":g[2]||(g[2]=y=>s.value.absence_date=y),type:"date",class:"input",required:""},null,512),[[Ue,s.value.absence_date]]),l.value?(v(),w("p",A7,": "+$(l.value),1)):de("",!0)]),d("div",null,[g[10]||(g[10]=d("label",{class:"label"},"",-1)),Ce(d("input",{"onUpdate:modelValue":g[3]||(g[3]=y=>s.value.section=y),class:"input",disabled:!c.value,required:""},null,8,E7),[[Ue,s.value.section]]),c.value?de("",!0):(v(),w("p",$7,"        ."))]),d("div",null,[g[11]||(g[11]=d("label",{class:"label"}," ",-1)),Ce(d("input",{"onUpdate:modelValue":g[4]||(g[4]=y=>s.value.period_number=y),type:"number",min:"1",max:"8",class:"input",required:""},null,512),[[Ue,s.value.period_number,void 0,{number:!0}]])]),S(me,{type:"submit",variant:"primary",class:"w-full",disabled:!c.value},{default:ne(()=>[S(B(is),{class:"w-4 h-4 inline-block"}),g[12]||(g[12]=Q("   ",-1))]),_:1},8,["disabled"])],32)])]))}},T7={class:"p-6 space-y-6"},R7={key:0,class:"rounded-xl border border-red-200 bg-red-50 p-3 text-red-700 dark:border-red-900/60 dark:bg-red-950/40 dark:text-red-200"},D7={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},P7={class:"card p-4"},O7={class:"text-2xl font-bold text-brand-600"},N7={class:"text-xs text-gray-500 mt-1"},I7={class:"card p-4"},L7={class:"text-2xl font-bold text-green-600"},F7={class:"card p-4"},B7={class:"text-2xl font-bold text-orange-600"},V7={class:"text-xs text-gray-500 mt-1"},j7={class:"card p-4"},U7={class:"text-2xl font-bold text-red-600"},z7={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},H7={class:"card p-4"},W7={class:"flex items-center justify-between mb-3"},q7={class:"text-sm font-semibold text-orange-600"},G7={class:"card p-4 lg:col-span-2"},K7={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},Y7={class:"card p-4"},J7={class:"card p-4"},X7={class:"card p-4"},Q7={class:"card p-4"},Z7={key:0,class:"space-y-2"},eF={class:"font-semibold"},tF={key:1,class:"text-gray-500"},sF={class:"bg-white rounded-lg w-full max-w-6xl h-[85vh] flex flex-col"},nF={class:"p-6 border-b flex items-center justify-between"},aF={class:"flex-1 min-h-0 grid grid-cols-1 lg:grid-cols-2 gap-6 p-6 overflow-auto"},iF={class:"space-y-4"},oF={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},rF={key:0,class:"rounded border border-red-200 bg-red-50 p-2 text-sm text-red-700"},lF={class:"space-y-2"},dF={class:"flex items-center justify-between text-sm"},cF={class:"text-gray-600"},uF={class:"flex gap-2"},fF={key:0,class:"text-sm text-gray-500"},hF={key:1,class:"text-sm text-gray-500"},pF={key:2,class:"h-[48vh] overflow-auto border rounded p-2 space-y-1"},gF=["checked","onChange"],mF={class:"flex-1"},bF={class:"text-xs text-gray-500"},vF={key:0,class:"text-sm text-gray-500"},yF={class:"space-y-4"},xF={class:"flex flex-wrap gap-4 text-sm"},_F={class:"inline-flex items-center gap-2"},kF={class:"inline-flex items-center gap-2"},wF={class:"inline-flex items-center gap-2"},CF={class:"p-6 border-t flex gap-2"},SF={__name:"AbsenceDashboard",setup(t){const e=D({today:null,byDay:[],bySection:[],byMonth:[],mostAbsent:[],bySubject:[]}),s=D(!1),n=D(""),a=D(!1),i=D({date:new Date().toISOString().slice(0,10),section:"",template_id:"",message:"",targets:["FATHER","MOTHER"]}),o=D([]),r=D([]),l=D([]),c=D(!1),u=D(""),f=D(""),h=D(new Set);async function p(){var K,M;s.value=!0,n.value="";try{const H=await le.get("/absences/stats");e.value=H.data}catch(H){n.value=((M=(K=H==null?void 0:H.response)==null?void 0:K.data)==null?void 0:M.message)||H.message||""}finally{s.value=!1}}async function b(){var K;try{const M=await le.get("/settings/timetable/classes/active");o.value=(((K=M.data)==null?void 0:K.data)||[]).map(H=>H.classe).filter(Boolean)}catch{o.value=[]}}async function m(){try{const K=await le.get("/templates"),M=Array.isArray(K.data)?K.data:[];r.value=M.filter(H=>H&&H.is_active)}catch{r.value=[]}}async function g(){var K,M,H;if(u.value="",l.value=[],h.value=new Set,!(!i.value.date||!i.value.section)){c.value=!0;try{const se=await le.get("/absences/absent-on-date",{params:{date:i.value.date,section:i.value.section,status:"ACTIVE",absence_type:"UNJUSTIFIED",distinct_students:1}});l.value=((K=se.data)==null?void 0:K.data)||[]}catch(se){u.value=((H=(M=se==null?void 0:se.response)==null?void 0:M.data)==null?void 0:H.message)||se.message||"   "}finally{c.value=!1}}}function y(K){return K?new Date(K).toLocaleDateString("ar-MA"):""}function C(K){const M=Number(K);return Number.isFinite(M)?`${M}%`:"0%"}const k=he(()=>{var se,xe,ge,G;const K=Number(((xe=(se=e.value)==null?void 0:se.today)==null?void 0:xe.total_students)||0),M=Number(((G=(ge=e.value)==null?void 0:ge.today)==null?void 0:G.absent_students)||0),H=Math.max(0,K-M);return{labels:["",""],data:[M,H]}}),x=he(()=>{var H;const M=(Array.isArray((H=e.value)==null?void 0:H.byDay)?e.value.byDay:[]).slice(-7);return{labels:M.map(se=>y(se.date)),datasets:[{label:"",data:M.map(se=>Number(se.count||0)),backgroundColor:"rgb(var(--chart-1))",borderRadius:8}]}}),_=he(()=>{var H;const M=(Array.isArray((H=e.value)==null?void 0:H.byMonth)?e.value.byMonth:[]).slice(-6);return{labels:M.map(se=>se.month),datasets:[{label:"",data:M.map(se=>Number(se.count||0)),backgroundColor:"rgb(var(--chart-3))",borderRadius:8}]}}),T=he(()=>{var z;const M=[...Array.isArray((z=e.value)==null?void 0:z.bySection)?e.value.bySection:[]].sort((ae,te)=>Number(te.count||0)-Number(ae.count||0)),H=M.slice(0,6),xe=M.slice(6).reduce((ae,te)=>ae+Number(te.count||0),0),ge=H.map(ae=>ae.section||""),G=H.map(ae=>Number(ae.count||0));return xe>0&&(ge.push(" "),G.push(xe)),{labels:ge,data:G}}),E=he(()=>{var se;const H=[...Array.isArray((se=e.value)==null?void 0:se.bySubject)?e.value.bySubject:[]].sort((xe,ge)=>Number(ge.absence_count||0)-Number(xe.absence_count||0)).slice(0,8);return{labels:H.map(xe=>xe.subject_name||xe.subject_code||""),datasets:[{label:" ",data:H.map(xe=>Number(xe.absence_count||0)),backgroundColor:"rgb(var(--chart-2))",borderRadius:8}]}}),R=he(()=>{const K=(f.value||"").trim().toLowerCase();return K?l.value.filter(M=>{const H=String(M.full_name||"").toLowerCase(),se=String(M.massar_code||"").toLowerCase();return H.includes(K)||se.includes(K)}):l.value});function I(K){return h.value.has(K)}function P(K){const M=new Set(h.value);M.has(K)?M.delete(K):M.add(K),h.value=M}function q(){const K=new Set(h.value);for(const M of R.value)K.add(Number(M.id));h.value=K}function J(){h.value=new Set}function U(){const K=Number(i.value.template_id),M=r.value.find(H=>Number(H.id)===K);M!=null&&M.body&&(i.value.message=M.body)}async function V(){var K,M,H;try{const se=Array.from(h.value);if(!se.length)return oe.warning("","  ");if(!i.value.message)return oe.warning(""," / ");const ge=(K=(await le.post("/campaigns",{audience:"STUDENTS",mode:"ABSENCE",message_body:i.value.message,absence_date:i.value.date,ids:se,student_targets:i.value.targets,filter_json:{section:i.value.section,status:"ACTIVE",absence_type:"UNJUSTIFIED"}})).data)==null?void 0:K.campaignId;ge?(await le.post(`/campaigns/${ge}/send`),oe.success("  ")):oe.success("  "),a.value=!1}catch(se){oe.error(((H=(M=se==null?void 0:se.response)==null?void 0:M.data)==null?void 0:H.message)||"  ")}}async function ee(){a.value=!0,i.value.date=new Date().toISOString().slice(0,10),i.value.section="",i.value.template_id="",i.value.message="",i.value.targets=["FATHER","MOTHER"],f.value="",l.value=[],h.value=new Set,u.value="",await Promise.all([b(),m()])}return je(p),(K,M)=>{var xe,ge,G,z,ae,te,j;const H=Ps("router-link"),se=Ps("X");return v(),w("div",T7,[S(cs,{title:"  ",subtitle:"     ",icon:B(ar)},{actions:ne(()=>[S(H,{to:"/absences/daily"},{default:ne(()=>[S(me,{variant:"primary"},{default:ne(()=>[S(B($n),{class:"w-4 h-4 inline-block"}),M[11]||(M[11]=Q("    ",-1))]),_:1})]),_:1}),S(H,{to:"/absences"},{default:ne(()=>[S(me,{variant:"secondary"},{default:ne(()=>[S(B(ar),{class:"w-4 h-4 inline-block"}),M[12]||(M[12]=Q("   ",-1))]),_:1})]),_:1}),S(me,{variant:"primary",onClick:ee},{default:ne(()=>[S(B(Xt),{class:"w-4 h-4 inline-block"}),M[13]||(M[13]=Q("    ",-1))]),_:1})]),_:1},8,["icon"]),n.value?(v(),w("div",R7,$(n.value),1)):de("",!0),s.value?(v(),$e(Os,{key:1,message:" ..."})):de("",!0),d("div",D7,[d("div",P7,[M[14]||(M[14]=d("h3",{class:"font-semibold text-gray-700"},"  ",-1)),d("p",O7,$(((xe=e.value.today)==null?void 0:xe.absent_students)??0),1),d("p",N7,$(((ge=e.value.today)==null?void 0:ge.total_students)??0)+" ",1)]),d("div",I7,[M[15]||(M[15]=d("h3",{class:"font-semibold text-gray-700"},"  (7 )",-1)),d("p",L7,$((e.value.byDay||[]).slice(-7).reduce((A,O)=>A+(O.count||0),0)),1)]),d("div",F7,[M[16]||(M[16]=d("h3",{class:"font-semibold text-gray-700"},"  ",-1)),d("p",B7,$(C((G=e.value.today)==null?void 0:G.rate_percent)),1),d("p",V7,$(((z=e.value.today)==null?void 0:z.absent_students)??0)+" / "+$(((ae=e.value.today)==null?void 0:ae.total_students)??0),1)]),d("div",j7,[M[17]||(M[17]=d("h3",{class:"font-semibold text-gray-700"}," ",-1)),d("p",U7,$((e.value.byDay||[]).reduce((A,O)=>A+(O.count||0),0)),1)])]),d("div",z7,[d("div",H7,[d("div",W7,[M[18]||(M[18]=d("h3",{class:"font-semibold text-gray-700"}," ()",-1)),d("span",q7,$(C((te=e.value.today)==null?void 0:te.rate_percent)),1)]),S(mr,{labels:k.value.labels,data:k.value.data,height:260},null,8,["labels","data"])]),d("div",G7,[M[19]||(M[19]=d("h3",{class:"font-semibold text-gray-700 mb-3"}," ( 7 ) - ",-1)),S(Ei,{labels:x.value.labels,datasets:x.value.datasets,height:260},null,8,["labels","datasets"])])]),d("div",K7,[d("div",Y7,[M[20]||(M[20]=d("h3",{class:"font-semibold text-gray-700 mb-3"},"   ()",-1)),S(mr,{labels:T.value.labels,data:T.value.data,height:300},null,8,["labels","data"])]),d("div",J7,[M[21]||(M[21]=d("h3",{class:"font-semibold text-gray-700 mb-3"},"   ()",-1)),S(Ei,{labels:_.value.labels,datasets:_.value.datasets,height:300},null,8,["labels","datasets"])])]),d("div",X7,[M[22]||(M[22]=d("h3",{class:"font-semibold text-gray-700 mb-3"},"   ( 30 )",-1)),S(Ei,{labels:E.value.labels,datasets:E.value.datasets,height:320},null,8,["labels","datasets"]),M[23]||(M[23]=d("div",{class:"mt-4 text-sm text-gray-600"},[d("p",null,"           30     .")],-1))]),d("div",Q7,[M[24]||(M[24]=d("h3",{class:"font-semibold text-gray-700 mb-3"},"  ",-1)),(j=e.value.mostAbsent)!=null&&j.length?(v(),w("div",Z7,[(v(!0),w(be,null,ke(e.value.mostAbsent,A=>(v(),w("div",{key:A.massar_code,class:"flex justify-between"},[d("span",null,$(A.full_name)+" ("+$(A.massar_code)+")",1),d("span",eF,$(A.absence_count),1)]))),128))])):(v(),w("div",tF,"  "))]),a.value?(v(),w("div",{key:2,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:M[10]||(M[10]=gs(A=>a.value=!1,["self"]))},[d("div",sF,[d("div",nF,[M[26]||(M[26]=d("h3",{class:"text-lg font-bold"},"  ",-1)),S(me,{type:"button",variant:"secondary",onClick:M[0]||(M[0]=A=>a.value=!1)},{default:ne(()=>[S(se,{class:"w-4 h-4 inline-block"}),M[25]||(M[25]=Q("  ",-1))]),_:1})]),d("form",{onSubmit:gs(V,["prevent"]),class:"flex-1 min-h-0 flex flex-col"},[d("div",aF,[d("div",iF,[d("div",oF,[S(ze,{modelValue:i.value.date,"onUpdate:modelValue":M[1]||(M[1]=A=>i.value.date=A),type:"date",label:" ",onChange:g,required:""},null,8,["modelValue"]),S(mt,{modelValue:i.value.section,"onUpdate:modelValue":M[2]||(M[2]=A=>i.value.section=A),label:"",options:[{value:"",label:" "},...o.value.map(A=>({value:A,label:A}))],onChange:g,required:""},null,8,["modelValue","options"])]),u.value?(v(),w("div",rF,$(u.value),1)):de("",!0),d("div",lF,[S(ze,{modelValue:f.value,"onUpdate:modelValue":M[3]||(M[3]=A=>f.value=A),placeholder:"    ..."},null,8,["modelValue"]),M[30]||(M[30]=Q("\\n ",-1)),d("div",dF,[M[27]||(M[27]=d("span",{class:"text-gray-600"},"   ()",-1)),d("span",cF,$(h.value.size)+" ",1)]),d("div",uF,[S(me,{type:"button",variant:"secondary",size:"sm",onClick:q},{default:ne(()=>[S(B(zt),{class:"w-3.5 h-3.5 inline-block"}),M[28]||(M[28]=Q("   ",-1))]),_:1}),S(me,{type:"button",variant:"secondary",size:"sm",onClick:J},{default:ne(()=>[...M[29]||(M[29]=[Q("   ",-1)])]),_:1})]),i.value.section?c.value?(v(),w("div",hF," ...")):(v(),w("div",pF,[(v(!0),w(be,null,ke(R.value,A=>(v(),w("label",{key:A.id,class:"flex items-center gap-2 p-2 rounded hover:bg-gray-50"},[d("input",{type:"checkbox",checked:I(A.id),onChange:O=>P(Number(A.id))},null,40,gF),d("span",mF,$(A.full_name)+" ("+$(A.massar_code)+")",1),d("span",bF,$(A.class_name),1)]))),128)),R.value.length?de("",!0):(v(),w("div",vF,"  "))])):(v(),w("div",fF,"   "))])]),d("div",yF,[S(mt,{modelValue:i.value.template_id,"onUpdate:modelValue":M[4]||(M[4]=A=>i.value.template_id=A),label:"",options:[{value:"",label:" "},...r.value.map(A=>({value:String(A.id),label:`${A.title} (${A.category})`}))],onChange:U},null,8,["modelValue","options"]),d("div",null,[M[31]||(M[31]=d("label",{class:"label"}," ",-1)),Ce(d("textarea",{"onUpdate:modelValue":M[5]||(M[5]=A=>i.value.message=A),class:"input min-h-44",rows:"8",placeholder:"   ...",required:""},null,512),[[Ue,i.value.message]]),M[32]||(M[32]=d("p",{class:"text-xs text-gray-500 mt-1"}," : {name} {class} {level} {massar} {classNumber} {passMassar} {absence_date} {absence_hours}",-1))]),d("div",null,[M[36]||(M[36]=d("label",{class:"label"}," ",-1)),d("div",xF,[d("label",_F,[Ce(d("input",{type:"checkbox",value:"FATHER","onUpdate:modelValue":M[6]||(M[6]=A=>i.value.targets=A)},null,512),[[vt,i.value.targets]]),M[33]||(M[33]=d("span",null,"",-1))]),d("label",kF,[Ce(d("input",{type:"checkbox",value:"MOTHER","onUpdate:modelValue":M[7]||(M[7]=A=>i.value.targets=A)},null,512),[[vt,i.value.targets]]),M[34]||(M[34]=d("span",null,"",-1))]),d("label",wF,[Ce(d("input",{type:"checkbox",value:"GUARDIAN","onUpdate:modelValue":M[8]||(M[8]=A=>i.value.targets=A)},null,512),[[vt,i.value.targets]]),M[35]||(M[35]=d("span",null,"",-1))])])])])]),d("div",CF,[S(me,{type:"submit",variant:"primary",class:"flex-1",disabled:K.sending||!K.canSend,loading:K.sending},{default:ne(()=>[S(B(Xt),{class:"w-4 h-4 inline-block"}),Q(" "+$(K.sending?" ...":""),1)]),_:1},8,["disabled","loading"]),S(me,{type:"button",variant:"secondary",class:"flex-1",onClick:M[9]||(M[9]=A=>a.value=!1)},{default:ne(()=>[...M[37]||(M[37]=[Q("  ",-1)])]),_:1})])],32)])])):de("",!0)])}}},AF={class:"p-6 space-y-6",dir:"rtl"},EF={key:0,class:"flex items-center justify-between"},$F={class:"text-xl font-bold"},MF={class:"text-sm text-gray-600"},TF={class:"no-print flex items-center justify-end gap-2 flex-wrap"},RF={key:1,class:"rounded-xl border border-red-200 bg-red-50 p-3 text-red-700"},DF={key:2,class:"text-gray-500"},PF={class:"card p-4 space-y-3 print-area"},OF={class:"hidden print:block border-b pb-3 mb-3"},NF={class:"flex items-center justify-between gap-4"},IF={class:"flex items-center gap-3"},LF=["src"],FF={class:"leading-5"},BF={class:"font-bold"},VF={key:0,class:"text-right text-sm text-gray-700"},jF={key:0},UF={class:"overflow-auto border rounded"},zF={class:"min-w-full text-sm table-auto border border-slate-200 rounded-xl overflow-hidden bg-white shadow"},HF={class:"bg-slate-100 text-slate-700"},WF={class:"sticky left-0 z-10 bg-white border-b border-r p-2 font-medium"},qF=["title"],GF={key:0},KF={class:"card p-4"},YF={key:0,class:"space-y-2"},JF={class:"flex justify-between items-center gap-2"},XF={class:"font-medium"},QF={class:"text-sm text-gray-600"},ZF={class:"mt-2 flex flex-wrap gap-2"},e9={key:1,class:"text-gray-500"},t9={key:3,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 p-4 no-print"},s9={class:"flex items-center justify-between border-b p-4"},n9={class:"p-4 space-y-4"},a9={class:"text-sm text-slate-700"},i9={class:"grid grid-cols-1 sm:grid-cols-3 gap-2 text-sm"},o9={class:"flex items-center gap-2"},r9={class:"flex items-center gap-2"},l9={class:"flex items-center gap-2"},d9={class:"mt-3"},c9={class:"flex justify-end gap-2 border-t p-4"},u9={__name:"AbsenceStudent",setup(t){const s=la().params.studentId,n=D(null),a=D([]),i=D({}),o=D(!1),r=D(!1),l=D(!1),c=D(""),u=D(!1),f=D({FATHER:!0,MOTHER:!1,GUARDIAN:!0}),h=D("");async function p(){var G,z,ae,te;o.value=!0,c.value="";try{const[j,A]=await Promise.all([le.get(`/students/${s}`),le.get(`/absences/student/${s}`)]);n.value=j.data,a.value=A.data.data||[];const O={};for(const re of a.value){const ie=y(re.absence_date),N=Number(re.period_number),F=String(re.absence_type||"").toUpperCase();ie&&(O[ie]||(O[ie]={periods:new Set,hasJustified:!1,hasUnjustified:!1}),Number.isFinite(N)&&N>0&&O[ie].periods.add(N),F==="JUSTIFIED"&&(O[ie].hasJustified=!0),F==="UNJUSTIFIED"&&(O[ie].hasUnjustified=!0))}const X={};for(const[re,ie]of Object.entries(O))X[re]={hours:ie.periods.size,hasJustified:ie.hasJustified,hasUnjustified:ie.hasUnjustified};i.value=X}catch(j){if((z=(G=j.response)==null?void 0:G.data)!=null&&z.errors&&Array.isArray(j.response.data.errors)&&j.response.data.errors.length>0){const A=j.response.data.errors[0];c.value=`${j.response.data.message||""}: ${A.message}`}else c.value=((te=(ae=j==null?void 0:j.response)==null?void 0:ae.data)==null?void 0:te.message)||j.message||"  "}finally{o.value=!1}}function b(G){return String(G).padStart(2,"0")}function m(G){if(!G)return null;if(G instanceof Date)return Number.isNaN(G.getTime())?null:{year:G.getFullYear(),month:G.getMonth()+1,day:G.getDate()};const z=typeof G=="string"?G.trim():G&&typeof G.toISOString=="function"?G.toISOString():String(G),ae=/^(\d{4})-(\d{2})-(\d{2})$/.exec(z);if(ae){const j=Number(ae[1]),A=Number(ae[2]),O=Number(ae[3]);if(Number.isFinite(j)&&Number.isFinite(A)&&Number.isFinite(O)&&A>=1&&A<=12&&O>=1&&O<=31)return{year:j,month:A,day:O}}const te=new Date(z);return Number.isNaN(te.getTime())?null:{year:te.getFullYear(),month:te.getMonth()+1,day:te.getDate()}}function g(G){const z=m(G);if(!z)return null;const ae=new Date(Date.UTC(z.year,z.month-1,z.day));return Number.isNaN(ae.getTime())?null:ae}function y(G){const z=m(G);return z?`${z.year}-${b(z.month)}-${b(z.day)}`:""}function C(G){if(!G)return"";const z=y(G),ae=g(z);return ae?ae.toLocaleDateString("ar-MA"):""}function k(){return{start_year:_(),landscape:1,single:1,single_table:1}}const x={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",10:"",11:"",12:""};function _(){const G=new Date,z=G.getMonth()+1,ae=G.getFullYear();return z>=9?ae:ae-1}function T(G,z){return new Date(G,z,0).getDate()}function E(G,z,ae){return`${G}-${b(z)}-${b(ae)}`}const R=Array.from({length:31},(G,z)=>z+1),I=he(()=>{const G=_(),z=[];for(let ae=9;ae<=12;ae++)z.push({year:G,month:ae});for(let ae=1;ae<=6;ae++)z.push({year:G+1,month:ae});return z.map(ae=>({...ae,label:`${x[ae.month]} ${ae.year}`,days:T(ae.year,ae.month)}))});function P(G){var z;return Number(((z=i.value[G])==null?void 0:z.hours)||0)}function q(G,z){if(z>G.days)return null;const ae=E(G.year,G.month,z);return P(ae)}function J(G,z){if(z>G.days)return null;const ae=E(G.year,G.month,z),te=i.value[ae];return te?te.hasUnjustified?"UNJUSTIFIED":te.hasJustified?"JUSTIFIED":null:null}function U(G,z){return G?z==="JUSTIFIED"?G>=5?"bg-green-700":G>=3?"bg-green-600":"bg-green-500":G>=5?"bg-red-700":G>=3?"bg-red-600":"bg-red-500":"bg-white"}function V(G){return G?"text-white":"bg-white text-gray-700"}function ee(G){const z=new Set;for(const ae of G||[]){const te=Number(ae.period_number);Number.isFinite(te)&&te>0&&z.add(te)}return z.size||(G==null?void 0:G.length)||0}const K=he(()=>{const G={};for(const te of a.value){const j=y(te.absence_date);j&&(G[j]||(G[j]=[]),G[j].push(te))}const z=Object.keys(G).sort((te,j)=>te<j?-1:te>j?1:0),ae={};for(const te of z){const j=(G[te]||[]).slice().sort((A,O)=>{const X=Number(A.period_number)||0,re=Number(O.period_number)||0;return X-re});ae[te]=j}return ae});function M(G){return G?/^https?:\/\//i.test(G)?G:`http://localhost:3000${G}`:""}function H(){const G=le.defaults.baseURL||"http://localhost:3000/api",z=k(),ae=new URLSearchParams(z).toString(),te=`${G}/absences/student/${s}/pdf?${ae}`;window.open(te,"_blank","noopener")}function se(){f.value={FATHER:!0,MOTHER:!1,GUARDIAN:!0},h.value="",u.value=!0}async function xe(){var te,j,A;if(!n.value)return;const G=_(),z=[];f.value.FATHER&&z.push(n.value.father_phone),f.value.MOTHER&&z.push(n.value.mother_phone),f.value.GUARDIAN&&z.push(n.value.guardian_phone),String(h.value||"").trim()&&z.push(String(h.value||"").trim());const ae=Array.from(new Set(z.map(O=>O==null?"":String(O).trim()).filter(Boolean)));if(!ae.length){oe.showAlert("warning","","         .");return}l.value=!0;try{const O=`  (): ${n.value.full_name} (${G}/${G+1})`,X=await le.post(`/absences/student/${s}/pdf/send`,{start_year:G,phones:ae,caption:O}),ie=(Array.isArray((te=X.data)==null?void 0:te.results)?X.data.results:[]).filter(N=>N&&!N.error&&!N.skipped).length;oe.showAlert("success","",`   ${ie} ().`),u.value=!1}catch(O){oe.showAlert("error","",((A=(j=O==null?void 0:O.response)==null?void 0:j.data)==null?void 0:A.message)||O.message||" ")}finally{l.value=!1}}async function ge(){var G,z,ae,te;try{r.value=!0,c.value="";const j=await le.get(`/absences/student/${s}/pdf`,{params:k(),responseType:"blob"}),A=new Blob([j.data],{type:"application/pdf"}),O=URL.createObjectURL(A),X=document.createElement("a"),re=String(((G=n.value)==null?void 0:G.full_name)||"absence-card").replace(/[\\/:*?"<>|]+/g," ").trim();X.href=O,X.download=`absence-${re}.pdf`,document.body.appendChild(X),X.click(),X.remove(),URL.revokeObjectURL(O)}catch(j){const A=(z=j==null?void 0:j.response)==null?void 0:z.data;if(A&&typeof A=="object"&&typeof A.text=="function")try{const O=await A.text(),X=JSON.parse(O);c.value=(X==null?void 0:X.error)||(X==null?void 0:X.message)||O||"  PDF";return}catch{}c.value=((te=(ae=j==null?void 0:j.response)==null?void 0:ae.data)==null?void 0:te.message)||j.message||"  PDF"}finally{r.value=!1}}return je(p),je(()=>{yt.state.loaded||yt.loadPublic()}),(G,z)=>{var ae;return v(),w("div",AF,[n.value?(v(),w("div",EF,[d("h1",$F,"  : "+$(n.value.full_name),1),d("span",MF,$(n.value.massar_code),1)])):de("",!0),d("div",TF,[S(me,{disabled:o.value||r.value,onClick:ge,variant:"secondary"},{default:ne(()=>[S(B(sc),{class:"w-4 h-4 inline-block"}),z[7]||(z[7]=Q("  PDF ",-1))]),_:1},8,["disabled"]),S(me,{disabled:o.value||r.value,onClick:H,variant:"secondary"},{default:ne(()=>[S(B(Yg),{class:"w-4 h-4 inline-block"}),z[8]||(z[8]=Q("  ",-1))]),_:1},8,["disabled"]),S(me,{disabled:o.value||r.value||l.value,loading:l.value,onClick:se,variant:"primary"},{default:ne(()=>[S(B(Xt),{class:"w-4 h-4 inline-block"}),z[9]||(z[9]=Q("   ",-1))]),_:1},8,["disabled","loading"])]),c.value?(v(),w("div",RF,$(c.value),1)):de("",!0),o.value?(v(),w("div",DF," ...")):de("",!0),d("div",PF,[d("div",OF,[d("div",NF,[d("div",IF,[B(yt).state.site_logo_url?(v(),w("img",{key:0,src:M(B(yt).state.site_logo_url),class:"h-12 w-12 rounded-xl border bg-white object-cover",alt:"logo"},null,8,LF)):de("",!0),d("div",FF,[d("div",BF,$(B(yt).state.site_name),1),z[10]||(z[10]=d("div",{class:"text-sm text-gray-600"},"  ",-1))])]),n.value?(v(),w("div",VF,[d("div",null,[z[11]||(z[11]=d("span",{class:"font-semibold"},":",-1)),Q(" "+$(n.value.full_name),1)]),d("div",null,[z[12]||(z[12]=d("span",{class:"font-semibold"}," :",-1)),Q(" "+$(n.value.massar_code),1)]),d("div",null,[z[13]||(z[13]=d("span",{class:"font-semibold"},":",-1)),Q(" "+$(n.value.level),1)]),d("div",null,[z[14]||(z[14]=d("span",{class:"font-semibold"},":",-1)),Q(" "+$(n.value.class_name),1)]),n.value.class_number!==null&&n.value.class_number!==void 0?(v(),w("div",jF,[z[15]||(z[15]=d("span",{class:"font-semibold"},":",-1)),Q(" "+$(n.value.class_number),1)])):de("",!0)])):de("",!0)])]),z[17]||(z[17]=Qi('<div class="flex items-center justify-between gap-3 flex-wrap"><h3 class="font-semibold">  (  )</h3><div class="flex items-center gap-4 text-sm text-gray-600"><span class="inline-flex items-center gap-1"><span class="w-3 h-3 rounded bg-green-600 inline-block"></span><span> </span></span><span class="inline-flex items-center gap-1"><span class="w-3 h-3 rounded bg-red-600 inline-block"></span><span>  </span></span></div></div>',1)),d("div",UF,[d("table",zF,[d("thead",HF,[d("tr",null,[z[16]||(z[16]=d("th",{class:"sticky left-0 z-10 bg-gray-50 border-b border-r p-2 text-right w-44"},"",-1)),(v(!0),w(be,null,ke(B(R),te=>(v(),w("th",{key:te,class:"border-b border-r p-2 text-center font-semibold w-8"},$(te),1))),128))])]),d("tbody",null,[(v(!0),w(be,null,ke(I.value,te=>(v(),w("tr",{key:`${te.year}-${te.month}`,class:"hover:bg-gray-50/40"},[d("td",WF,$(te.label),1),(v(!0),w(be,null,ke(B(R),j=>(v(),w("td",{key:j,class:"border-b border-r p-1 text-center"},[q(te,j)!==null?(v(),w("div",{key:0,class:Ee(["rounded border border-gray-200 h-7 flex items-center justify-center",[V(q(te,j)),U(q(te,j),J(te,j))]]),title:q(te,j)?`${te.label} -1-  ${j}: ${q(te,j)} `:""},[q(te,j)?(v(),w("span",GF,$(q(te,j)),1)):de("",!0)],10,qF)):de("",!0)]))),128))]))),128))])])])]),d("div",KF,[z[18]||(z[18]=d("h3",{class:"font-semibold mb-4"}," ",-1)),Object.keys(K.value).length?(v(),w("div",YF,[(v(!0),w(be,null,ke(K.value,(te,j)=>(v(),w("div",{key:j,class:"border rounded p-3"},[d("div",JF,[d("span",XF,$(C(j)),1),d("span",QF,$(ee(te))+" ",1)]),d("div",ZF,[(v(!0),w(be,null,ke(te,A=>(v(),w("span",{key:A.id,class:Ee(["text-xs px-2 py-1 rounded border",A.absence_type==="JUSTIFIED"?"bg-green-50 border-green-200 text-green-900":"bg-red-50 border-red-200 text-red-900"])},"  "+$(A.period_number)+"  "+$(A.absence_type==="JUSTIFIED"?"":" "),3))),128))])]))),128))])):(v(),w("div",e9,"   ."))]),u.value?(v(),w("div",t9,[d("div",{class:"w-full max-w-lg rounded-2xl bg-white shadow-xl overflow-hidden",onClick:z[6]||(z[6]=gs(()=>{},["stop"]))},[d("div",s9,[z[19]||(z[19]=d("div",{class:"font-bold"},"   PDF",-1)),S(me,{variant:"secondary",size:"sm",onClick:z[0]||(z[0]=te=>u.value=!1),"aria-label":""},{default:ne(()=>[S(B(Ot),{class:"w-4 h-4 inline-block"})]),_:1})]),d("div",n9,[d("div",a9,[z[20]||(z[20]=Q(" : ",-1)),d("b",null,$((ae=n.value)==null?void 0:ae.full_name),1)]),d("div",null,[z[25]||(z[25]=d("div",{class:"text-sm text-slate-600 mb-2"}," ",-1)),d("div",i9,[d("label",o9,[Ce(d("input",{type:"checkbox","onUpdate:modelValue":z[1]||(z[1]=te=>f.value.FATHER=te)},null,512),[[vt,f.value.FATHER]]),z[21]||(z[21]=d("span",null,"",-1))]),d("label",r9,[Ce(d("input",{type:"checkbox","onUpdate:modelValue":z[2]||(z[2]=te=>f.value.MOTHER=te)},null,512),[[vt,f.value.MOTHER]]),z[22]||(z[22]=d("span",null,"",-1))]),d("label",l9,[Ce(d("input",{type:"checkbox","onUpdate:modelValue":z[3]||(z[3]=te=>f.value.GUARDIAN=te)},null,512),[[vt,f.value.GUARDIAN]]),z[23]||(z[23]=d("span",null,"",-1))])]),d("div",d9,[z[24]||(z[24]=d("label",{class:"text-sm text-slate-600"},"  ()",-1)),Ce(d("input",{"onUpdate:modelValue":z[4]||(z[4]=te=>h.value=te),class:"input mt-1 w-full",placeholder:"06..."},null,512),[[Ue,h.value]])])])]),d("div",c9,[S(me,{variant:"secondary",onClick:z[5]||(z[5]=te=>u.value=!1)},{default:ne(()=>[...z[26]||(z[26]=[Q("",-1)])]),_:1}),S(me,{variant:"primary",disabled:l.value,loading:l.value,onClick:xe},{default:ne(()=>[S(B(Xt),{class:"w-4 h-4 inline-block"}),Q(" "+$(l.value?"...":""),1)]),_:1},8,["disabled","loading"])])])])):de("",!0)])}}},f9={class:"p-6 space-y-4"},h9={class:"card p-6"},p9={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6"},g9=["max"],m9={class:"mt-2 text-sm text-slate-600"},b9={class:"font-semibold"},v9={key:0,class:"ml-3 text-sm text-red-600"},y9={key:1,class:"mr-2 text-xs text-slate-500"},x9={class:"relative"},_9=["disabled"],k9=["value"],w9={key:0},C9={key:0,class:"mt-2 text-xs text-slate-500"},S9={key:1,class:"mt-2 text-xs text-red-600"},A9={key:2,class:"mt-2 text-xs text-red-600"},E9={key:0,class:"text-center py-4"},$9={key:1,class:"overflow-x-auto"},M9={class:"min-w-full text-sm table-auto border border-slate-200 rounded-xl overflow-hidden bg-white shadow"},T9={class:"bg-slate-100 text-slate-700"},R9={class:"flex flex-col items-center gap-1 text-xs"},D9={class:"font-semibold"},P9={key:0,class:"text-xs text-gray-500"},O9={key:1,class:"text-xs text-green-700 font-semibold"},N9={class:"border border-gray-300 p-2 text-center"},I9={class:"border border-gray-300 p-2"},L9={class:"flex items-center justify-between gap-2"},F9={key:0,class:"text-xs px-2 py-1 rounded bg-gray-200 text-gray-700"},B9={class:"border border-gray-300 p-2 text-center"},V9=["onUpdate:modelValue","onChange"],j9=["checked","onChange","disabled"],U9={class:"mt-4 text-center"},z9={key:2,class:"text-center py-4 text-gray-500"},H9={__name:"DailyAbsence",setup(t){const e=D({date:new Date().toISOString().split("T")[0],section:""}),s=D(!1),n=D([]),a=D({}),i=D(!1),o=D(!1),r=D({}),l=D([]),c=D(new Set),u=D([]),f=[1,2,3,4,5,6,7,8],h=D([]),p=Array.from({length:8},(ge,G)=>({index:G+1,code:` ${G+1}`,start_time:"",end_time:"",order:G+1})),b=he(()=>{var te;const ge=Number(((te=r.value)==null?void 0:te.periods_count)||f.length),z=(h.value.length?[...h.value]:p).filter(j=>!!((j==null?void 0:j.Is_active)??(j==null?void 0:j.is_active)??1)).sort((j,A)=>(j.order??j.index??0)-(A.order??A.index??0)),ae=Math.min(Math.max(1,ge),z.length);return z.slice(0,ae).map((j,A)=>({index:Number.isFinite(Number(j.order))?Number(j.order):A+1,code:j.code||` ${A+1}`,time:j.time||(j.start_time&&j.end_time?`${j.start_time} - ${j.end_time}`:"")}))}),m=D({loading:!1,is_active:!0,day_name:"",day_order:null}),g=D({loading:!1,has_config:!1,allowed_numbers:[]}),y=he(()=>{const ge=e.value.section;return(u.value||[]).find(G=>G&&G.classe===ge)||null}),C=D(new Date().toISOString().split("T")[0]),k=he(()=>{try{return String(e.value.date)>String(C.value)}catch{return!1}});async function x(ge){var G,z,ae,te,j;m.value.loading=!0,m.value.is_active=!1,m.value.day_name="",m.value.day_order=null;try{const A=await le.get(`/settings/timetable/day-status?date=${ge}`);if(m.value.is_active=!!((G=A.data)!=null&&G.is_active),m.value.day_name=((z=A.data)==null?void 0:z.day_name)||"",m.value.day_order=typeof((ae=A.data)==null?void 0:ae.day_order)=="number"?A.data.day_order:null,!m.value.is_active){e.value.section="",n.value=[],a.value={};const O=m.value.day_name?`(${m.value.day_name})`:"";oe.warning("   ",`  ${O}     .`)}}catch(A){oe.error(((j=(te=A==null?void 0:A.response)==null?void 0:te.data)==null?void 0:j.message)||"    ")}finally{m.value.loading=!1}}const _=he(()=>m.value.is_active),T=he(()=>m.value.day_name||""),E=he(()=>!m.value.loading&&_.value&&!k.value);function R(){if(m.value.loading){oe.info(" ...","        .");return}if(!_.value){const ge=T.value?`(${T.value})`:"";oe.warning("   ",`  ${ge}     .`)}}function I(){var j;const ge=Number(((j=r.value)==null?void 0:j.periods_count)||8),z=(h.value.length?[...h.value]:[]).filter(A=>!!((A==null?void 0:A.Is_active)??(A==null?void 0:A.is_active)??1)).sort((A,O)=>(A.order??0)-(O.order??0)),ae=z.slice(0,Math.min(Math.max(1,ge),z.length)),te=new Map;return ae.forEach((A,O)=>{A&&A.id&&te.set(Number(A.id),Number.isFinite(Number(A.order))?Number(A.order):O+1)}),te}function P(ge){const G=Number(ge);return!Number.isFinite(G)||G<=0?!1:g.value.has_config?(g.value.allowed_numbers||[]).includes(G):!1}async function q(){var G,z,ae,te;const ge=y.value;if(!ge||!e.value.date){g.value={loading:!1,has_config:!1,allowed_numbers:[]};return}g.value.loading=!0,g.value.has_config=!1,g.value.allowed_numbers=[];try{const j=ge.cycle||"";if(!j){oe.warning("","      (cycle)   .");return}const A=await le.get("/settings/timetable/study-periods/status",{params:{date:e.value.date,cycle:j}}),O=Array.isArray((G=A.data)==null?void 0:G.periods)?A.data.periods:[];if(!(!!((z=A.data)!=null&&z.has_config)&&O.length>0)){g.value.has_config=!1,g.value.allowed_numbers=[],oe.warning("   ","         ."),n.value=[],a.value={};return}const re=I(),ie=[];for(const N of O){const F=re.get(Number(N.period_id));F&&ie.push(F)}g.value.has_config=!0,g.value.allowed_numbers=Array.from(new Set(ie)).sort((N,F)=>N-F)}catch(j){oe.error(((te=(ae=j==null?void 0:j.response)==null?void 0:ae.data)==null?void 0:te.message)||"   ")}finally{g.value.loading=!1}}async function J(){var ge;try{const G=await le.get("/settings/timetable/classes/active");u.value=Array.isArray((ge=G.data)==null?void 0:ge.data)?G.data.data:[]}catch(G){console.error(G)}}async function U(){var ge;try{const G=await le.get("/settings/public");r.value=G.data,h.value=Array.isArray((ge=G.data)==null?void 0:ge.timetable_periods)?G.data.timetable_periods:[];const ae=(b.value||[]).map(te=>Number(te.index)).filter(te=>Number.isFinite(te)&&te>0);ae.length&&f.splice(0,f.length,...ae)}catch(G){console.error(G)}}async function V(){var G,z;const ge=y.value;if(!ge||!e.value.date){l.value=[],c.value=new Set;return}try{console.log("Loading schedule for class:",ge.id,"date:",e.value.date);const ae=await le.get(`/timetable-admin/class/${ge.id}/schedule`,{params:{date:e.value.date}});l.value=Array.isArray((G=ae.data)==null?void 0:G.data)?ae.data.data:[],console.log("Class schedule loaded:",l.value);const te=new Set;l.value.forEach(j=>{j.teacher_id&&j.period_number&&(te.add(Number(j.period_number)),console.log("Added period:",j.period_number,"teacher:",j.teacher_name))}),c.value=te,console.log("Assigned periods:",Array.from(c.value))}catch(ae){console.error("Failed to load class schedule:",ae),console.error("Error details:",(z=ae.response)==null?void 0:z.data),l.value=[],c.value=new Set}}async function ee(){if(e.value.section){if(k.value){n.value=[],a.value={},oe.warning("","     .");return}if(!_.value){n.value=[],a.value={},oe.warning("","        .");return}if(g.value.loading){oe.info(" ...","     .");return}if(g.value.has_config){i.value=!0;try{await V();const ge={class:e.value.section};s.value||(ge.status="ACTIVE");const G=await le.get("/students",{params:ge});n.value=G.data.data||[];const z=await le.get("/absences/table",{params:{date:e.value.date,section:e.value.section,include_inactive:s.value?1:0}});a.value={},z.data.data.forEach(ae=>{a.value[ae.student_id]={absenceType:"UNJUSTIFIED",...ae.periods};const te=Object.values(ae.periods).filter(j=>j);te.length>0&&(a.value[ae.student_id].absenceType=te[0])}),n.value.forEach(ae=>{a.value[ae.id]||(a.value[ae.id]={absenceType:"UNJUSTIFIED"})})}catch{oe.error("     ")}finally{i.value=!1}}}}function K(ge,G){if(!P(G))return;a.value[ge]||(a.value[ge]={absenceType:"UNJUSTIFIED"}),a.value[ge][G]?a.value[ge][G]=null:a.value[ge][G]=a.value[ge].absenceType||"UNJUSTIFIED"}function M(ge,G){const z=G.target.value;a.value[ge]||(a.value[ge]={}),a.value[ge].absenceType=z,f.forEach(ae=>{a.value[ge][ae]&&(a.value[ge][ae]=z)})}function H(ge){return c.value.has(Number(ge))}function se(ge){return l.value.find(z=>Number(z.period_number)===Number(ge))||null}async function xe(){var G,z;if(!e.value.date||!e.value.section){oe.error("   ");return}if(k.value){oe.error("   ");return}const ge=n.value.map(ae=>{const te={...a.value[ae.id]||{}};delete te.absenceType;for(const j of Object.keys(te)){const A=Number(j);P(A)||delete te[j]}return{student_id:ae.id,periods:te}});console.log("Sending absences data:",{date:e.value.date,section:e.value.section,absences:ge}),o.value=!0;try{await le.post("/absences/table",{date:e.value.date,section:e.value.section,absences:ge}),oe.success("  ")}catch(ae){oe.error(((z=(G=ae==null?void 0:ae.response)==null?void 0:G.data)==null?void 0:z.message)||"   ")}finally{o.value=!1}}return je(async()=>{await U(),await J(),await x(e.value.date),await q()}),qe(()=>e.value.date,async ge=>{await x(ge),await q(),e.value.section&&await ee()}),qe(()=>e.value.section,async()=>{await q(),await ee()}),(ge,G)=>(v(),w("div",f9,[G[10]||(G[10]=d("h1",{class:"text-xl font-bold"},"  ",-1)),d("div",h9,[d("div",p9,[d("div",null,[G[3]||(G[3]=d("label",{class:"label"},"",-1)),Ce(d("input",{"onUpdate:modelValue":G[0]||(G[0]=z=>e.value.date=z),type:"date",class:"input",max:C.value},null,8,g9),[[Ue,e.value.date]]),d("div",m9,[G[2]||(G[2]=d("span",null,": ",-1)),d("span",b9,$(T.value||""),1),k.value?(v(),w("span",v9,"        ")):de("",!0),d("span",{class:Ee(["mr-2 inline-flex items-center rounded-full px-2 py-0.5 text-xs",_.value?"bg-green-100 text-green-700":"bg-red-100 text-red-700"])},$(_.value?"":" "),3),m.value.loading?(v(),w("span",y9," ...")):de("",!0)])]),d("div",null,[G[5]||(G[5]=d("label",{class:"label"},"",-1)),d("div",x9,[Ce(d("select",{"onUpdate:modelValue":G[1]||(G[1]=z=>e.value.section=z),class:"input",disabled:!E.value},[G[4]||(G[4]=d("option",{value:""}," ",-1)),(v(!0),w(be,null,ke(u.value,z=>(v(),w("option",{key:z.id,value:z.classe},[Q($(z.classe)+" ",1),z.level?(v(),w("span",w9,"- "+$(z.level),1)):de("",!0)],8,k9))),128))],8,_9),[[Ye,e.value.section]]),E.value?de("",!0):(v(),w("div",{key:0,class:"absolute inset-0 cursor-not-allowed rounded",onClick:R,title:"  "}))]),m.value.loading||g.value.loading?(v(),w("div",C9,"      ... ")):_.value?e.value.section&&!g.value.has_config?(v(),w("div",A9,"         . ")):de("",!0):(v(),w("div",S9,"         . "))])]),i.value?(v(),w("div",E9,"  ...")):n.value.length?(v(),w("div",$9,[d("table",M9,[d("thead",T9,[d("tr",null,[G[6]||(G[6]=d("th",{class:"border border-gray-300 p-2"},"",-1)),G[7]||(G[7]=d("th",{class:"border border-gray-300 p-2"}," ",-1)),G[8]||(G[8]=d("th",{class:"border border-gray-300 p-2"}," ",-1)),(v(!0),w(be,null,ke(b.value,z=>{var ae;return v(),w("th",{key:z.index,class:Ee(["border border-gray-300 p-2",[P(z.index)?"":"opacity-50 bg-gray-100",H(z.index)&&P(z.index)?"bg-green-100":""]])},[d("div",R9,[d("span",D9,$(z.code),1),z.time?(v(),w("span",P9,$(z.time),1)):de("",!0),H(z.index)&&P(z.index)?(v(),w("span",O9,$(((ae=se(z.index))==null?void 0:ae.subject_name)||""),1)):de("",!0)])],2)}),128))])]),d("tbody",null,[(v(!0),w(be,null,ke(n.value,z=>(v(),w("tr",{key:z.id,class:"hover:bg-gray-50"},[d("td",N9,$(z.class_number||n.value.indexOf(z)+1),1),d("td",I9,[d("div",L9,[d("span",null,$(z.full_name),1),z.is_active===!1?(v(),w("span",F9)):de("",!0)])]),d("td",B9,[Ce(d("select",{"onUpdate:modelValue":ae=>a.value[z.id].absenceType=ae,class:"input text-sm w-full",onChange:ae=>M(z.id,ae)},[...G[9]||(G[9]=[d("option",{value:"UNJUSTIFIED"}," ",-1),d("option",{value:"JUSTIFIED"},"",-1)])],40,V9),[[Ye,a.value[z.id].absenceType]])]),(v(),w(be,null,ke(f,ae=>{var te,j;return d("td",{key:ae,class:"border border-gray-300 p-2 text-center"},[d("input",{type:"checkbox",checked:((te=a.value[z.id])==null?void 0:te[ae])!==null&&((j=a.value[z.id])==null?void 0:j[ae])!==void 0,onChange:A=>K(z.id,ae),disabled:!P(ae),class:"w-4 h-4"},null,40,j9)])}),64))]))),128))])]),d("div",U9,[S(me,{onClick:xe,disabled:o.value,loading:o.value,variant:"primary"},{default:ne(()=>[S(B(is),{class:"w-4 h-4 inline-block"}),Q(" "+$(o.value?" ...":" "),1)]),_:1},8,["disabled","loading"])])])):e.value.section?(v(),w("div",z9,"       ")):de("",!0)])]))}},W9={class:"p-6 space-y-4",dir:"rtl"},q9={class:"no-print flex items-start justify-between gap-3"},G9={class:"flex items-center gap-2"},K9={class:"no-print card p-4 space-y-3"},Y9={class:"grid grid-cols-1 md:grid-cols-4 gap-3"},J9=["value"],X9={class:"flex items-center justify-between gap-2"},Q9={class:"text-sm text-slate-600"},Z9={class:"flex items-center gap-2"},eB={key:0,class:"rounded-xl border border-red-200 bg-red-50 p-3 text-red-700"},tB={key:1,class:"text-slate-500"},sB={key:2,class:"overflow-x-auto"},nB={class:"w-full border-collapse"},aB={class:"border p-2 text-center"},iB=["checked","onChange"],oB={class:"border p-2"},rB={class:"border p-2"},lB={class:"border p-2 text-center"},dB={class:"border p-2 text-center"},cB={class:"border p-2 text-center"},uB={class:"border p-2 text-center"},fB={class:"border p-2"},hB={__name:"AbsenceNoticesPrint",setup(t){const e=D({date:new Date().toISOString().slice(0,10),section:"",min_days:7}),s=D(!1),n=D([]),a=D(!1),i=D(""),o=D([]),r=D(0),l=D(new Set),c=D(!1);function u(_){if(!_)return"";try{return new Date(`${_}T00:00:00`).toLocaleDateString("ar-MA")}catch{return _}}function f(_){return _===1?"  (7 )":_===2?"  (14 )":_===3?"  (21 )":_===4?"  (31 )":" "}async function h(){var _,T;try{const E=await le.get("/students",{params:{limit:1}});n.value=((T=(_=E.data)==null?void 0:_.options)==null?void 0:T.classes)||[]}catch{n.value=[]}}async function p(){var _,T,E;a.value=!0,i.value="",o.value=[],l.value=new Set;try{const R=await le.get("/absences/notices/candidates",{params:{date:e.value.date,section:e.value.section||void 0,min_days:e.value.min_days||7,include_inactive:s.value?1:0}});o.value=((_=R.data)==null?void 0:_.data)||[]}catch(R){i.value=((E=(T=R==null?void 0:R.response)==null?void 0:T.data)==null?void 0:E.message)||R.message||"  "}finally{a.value=!1}}const b=he(()=>{const _=Number(r.value||0);return _?o.value.filter(T=>{var E;return Number((E=T==null?void 0:T.notice)==null?void 0:E.stage)===_}):o.value});function m(_){const T=new Set(l.value);T.has(_)?T.delete(_):T.add(_),l.value=T}function g(){var T;const _=new Set(l.value);for(const E of b.value)_.add(Number((T=E==null?void 0:E.student)==null?void 0:T.id));l.value=_}function y(){l.value=new Set}const C=he(()=>{const _=l.value;return _.size?b.value.filter(T=>{var E;return _.has(Number((E=T==null?void 0:T.student)==null?void 0:E.id))}):b.value});async function k(){var _,T;try{c.value=!0;const E=Array.from(l.value),R=await le.post("/absences/notices/pdf",{date:e.value.date,section:e.value.section||null,min_days:e.value.min_days||7,include_inactive:s.value?1:0,stage:r.value||0,student_ids:E.length?E:null},{responseType:"blob"}),I=new Blob([R.data],{type:"application/pdf"}),P=URL.createObjectURL(I);window.open(P,"_blank","noopener"),setTimeout(()=>URL.revokeObjectURL(P),3e4)}catch(E){i.value=((T=(_=E==null?void 0:E.response)==null?void 0:_.data)==null?void 0:T.message)||E.message||"  PDF"}finally{c.value=!1}}async function x(){var _,T;try{c.value=!0;const E=Array.from(l.value),R=await le.post("/absences/print-notices",{date:e.value.date,section:e.value.section||null,include_inactive:s.value?1:0,student_ids:E.length?E:null},{responseType:"blob"}),I=new Blob([R.data],{type:"application/pdf"}),P=URL.createObjectURL(I);window.open(P,"_blank","noopener"),setTimeout(()=>URL.revokeObjectURL(P),3e4)}catch(E){i.value=((T=(_=E==null?void 0:E.response)==null?void 0:_.data)==null?void 0:T.message)||E.message||"  PDF"}finally{c.value=!1}}return je(async()=>{yt.state.loaded||yt.loadPublic(),await h(),await p()}),(_,T)=>(v(),w("div",W9,[d("div",q9,[T[7]||(T[7]=d("div",null,[d("h1",{class:"text-xl font-bold"}," "),d("div",{class:"text-sm text-slate-600"},"    ")],-1)),d("div",G9,[S(me,{disabled:a.value,onClick:p,variant:"secondary"},{default:ne(()=>[S(B(ds),{class:"w-4 h-4 inline-block"}),T[4]||(T[4]=Q("  ",-1))]),_:1},8,["disabled"]),S(me,{disabled:a.value||c.value||!C.value.length,loading:c.value,onClick:k,variant:"primary"},{default:ne(()=>[S(B(as),{class:"w-4 h-4 inline-block"}),T[5]||(T[5]=Q(" PDF  ",-1))]),_:1},8,["disabled","loading"]),S(me,{disabled:a.value||c.value||!C.value.length,loading:c.value,onClick:x,variant:"secondary"},{default:ne(()=>[S(B(as),{class:"w-4 h-4 inline-block"}),T[6]||(T[6]=Q(" PDF   ",-1))]),_:1},8,["disabled","loading"])])]),d("div",K9,[d("div",Y9,[d("div",null,[T[8]||(T[8]=d("label",{class:"label"},"",-1)),Ce(d("input",{"onUpdate:modelValue":T[0]||(T[0]=E=>e.value.date=E),type:"date",class:"input",onChange:p},null,544),[[Ue,e.value.date]])]),d("div",null,[T[10]||(T[10]=d("label",{class:"label"},"",-1)),Ce(d("select",{"onUpdate:modelValue":T[1]||(T[1]=E=>e.value.section=E),class:"input",onChange:p},[T[9]||(T[9]=d("option",{value:""}," ",-1)),(v(!0),w(be,null,ke(n.value,E=>(v(),w("option",{key:E,value:E},$(E),9,J9))),128))],544),[[Ye,e.value.section]])]),d("div",null,[T[12]||(T[12]=d("label",{class:"label"},"  ",-1)),Ce(d("select",{"onUpdate:modelValue":T[2]||(T[2]=E=>e.value.min_days=E),class:"input",onChange:p},[...T[11]||(T[11]=[d("option",{value:7},"7",-1),d("option",{value:14},"14",-1),d("option",{value:21},"21",-1),d("option",{value:31},"31",-1)])],544),[[Ye,e.value.min_days,void 0,{number:!0}]])]),d("div",null,[T[14]||(T[14]=d("label",{class:"label"}," ",-1)),Ce(d("select",{"onUpdate:modelValue":T[3]||(T[3]=E=>r.value=E),class:"input"},[...T[13]||(T[13]=[d("option",{value:0},"",-1),d("option",{value:1}," 01",-1),d("option",{value:2}," 02",-1),d("option",{value:3}," ",-1),d("option",{value:4}," ",-1)])],512),[[Ye,r.value,void 0,{number:!0}]])])]),d("div",X9,[d("div",Q9,": "+$(b.value.length),1),d("div",Z9,[S(me,{disabled:!b.value.length,onClick:g,variant:"secondary",size:"sm"},{default:ne(()=>[S(B(P_),{class:"w-4 h-4 inline-block"}),T[15]||(T[15]=Q("   ",-1))]),_:1},8,["disabled"]),S(me,{disabled:!l.value.size,onClick:y,variant:"secondary",size:"sm"},{default:ne(()=>[S(B(O_),{class:"w-4 h-4 inline-block"}),T[16]||(T[16]=Q("   ",-1))]),_:1},8,["disabled"])])]),i.value?(v(),w("div",eB,$(i.value),1)):de("",!0),a.value?(v(),w("div",tB," ...")):(v(),w("div",sB,[d("table",nB,[T[17]||(T[17]=d("thead",null,[d("tr",{class:"bg-slate-50 text-slate-700"},[d("th",{class:"border p-2 w-10"}),d("th",{class:"border p-2 text-right"},""),d("th",{class:"border p-2 text-right"},""),d("th",{class:"border p-2"},""),d("th",{class:"border p-2"},""),d("th",{class:"border p-2"},""),d("th",{class:"border p-2"},"  "),d("th",{class:"border p-2 text-right"},"")])],-1)),d("tbody",null,[(v(!0),w(be,null,ke(b.value,E=>(v(),w("tr",{key:E.student.id,class:"hover:bg-slate-50"},[d("td",aB,[d("input",{type:"checkbox",checked:l.value.has(E.student.id),onChange:R=>m(E.student.id)},null,40,iB)]),d("td",oB,$(E.student.full_name),1),d("td",rB,$(E.student.class_name),1),d("td",lB,$(E.student.class_number??""),1),d("td",dB,$(E.student.massar_code),1),d("td",cB,$(E.streak.days),1),d("td",uB,$(u(E.streak.end)),1),d("td",fB,$(f(E.notice.stage)),1)]))),128))])])]))])]))}},pB=ca(hB,[["__scopeId","data-v-220b0a41"]]),gB=[{path:"/",redirect:"/dashboard"},{path:"/login",component:e7,meta:{public:!0}},{path:"/dashboard",component:_5,meta:{perm:"dashboard"}},{path:"/whatsapp",component:Gk,meta:{perm:"whatsapp"}},{path:"/students",component:GE,meta:{perm:"students"}},{path:"/students/stats",component:oT,meta:{perm:"students"}},{path:"/students/add",component:i$,meta:{perm:"students"}},{path:"/students/:id/edit",component:v$,meta:{perm:"students"}},{path:"/students/pass-massar",component:nM,meta:{perm:"passmassar"}},{path:"/teachers",component:OT,meta:{perm:"teachers"}},{path:"/teachers/add",component:HT,meta:{perm:"teachers"}},{path:"/teachers/:id/edit",component:QT,meta:{perm:"teachers"}},{path:"/campaigns",component:Z6,meta:{perm:"campaigns"}},{path:"/templates",component:wR,meta:{perm:"templates"}},{path:"/import",component:Ih,meta:{perm:"import"}},{path:"/absences",component:y7,meta:{perm:"absences"}},{path:"/absences/add",component:M7,meta:{perm:"absences"}},{path:"/absences/dashboard",component:SF,meta:{perm:"absences"}},{path:"/absences/print-notices",component:pB,meta:{perm:"absences"}},{path:"/absences/student/:studentId",component:u9,meta:{perm:"absences"}},{path:"/absences/daily",component:H9,meta:{perm:"absences"}},{path:"/users",component:QR,meta:{perm:"users"}},{path:"/settings",component:Ih,meta:{perm:"settings"}},{path:"/timetable/settings",component:bO,meta:{perm:"timetable"}},{path:"/timetable/planner",component:XO,meta:{perm:"timetable"}},{path:"/timetable/print",component:sI,meta:{perm:"timetable"}},{path:"/timetable/structure",component:BI,meta:{perm:"timetable"}},{path:"/timetable/assignments",component:DL,meta:{perm:"timetable"}},{path:"/profile",component:qL},{path:"/forbidden",component:n7,meta:{public:!0}}],vm=uy({history:z1(),routes:gB});vm.beforeEach(t=>t.meta.public?!0:ht.ensureReady().then(()=>{if(!ht.isAuthed())return{path:"/login",query:{next:t.fullPath}};const e=t.meta.perm;return e&&!ht.canAccess(e)?{path:"/forbidden",query:{next:t.fullPath}}:!0}));const mB={class:"fixed inset-0 z-[9999] flex items-center justify-center pointer-events-none"},bB={class:"flex-1"},vB={__name:"Toast",setup(t,{expose:e}){const s=D([]);let n=0;const a=(o,r="success")=>{const l=++n;s.value.push({id:l,message:o,type:r}),setTimeout(()=>{i(l)},5e3)},i=o=>{const r=s.value.findIndex(l=>l.id===o);r>-1&&s.value.splice(r,1)};return typeof window<"u"&&(window.showToast=(o,r="success")=>a(o,r)),e({addToast:a,removeToast:i}),(o,r)=>(v(),$e(Xi,{to:"body"},[d("div",mB,[S(ag,{name:"toast",tag:"div",class:"space-y-2"},{default:ne(()=>[(v(!0),w(be,null,ke(s.value,l=>(v(),w("div",{key:l.id,class:Ee(["flex items-center p-4 rounded-lg shadow-lg max-w-sm pointer-events-auto",l.type==="success"?"bg-green-500 text-white":"bg-red-500 text-white"])},[d("div",bB,$(l.message),1)],2))),128))]),_:1})])]))}},yB=ca(vB,[["__scopeId","data-v-4f5bdbaa"]]),Mc=n1(K2);Mc.use(vm);Mc.component("Toast",yB);od.load();Mc.mount("#app");
